(this["webpackJsonpmxh-frontend"]=this["webpackJsonpmxh-frontend"]||[]).push([[0],{314:function(e,t,n){},387:function(e,t,n){e.exports=n(868)},483:function(e,t,n){},484:function(e,t,n){},747:function(e,t,n){},778:function(e,t,n){},783:function(e,t,n){},785:function(e,t,n){},789:function(e,t){},790:function(e,t){},798:function(e,t){},800:function(e,t){},801:function(e,t){},802:function(e,t){},816:function(e,t){},818:function(e,t){},832:function(e,t){},857:function(e,t,n){},860:function(e,t,n){},864:function(e,t,n){},867:function(e,t,n){},868:function(e,t,n){"use strict";var c=this&&this.__awaiter||function(e,t,n,c){return new(n||(n=Promise))((function(s,a){function r(e){try{o(c.next(e))}catch(t){a(t)}}function i(e){try{o(c.throw(e))}catch(t){a(t)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}o((c=c.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,c,s,a,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,c&&(s=2&a[0]?c.return:a[0]?c.throw||((s=c.return)&&s.call(c),0):c.next)&&!(s=s.call(c,a[1])).done)return s;switch(c=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,c=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(s=(s=r.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(i){a=[6,i],c=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactMediaRecorder=t.useReactMediaRecorder=t.RecorderErrors=void 0;var a,r=n(2);function i(e){var t=this,n=e.audio,i=void 0===n||n,o=e.video,l=void 0!==o&&o,d=e.onStop,u=void 0===d?function(){return null}:d,j=e.blobPropertyBag,b=e.screen,m=void 0!==b&&b,h=e.mediaRecorderOptions,f=void 0===h?null:h,x=e.askPermissionOnMount,p=void 0!==x&&x,O=(0,r.useRef)(null),v=(0,r.useRef)([]),g=(0,r.useRef)(null),w=(0,r.useState)("idle"),y=w[0],N=w[1],k=(0,r.useState)(!1),S=k[0],C=k[1],T=(0,r.useState)(null),E=T[0],P=T[1],I=(0,r.useState)(null),A=I[0],D=I[1],M=(0,r.useState)("NONE"),R=M[0],L=M[1],F=(0,r.useCallback)((function(){return c(t,void 0,void 0,(function(){var e,t,n,c;return s(this,(function(s){switch(s.label){case 0:N("acquiring_media"),e={audio:"boolean"===typeof i?!!i:i,video:"boolean"===typeof l?!!l:l},s.label=1;case 1:return s.trys.push([1,8,,9]),m?[4,window.navigator.mediaDevices.getDisplayMedia({video:l||!0})]:[3,5];case 2:return(t=s.sent()).getVideoTracks()[0].addEventListener("ended",(function(){G()})),i?[4,window.navigator.mediaDevices.getUserMedia({audio:i})]:[3,4];case 3:s.sent().getAudioTracks().forEach((function(e){return t.addTrack(e)})),s.label=4;case 4:return g.current=t,[3,7];case 5:return[4,window.navigator.mediaDevices.getUserMedia(e)];case 6:n=s.sent(),g.current=n,s.label=7;case 7:return N("idle"),[3,9];case 8:return c=s.sent(),L(c.name),N("idle"),[3,9];case 9:return[2]}}))}))}),[i,l,m]);(0,r.useEffect)((function(){if(!window.MediaRecorder)throw new Error("Unsupported Browser");if(m&&!window.navigator.mediaDevices.getDisplayMedia)throw new Error("This browser doesn't support screen capturing");var e=function(e){var t=navigator.mediaDevices.getSupportedConstraints(),n=Object.keys(e).filter((function(e){return!t[e]}));n.length>0&&console.error("The constraints "+n.join(",")+" doesn't support on this browser. Please check your ReactMediaRecorder component.")};return"object"===typeof i&&e(i),"object"===typeof l&&e(l),f&&f.mimeType&&(MediaRecorder.isTypeSupported(f.mimeType)||console.error("The specified MIME type you supplied for MediaRecorder doesn't support this browser")),!g.current&&p&&F(),function(){g.current&&g.current.getTracks().forEach((function(e){return e.stop()}))}}),[i,m,l,F,f,p]);var B=function(e){var t=e.data;v.current.push(t)},z=function(){var e=v.current[0],t=Object.assign({type:e.type},j||(l?{type:"video/mp4"}:{type:"audio/mp3"})),n=new Blob(v.current,t),c=URL.createObjectURL(n);N("stopped"),P(c),D(n),u(c,n)},U=function(e){C(e),g.current&&g.current.getAudioTracks().forEach((function(t){return t.enabled=!e}))},G=function(){O.current&&"inactive"!==O.current.state&&(N("stopping"),O.current.stop(),g.current&&g.current.getTracks().forEach((function(e){return e.stop()})),v.current=[])};return{error:a[R],muteAudio:function(){return U(!0)},unMuteAudio:function(){return U(!1)},startRecording:function(){return c(t,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return L("NONE"),g.current?[3,2]:[4,F()];case 1:e.sent(),e.label=2;case 2:return g.current?g.current.getTracks().some((function(e){return"ended"===e.readyState}))?[4,F()]:[3,4]:[3,5];case 3:e.sent(),e.label=4;case 4:if(!g.current.active)return[2];O.current=new MediaRecorder(g.current),O.current.ondataavailable=B,O.current.onstop=z,O.current.onerror=function(){L("NO_RECORDER"),N("idle")},O.current.start(),N("recording"),e.label=5;case 5:return[2]}}))}))},pauseRecording:function(){O.current&&"recording"===O.current.state&&(N("paused"),O.current.pause())},resumeRecording:function(){O.current&&"paused"===O.current.state&&(N("recording"),O.current.resume())},stopRecording:G,mediaBlobUrl:E,mediaBlob:A,status:y,isAudioMuted:S,previewStream:g.current?new MediaStream(g.current.getVideoTracks()):null,previewAudioStream:g.current?new MediaStream(g.current.getAudioTracks()):null,clearBlobUrl:function(){E&&(URL.revokeObjectURL(E),D(null)),P(null),N("idle")}}}!function(e){e.AbortError="media_aborted",e.NotAllowedError="permission_denied",e.NotFoundError="no_specified_media_found",e.NotReadableError="media_in_use",e.OverconstrainedError="invalid_media_constraints",e.TypeError="no_constraints",e.NONE="",e.NO_RECORDER="recorder_error"}(a=t.RecorderErrors||(t.RecorderErrors={})),t.useReactMediaRecorder=i;t.ReactMediaRecorder=function(e){return e.render(i(e))}},869:function(e,t,n){},870:function(e,t,n){},871:function(e,t,n){},875:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(121),r=n.n(a),i=(n(314),n(3)),o=n(971),l=n(973),d=n(436),u=n(957),j=n(974),b=n(82),m=n(59),h=n(4),f=n.n(h),x=n(13),p=n(83),O=n(45),v=n(71),g=v.a().shape({fullname:v.c().required().min(5,"over 5 characters").max(30,"under 30 characters"),gender:v.c().required().oneOf(["female","male","other"],"required !"),email:v.c().email().required("required !"),password:v.c().required("required !").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"Password must more than 8 characters, included at least 1 Upcase and 1 Lowcase"),confirm:v.c().required().matches().oneOf([v.b("password"),null],"Password does not match !")}),w=v.a().shape({email:v.c().email().required("required !")}),y=v.a().shape({email:v.c().email().required("Required !"),password:v.c().required("Password required !").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"Password must more than 8 characters, included at least 1 Upcase and 1 Lowcase")}),N=v.a().shape({adminName:v.c().min(5,"over 5 characters !").required(),password:v.c().required().min(5,"over 5 characters !")}),k=v.a().shape({fullname:v.c().required("Not null").min(5,"over 5 characters !").max(30,"under 30 character!"),facebook:v.c().matches(/(?:https?:\/\/)?(?:www\.)?(mbasic.facebook|m\.facebook|facebook|fb)\.(com|me)\/(?:(?:\w\.)*#!\/)?(?:pages\/)?(?:[\w\-\.]*\/)*([\w\-\.]*)/,"Facebook likely https://www.facebook.com/page/"),story:v.c().min(0).max(150,"under 150 characters !"),phone:v.c().min(10,"Number invalid"),gender:v.c().required().oneOf(["female","male","other"],"Gender was not selected !")}),S=v.a().shape({oldpassword:v.c().required().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"Password must more than 8 characters, included at least 1 Upcase and 1 Lowcase"),password:v.c().required().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"Password must more than 8 characters, included at least 1 Upcase and 1 Lowcase"),confirm:v.c().required("H\xe3y x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u !").matches().oneOf([v.b("password"),null],"Password does not match !")}),C=v.a().shape({password:v.c().required().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/,"Password must more than 8 characters, included at least 1 Upcase and 1 Lowcase"),confirm:v.c().required("H\xe3y x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u !").matches().oneOf([v.b("password"),null],"Password does not match !")}),T=n(438),E=(n(747),n(132)),P=n.n(E),I="https://mxhld.herokuapp.com/v1",A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return P()({url:"".concat(I,"/").concat(e),method:t,data:n,params:c||null,headers:s?{Authorization:"Bearer ".concat(s),"Access-Control-Allow-Origin":"*"}:null})},D=function(e){return A("auth/send-verification-email","POST",null,null,e)},M=function(e){return A("auth/verify-email","POST",null,e,null)},R=function(e){return A("auth/forgot-password","POST",e)},L=function(e,t){return A("auth/reset-password","POST",t,e,null)},F=function(e){return A("auth/login","POST",e)},B=function(e){return A("auth/register","POST",{fullname:e.fullname,birthday:e.birthday,gender:e.gender,email:e.email,password:e.password})},z=function(e){return A("profile/".concat(e),"GET",e)},U=function(e,t){return A("profile/changeAvatar","PUT",t,null,e)},G=function(e,t){return A("profile/change-profile","PUT",t,null,e)},_=function(e){return A("auth/check-token","POST",null,null,e)},V=function(e,t){return A("profile/change-password","PUT",t,null,e)},W=function(e){return A("profile/get-summary/".concat(e),"GET")},H=function(e,t){return A("users?email=".concat(t),"GET",null,null,e)},Y=function(e,t){return A("find/user/".concat(t),"GET",null,null,e)},q=function(e,t,n,c){return A("find?fullname=".concat(t,"&page=").concat(n,"&limit=").concat(c),"GET",null,null,e)},K=function(e,t){return A("follow","PUT",{followingId:t},null,e)},J=n(64),Q=n.n(J),Z=(n(483),n(25)),X=n(896),$=n(972),ee=n(1);function te(e){return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"post-show fixed w-full h-full opacity-50 z-40 top-0 left-0 bottom-0 flex justify-center items-center",style:{background:"#fff"},children:Object(ee.jsx)("div",{className:" flex justify-center items-center justify-items-center rounded-full bg-none "})}),Object(ee.jsx)("div",{className:"fixed z-50 transform -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2",children:Object(ee.jsxs)(o.a,{sx:{position:"relative",display:"inline-flex"},children:[Object(ee.jsx)(X.a,Object(Z.a)({variant:"determinate"},e)),Object(ee.jsx)(o.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(ee.jsx)($.a,{variant:"caption",component:"div",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})})]})}function ne(e){var t=e.process,n=c.useState(0),s=Object(i.a)(n,2),a=s[0],r=s[1];return c.useEffect((function(){return r(t),function(){r(0)}}),[t]),Object(ee.jsx)(te,{value:a})}var ce=function(e){var t=e.process;return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"post-show opacity-50 fixed w-full h-screen z-40 top-0 left-0 flex justify-end items-start",style:{background:"#fff"},children:Object(ee.jsx)("div",{className:" flex justify-center items-center justify-items-center rounded-full bg-none "})}),Object(ee.jsx)("div",{className:"fixed z-50 transform -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2",children:t?Object(ee.jsx)(ne,{process:t}):Object(ee.jsx)("section",{className:"stage",children:Object(ee.jsx)("figure",{className:"ball bubble"})})})]})},se=["errors","touched"],ae=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,R(t);case 4:s(!1),Q.a.fire({icon:"success",title:"Verify code in your Email !",showConfirmButton:!1,timer:1500}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),s(!1),Q.a.fire({icon:"error",title:e.t0.response.data.message,showConfirmButton:!1,timer:1500});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{className:"container",children:[Object(ee.jsxs)(p.a,{children:[Object(ee.jsx)("title",{children:"Forgot password"}),Object(ee.jsx)("meta",{name:"description",content:"Helmet application"})]}),n&&Object(ee.jsx)(ce,{}),Object(ee.jsx)(O.d,{validationSchema:w,initialValues:{email:""},onSubmit:a,children:function(e){var t=e.errors,n=(e.touched,Object(m.a)(e,se));return Object(ee.jsxs)(O.c,{className:"py-16 flex flex-col justify-center items-center",children:[Object(ee.jsx)("img",{src:"/assets/access/Forgotpassword.svg",alt:"forgot",className:"w-32 hover:scale-150 transition-all duration-500 transform mx-auto"}),Object(ee.jsx)("h2",{className:"py-9 font-display font-bold text-2xl text-gray-700 text-center ",children:"Are you forgot password? Don't worry !"}),Object(ee.jsx)("div",{className:"customDate w-5/12",children:Object(ee.jsx)(O.b,{as:T.a,name:"email",placeholder:"Example@gmail.com",id:"outlined-basic",label:"email",variant:"outlined",error:t.email,helperText:Object(ee.jsx)(O.a,{name:"email",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})}),Object(ee.jsx)("button",{type:"submit",href:"#",className:"py-3 px-20 bg-primarycolor rounded-full text-white font-bold uppercase text-lg mt-4 transform hover:translate-y-1 transition-all duration-700",disabled:n.isSubmitting,children:n.isSubmitting?"Verifying your Email...":"Confirm"})]})}})]})},re=n(953),ie=n(954),oe=(n(778),n(980)),le=n(236),de=n(895),ue=n(613),je=n(961),be=n(966),me=(n(606),["type","payload"]),he={data:null,error:null},fe=function(e){return function(t){P()({url:"https://mxhld.herokuapp.com/v1/auth/logout",method:"POST",data:{refreshToken:e}}).then((function(e){t({type:"LOG_OUT"})})).catch((function(e){console.log(e)}))}},xe=function(e){return function(t){_(e).then((function(e){t({type:"UPDATE_USER",payload:e.data})})).catch((function(e){console.log("Error update account",e.response)}))}},pe=function(e){return{type:"LOGIN_SUCCESS",payload:e}},Oe=n(46),ve=n(19),ge="https://mxhld.herokuapp.com/v1",we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5?arguments[5]:void 0;return P()({url:"".concat(ge,"/").concat(e),method:t,data:n,params:c||null,headers:s?{Authorization:"Bearer ".concat(s)}:null,onUploadProgress:a})},ye=function(e,t,n){return A("message","POST",{conversationId:t,text:n},null,e)},Ne=function(e,t,n){return we("message/media","POST",t,null,e,n)},ke=function(e,t){return A("message/".concat(t,"?sortBy=createdAt:desc"),"GET",null,null,e)},Se=function(e,t){return A("conversation/private","POST",{userId:t},null,e)},Ce=function(e,t,n){return A("conversation?page=".concat(t,"&limit=").concat(n,"&sortBy=updatedAt:desc"),"GET",null,null,e)},Te=function(e,t){return A("message/like/".concat(t),"POST",null,null,e)},Ee=function(e,t){return A("message/love/".concat(t),"POST",null,null,e)},Pe=function(e,t,n){return A("message","PUT",{conversationId:t,messageId:n},null,e)},Ie=n(214),Ae=["type","payload"],De={data:[],next:[],pageNext:2,totalPages:0,totalResults:0,more:!0,error:null},Me=function(e,t,n){return function(c){Ce(e,t,n).then((function(e){c({type:"GET_SUCCES_CONVER",payload:e.data})})).catch((function(e){console.log("getConver",e)}))}},Re=function(e,t,n){return function(c){Ce(e,t,n).then((function(e){c({type:"ADD_MORE",payload:e.data})})).catch((function(e){console.log("getMoreConver",e)}))}},Le=function(e,t,n){return we("post/create-post-file","POST",t,null,e,n)},Fe=function(e,t,n){return we("post/create-post-text","POST",t,null,e,n)},Be=function(e,t,n){return A("post/get-my-post?page=".concat(t,"&limit=").concat(n,"&sortBy=createdAt:desc"),"GET",null,null,e)},ze=function(e,t){return A("post","DELETE",t,null,e)},Ue=function(e,t){return A("post/like","PUT",t,null,e)},Ge=function(e,t,n,c){return A("post?owner=".concat(t,"&page=").concat(n,"&limit=").concat(c,"&sortBy=createdAt:desc"),"GET",null,null,e)},_e=function(e,t,n){return A("comment?postId=".concat(e,"&page=").concat(t,"&limit=").concat(n,"&sortBy=createdAt:desc"),"GET")},Ve=function(e){return A("comment?postId=".concat(e,"&limit=",2,"&sortBy=createdAt:desc"),"Get")},We=function(e,t){return A("post/comment","PUT",t,null,e)},He=function(e,t,n){return A("notification?page=".concat(t,"&limit=").concat(n,"&sortBy=createdAt:desc"),"GET",null,null,e)},Ye=function(e){return A("notification","DELETE",null,null,e)},qe=function(e,t,n){return A("post","PUT",{postId:t,text:n},null,e)},Ke=["errors","touched"],Je=Object(je.a)((function(){return{label:{fontSize:"20px",color:"#f70714",fontWeight:"700"}}})),Qe=function(e){Object(c.useEffect)((function(){document.title="Vn-Social"}),[]);var t=Je(),n=Object(be.a)(["auth","tempTokens","tokens","rm_psw"]),s=Object(i.a)(n,3),a=s[0],r=s[1],o=s[2],l=Object(c.useState)(!1),d=Object(i.a)(l,2),u=d[0],j=d[1],h=Object(b.g)(),p=Object(c.useState)(!1),v=Object(i.a)(p,2),g=v[0],w=v[1],N=Object(c.useState)(!1),k=Object(i.a)(N,2),S=k[0],C=k[1],E=Object(c.useState)(!1),P=Object(i.a)(E,2)[1],I=Object(Oe.b)();Object(c.useEffect)((function(){return j(!!a.rm_psw),function(){j("")}}),[]);var A=a.rm_psw||{email:"",password:""},D=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),u?r("rm_psw",t):o("rm_psw"),e.prev=2,e.next=5,F(t);case 5:n=e.sent,I(pe(n.data.user)),I(Me(n.data.tokens.access.token,1,10)),w(!1),r("auth",n.data,{path:"/"}),console.log("user",a.tokens.access.token),"user"===n.data.user.role?h.replace("/user/home"):(console.log("admin"),h.replace("/admin")),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),w(!1),Q.a.fire({icon:"error",title:e.t0.response.data.message,showConfirmButton:!1,timer:1500});case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{className:"container",children:[g&&Object(ee.jsx)(ce,{}),Object(ee.jsx)(O.d,{validationSchema:y,initialValues:A,onSubmit:D,children:function(e){var n=e.errors;e.touched,Object(m.a)(e,Ke);return Object(ee.jsxs)(O.c,{className:"py-16 flex flex-col justify-center items-center",children:[Object(ee.jsx)("img",{src:"/assets/access/avatar.svg",alt:"avatar",className:"w-32 hover:scale-150 transition-all duration-500 transform mx-auto"}),Object(ee.jsx)("h2",{className:"py-9 font-display font-bold text-2xl text-gray-700 text-center ",children:"Welcome to Vn-Social"}),Object(ee.jsxs)("div",{className:"w-5/12",children:[Object(ee.jsx)("div",{className:" customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"email",id:"outlined-basic-email",label:"Email",type:"text",placeholder:"Example@gmail.com",variant:"outlined",error:!!n.email,helperText:Object(ee.jsx)(O.a,{name:"email",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})}),Object(ee.jsxs)("div",{className:"customDate",children:[Object(ee.jsx)(O.b,{as:T.a,type:S?"text":"password",name:"password",id:"outlined-basic-password",label:"Password",variant:"outlined",error:!!n.password,helperText:Object(ee.jsx)(O.a,{name:"password",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),onFocus:function(){return P(!0)},InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){C(!S)},children:S?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}}),Object(ee.jsx)(de.a,{className:t.label,name:"savePassword",control:Object(ee.jsx)(ue.a,{defaultChecked:!!a.rm_psw}),onChange:function(e){j(e.target.checked)},label:Object(ee.jsx)("span",{className:" text-red-500 font-bold text-md",children:"Remember account"}),labelPlacement:"end"})]})]}),Object(ee.jsx)("button",{type:"submit",href:"#",className:"py-3 px-20 bg-primarycolor rounded-full text-white font-bold uppercase text-lg mt-4 transform hover:translate-y-1 transition-all duration-700",children:"Login"})]})}})]})},Ze=n(959),Xe=n(955),$e=n(960),et=n(963),tt=n(967),nt=n(309),ct=n(951),st=(n(783),n(979)),at=n(130),rt=n.n(at),it=["errors","touched"],ot=function(){var e=Object(be.a)(["tempTokens"]),t=Object(i.a)(e,2)[1],n=Object(c.useState)({password:!1,confirm:!1}),s=Object(i.a)(n,2),a=s[0],r=s[1],o=Object(c.useState)({password:!1,confirm:!1}),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)(!1),h=Object(i.a)(j,2),v=h[0],w=h[1],y=Object(c.useState)(new Date((new Date).setUTCFullYear((new Date).getUTCFullYear()))),N=Object(i.a)(y,2),k=N[0],S=N[1],C=Object(c.useState)(!0),E=Object(i.a)(C,2),P=E[0],I=E[1],A=Object(b.g)(),D=function(){var e=Object(x.a)(f.a.mark((function e(n,c){var s,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=rt()(k).format("DD/MM/YYYY"),!P){e.next=5;break}return I(!0),c.setSubmitting(!1),e.abrupt("return");case 5:return n.birthday=s,w(!0),e.prev=7,e.next=10,B(n);case 10:return a=e.sent,w(!1),e.next=14,Q.a.fire({icon:"success",title:"Successfully",showConfirmButton:!1,timer:1500});case 14:t("tempTokens",a.data),A.replace("/send-email"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),w(!1),Q.a.fire({icon:"error",title:e.t0.response.data.message,showConfirmButton:!1,timer:1500});case 22:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{className:"container",children:[Object(ee.jsxs)(p.a,{children:[Object(ee.jsx)("title",{children:"Sign up"}),Object(ee.jsx)("meta",{name:"description",content:"Helmet application"})]}),v&&Object(ee.jsx)(ce,{}),Object(ee.jsxs)("div",{className:"flex flex-col items-center",children:[Object(ee.jsx)("h1",{className:"mb-2 text-2xl font-display font-bold text-primarycolor",children:"Create Your Account"}),Object(ee.jsx)(O.d,{initialValues:{fullname:"Dinh Long Nguyen",gender:"male",email:"vophuduc0702@gmail.com",password:"123456789Du",confirm:"123456789Du"},validationSchema:g,onSubmit:D,children:function(e){var t=e.errors,n=(e.touched,Object(m.a)(e,it));return Object(ee.jsxs)(O.c,{className:"w-3/6",children:[Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"fullname",id:"outlined-basic",label:"Fullname",variant:"outlined",error:!!t.fullname,helperText:Object(ee.jsx)(O.a,{name:"fullname",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})}),Object(ee.jsxs)("div",{className:"customDate",children:[Object(ee.jsx)(Xe.b,{dateAdapter:Ze.a,children:Object(ee.jsx)($e.a,{name:"dob",variant:"filled",openTo:"year",label:"Date of birth",value:k||"",views:["year","month","day"],onChange:function(e){return function(e){var t;if(S(e),!((null===(t=new Date)||void 0===t?void 0:t.getUTCFullYear())-(null===e||void 0===e?void 0:e.getUTCFullYear())<13))return I(!1),e;I(!0)}(e)},renderInput:function(e){return Object(ee.jsx)(T.a,Object(Z.a)({},e))}})}),P&&Object(ee.jsx)("div",{className:" ml-4 text-red-500 text-xs",children:"Over 13 years old !"})]}),Object(ee.jsxs)("div",{className:"mt-2",children:[Object(ee.jsxs)(nt.a,{component:"fieldset",children:[Object(ee.jsx)(ct.a,{component:"legend",children:"Gender"}),Object(ee.jsxs)(O.b,{as:tt.a,name:"gender",row:!0,"aria-label":"gender",children:[Object(ee.jsx)(de.a,{value:"female",control:Object(ee.jsx)(et.a,{}),label:"Female"}),Object(ee.jsx)(de.a,{value:"male",control:Object(ee.jsx)(et.a,{}),label:"Male"}),Object(ee.jsx)(de.a,{value:"other",control:Object(ee.jsx)(et.a,{}),label:"Other"})]})]}),Object(ee.jsx)("div",{className:" ml-4",children:Object(ee.jsx)(st.a,{children:Object(ee.jsx)(O.a,{name:"gender",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})})]}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"email",error:!!t.email,placeholder:"Example@gmail.com",id:"outlined-basic",label:"Email",variant:"outlined",helperText:Object(ee.jsx)(O.a,{name:"email",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"password",error:!!t.password,type:a.password?"text":"password",id:"outlined-basic",label:"Password",variant:"outlined",onFocus:function(){u(Object(Z.a)(Object(Z.a)({},d),{},{password:!0}))},helperText:Object(ee.jsx)(O.a,{name:"password",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){r(Object(Z.a)(Object(Z.a)({},a),{},{password:!a.password}))},children:a.password?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}})}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"confirm",type:a.confirm?"text":"password",id:"outlined-basic",error:!!t.confirm,label:"Confirm Password",variant:"outlined",helperText:Object(ee.jsx)(O.a,{name:"confirm",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){r(Object(Z.a)(Object(Z.a)({},a),{},{confirm:!a.confirm}))},children:a.confirm?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}})}),Object(ee.jsx)("div",{className:"flex justify-center items-center",children:Object(ee.jsx)("button",{className:"py-3 px-20 bg-primarycolor rounded-full text-white font-bold uppercase text-lg mt-4 transform hover:translate-y-1 transition-all duration-700 items-center",style:{boxShadow:"0 0 10px 0 gray"},type:"submit",disabled:n.isSubmitting,children:n.isSubmitting?"Verifying...":"Sign up"})})]})}}),Object(ee.jsx)("div",{className:" h-10"})]})]})},lt=function(){var e=c.useState("1"),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(b.h)();return Object(c.useEffect)((function(){switch(document.title="Login to Vn-Social",a.pathname){case"/login":s("1");break;default:s("2")}}),[]),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("img",{src:"/assets/access/wave.png",alt:"waveimg",className:"fixed hidden lg:block inset-0 h-full",style:{zIndex:-1}}),Object(ee.jsxs)("div",{className:"wr-sceen h-screen flex flex-col justify-center items-center lg:grid lg:grid-cols-2",children:[Object(ee.jsx)("img",{src:"/assets/access/online.svg",alt:"online",className:"hidden lg:block  w-1/2 hover:scale-150 transition-all duration-500 transform mx-auto"}),Object(ee.jsx)("div",{className:"bg-white",children:Object(ee.jsx)(o.a,{sx:{width:"100%",typography:"body1"},children:Object(ee.jsxs)(d.a,{value:n,children:[Object(ee.jsx)(o.a,{sx:{},children:Object(ee.jsx)("div",{className:"flex justify-center items-center  justify-items-center",children:Object(ee.jsxs)(u.a,{onChange:function(e,t){s(t)},"aria-label":"lab API tabs example",children:[Object(ee.jsx)(l.a,{label:"SIGN IN",value:"1"}),Object(ee.jsx)(l.a,{label:"SIGN UP",value:"2"}),Object(ee.jsx)(l.a,{label:"FORGOT PASSWORD",value:"3"})]})})}),Object(ee.jsx)(j.a,{value:"1",children:Object(ee.jsx)(Qe,{})}),Object(ee.jsx)(j.a,{value:"2",children:Object(ee.jsx)(ot,{})}),Object(ee.jsx)(j.a,{value:"3",children:Object(ee.jsx)(ae,{})})]})})})]})]})},dt=n(53),ut=n(956),jt=n(47),bt=n(145),mt=n.n(bt),ht=n(23),ft=n(209),xt=n.n(ft),pt=n(983),Ot=n(235),vt=n(981),gt=n(984),wt=n(982),yt=function(e,t,n){Object(c.useEffect)((function(){var c=function(c){e.current&&e.current.contains(c.target)||t.current&&!t.current.contains(c.target)&&n()};return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[e,e,n])},Nt="CHANGE_DIALOG",kt="ACTION_DIALOG",St="ACTION_DIALOG2",Ct="CLOSE_ALL_DIALOG",Tt={showChange:!1,showAction:!1,data:null},Et=function(e,t){return{type:St,payload:{show:e,data:t}}},Pt=function(){return{type:Ct}},It=["children","onClose","onConfirm"],At=Object(ht.a)(ut.a)((function(e){return{"& .MuiDialogContent-root":{padding:e.theme.spacing(2),height:"450px"},"& .MuiPaper-root":{overflow:"hidden"}}})),Dt=function(e){var t=e.children,n=(e.onClose,e.onConfirm),c=Object(m.a)(e,It),s=Object(Oe.b)();return Object(ee.jsxs)(pt.a,Object(Z.a)(Object(Z.a)({sx:{m:0,p:2}},c),{},{children:[t,n?Object(ee.jsx)(le.a,{"aria-label":"close",onClick:function(){s(Pt())},sx:{position:"absolute",right:8,top:8,zIndex:30,color:function(e){return e.palette.grey[500]}},children:Object(ee.jsx)(xt.a,{})}):null]}))},Mt=function(e){var t=e.onClose,n=e.open,s=e.getFirstPage,a=e.getSummary,r=e.getUserPost,l=e.status,d=e.state,u=e.item,j=e.handleCloseCaro,b=Object(c.useState)([]),m=Object(i.a)(b,2),h=m[0],p=m[1],O=Object(c.useState)(!1),v=Object(i.a)(O,2),g=v[0],w=v[1],y=Object(c.useRef)(null),N=Object(c.useRef)(null),k=Object(Oe.c)((function(e){return e.auth.data})),S=Object(c.useState)(null),C=Object(i.a)(S,2),T=C[0],E=C[1],P=Object(c.useState)(),I=Object(i.a)(P,2),A=(I[0],I[1]),D=Object(c.useState)(!1),M=Object(i.a)(D,2),R=M[0],L=M[1],F=Object(c.useState)(!1),B=Object(i.a)(F,2),z=B[0],U=B[1],G=Object(be.a)("auth"),_=Object(i.a)(G,2)[0],V=Object(c.useState)(0),W=Object(i.a)(V,2),H=W[0],Y=(W[1],Object(Oe.b)());yt(N,y,(function(){return w(!1)})),Object(c.useEffect)((function(){p(null===l||void 0===l?void 0:l.text)}),[l]);var q=function(e,t){return!((null===e||void 0===e?void 0:e.length)>=1)},K=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),J(),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe(_.auth.tokens.access.token,null===l||void 0===l?void 0:l.id,h);case 3:if(U(!1),jt.c.success("Let's see your post \ud83d\ude00",{position:jt.c.POSITION.TOP_RIGHT,autoClose:1500,hideProgressBar:!0}),!r){e.next=10;break}return e.next=8,r();case 8:setTimeout((function(){a()}),1e3),j();case 10:if(!d){e.next=14;break}return e.next=13,r();case 13:setTimeout((function(){a()}),1e3);case 14:u&&s(),p(null),Y(Pt()),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(0),U(!1),jt.c.error("".concat(e.t0),{position:jt.c.POSITION.TOP_RIGHT,autoClose:2e3,hideProgressBar:!0}),Y(Pt()),j();case 25:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(jt.a,{transition:jt.b}),Object(ee.jsxs)(At,{maxWidth:"lg",height:"600px",open:n,"aria-labelledby":"customized-dialog-title",children:[Object(ee.jsxs)("div",{className:"z-50",children:[" ",z&&Object(ee.jsx)(ce,{process:H})]}),Object(ee.jsx)("div",{className:"right-1/2 left-1/2 top-1/2 absolute z-50 bg-green-700 cursor-pointer",children:Object(ee.jsxs)(ut.a,{open:R,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ee.jsx)(pt.a,{id:"alert-dialog-title",children:"Are you want sure to cancle ?"}),Object(ee.jsx)(vt.a,{children:Object(ee.jsx)(gt.a,{id:"alert-dialog-description"})}),Object(ee.jsxs)(wt.a,{children:[Object(ee.jsx)(Ot.a,{onClick:function(){L(!1),t()},children:"Close but save status"}),Object(ee.jsx)(Ot.a,{onClick:function(){E(null),A(null),p(null),L(!1),t()},variant:"contained",color:"error",children:"Close"}),Object(ee.jsx)(Ot.a,{onClick:function(){L(!1)},variant:"contained",color:"primary",children:"Back"})]})]})}),Object(ee.jsx)(Dt,{id:"customized-dialog-title",onConfirm:function(){L(!0)},children:Object(ee.jsxs)("div",{className:" z-30 flex justify-center items-center justify-items-center ",children:[Object(ee.jsx)("div",{className:"flex-1"}),Object(ee.jsx)("div",{className:"flex-none",children:Object(ee.jsx)("p",{className:"text-mygrey font-medium text-2xl",children:"Change your post"})}),Object(ee.jsx)("div",{className:"flex-1"})]})}),Object(ee.jsxs)("div",{className:"grid grid-cols-5 gap-0.5",children:[Object(ee.jsx)("div",{className:"".concat("video/mp4"===(null===T||void 0===T?void 0:T.type)&&"bg-black"," col-span-3 border-2 border-light-gray-700"),children:Object(ee.jsx)("div",{style:{width:"550px",height:"550px"},className:"flex justify-center items-center",children:function(){if(l){if("IMAGE"===(null===l||void 0===l?void 0:l.fileTypes))return Object(ee.jsx)("div",{className:"flex justify-center h-full",children:Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===l||void 0===l?void 0:l.file),alt:"userpost",className:"w-full object-cover "})});if("VIDEO"===(null===l||void 0===l?void 0:l.fileTypes))return Object(ee.jsx)("div",{style:{border:"1px solid #91a3b0"},className:"flex justify-center bg-black ",children:Object(ee.jsx)("video",{style:{height:"550px"},className:"w-full focus:outline-none",controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===l||void 0===l?void 0:l.file)})})});if("AUDIO"===(null===l||void 0===l?void 0:l.fileTypes))return Object(ee.jsx)("div",{className:"flex h-full w-full justify-center items-center bg-gradient-to-r from-green-400 via-yellow-500 to-pink-500",children:Object(ee.jsx)("audio",{className:"w-4/5 focus:outline-none",src:"https://mxhld.herokuapp.com/v1/file/".concat(null===l||void 0===l?void 0:l.file),controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===l||void 0===l?void 0:l.file)})})})}return Object(ee.jsx)("div",{className:"flex justify-center h-full",children:Object(ee.jsx)("img",{src:"/assets/image/no-pictures.png",alt:"userpost",className:"w-full object-cover p-24"})})}()})}),Object(ee.jsxs)("div",{className:"col-span-2 border-2 border-light-gray-700 divide-y-2",children:[Object(ee.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",padding:"5px"},children:[Object(ee.jsxs)("div",{className:"flex items-center mt-2 ",children:[Object(ee.jsx)("img",{className:"rounded-full h-10 w-10 mr-3",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===k||void 0===k?void 0:k.avatar),alt:""}),Object(ee.jsx)("div",{className:"flex-1 pr-4 flex items-center justify-between",children:Object(ee.jsx)(dt.b,{to:"/user/".concat(null===k||void 0===k?void 0:k.fullname.replaceAll(" ",".")),children:Object(ee.jsx)("p",{className:"font-bold text-md",children:"username"})})})]}),Object(ee.jsx)("textarea",{placeholder:"what are you thinking?",cols:"",rows:"8",className:" resize-none boder-2 mt-2 font-normal text-lg text-black focus:outline-none",value:h||"",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)>=2200||p(e.target.value)},maxLength:2200}),Object(ee.jsxs)("div",{className:"flex justify-between items-center",children:[Object(ee.jsx)("img",{className:"rounded w-7 h-7 cursor-pointer",src:"/assets/image/emoji.png",alt:"emokiimg",onClick:function(){return w(!g)},ref:N}),Object(ee.jsxs)("p",{className:"text-gray-400 text-xs font-semibold",children:[null===h||void 0===h?void 0:h.length,"/2,200"]})]}),g?Object(ee.jsx)("div",{ref:y,className:"absolute top-2/4 z-50 transform translate-y-20",children:Object(ee.jsx)(mt.a,{onEmojiClick:function(e,t){(null===h||void 0===h?void 0:h.length)>=2200||(p((function(e){return e+t.emoji})),w(!1))},disableSearchBar:!0,pickerStyle:{width:"100%"}})}):null]}),Object(ee.jsx)("div",{className:" flex p-2 mb-2",children:Object(ee.jsx)("button",{type:"button",className:"".concat(q(h)&&"opacity-25"," \n               w-full p-2 bg-primarycolor rounded-full text-white font-bold uppercase text-lg  transform hover:translate-y-1 transition-all duration-700"),disabled:q(h),onClick:function(){K()},children:"Edit"})})]})]})]})]})};function Rt(e){var t=e.onClose,n=e.open,s=e.state,a=e.item,r=e.getFirstPage,o=e.getUserPost,l=e.getSummary,d=e.handleCloseCaro,u=Object(be.a)("auth"),j=Object(i.a)(u,2)[0],b=Object(Oe.c)((function(e){return e.changePost})),m=Object(c.useState)(null),h=Object(i.a)(m,2),p=h[0],O=h[1],v=Object(Oe.b)(),g=Object(c.useState)(!1),w=Object(i.a)(g,2),y=w[0],N=w[1];Object(c.useEffect)((function(){return function(){O(null)}}),[]),Object(c.useEffect)((function(){k()}),[s,a]);var k=function(){O(a||s)},S=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,v(Pt()),jt.c.success(Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[Object(ee.jsx)("img",{className:"w-16 h-16",src:"/assets/image/phantich.gif",alt:"analyzing"}),Object(ee.jsx)("span",{className:" font-avatar text-xl",children:"Deleting"})]})}),{hideProgressBar:!0,position:jt.c.POSITION.TOP_RIGHT,theme:"light"}),e.next=6,ze(j.auth.tokens.access.token,{postId:null===p||void 0===p?void 0:p.id});case 6:if(N(!1),!s){e.next=12;break}return e.next=10,o();case 10:setTimeout((function(){l()}),1e3),d();case 12:if(!a){e.next=16;break}return e.next=15,r();case 15:setTimeout((function(){jt.c.success("Let see your Post \ud83d\ude0e !",{hideProgressBar:!0,position:jt.c.POSITION.TOP_RIGHT,theme:"light"})}),4e3);case 16:e.next=24;break;case 18:e.prev=18,e.t0=e.catch(1),t(),jt.c.error("".concat(e.t0),{position:jt.c.POSITION.TOP_RIGHT,autoClose:2e3,hideProgressBar:!0}),d(),N(!1);case 24:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)(ee.Fragment,{children:[y&&Object(ee.jsx)(jt.a,{transition:jt.b,icon:!1}),Object(ee.jsxs)(ut.a,{open:n,onClose:t,children:[Object(ee.jsx)(Mt,{open:b.showChange,status:p,getFirstPage:r,getUserPost:o,getSummary:o,handleCloseCaro:d}),Object(ee.jsxs)("div",{className:"w-64 divide-y divide-gray-300",children:[(null===p||void 0===p?void 0:p.user.userId)===j.auth.user.id&&Object(ee.jsxs)(ee.Fragment,{children:[s&&Object(ee.jsx)("div",{onClick:function(){return v({type:Nt,payload:!0})},className:" cursor-pointer bg-gradient-to-r py-2 px-4  hover:from-purple-400 hover:via-pink-500 hover:to-red-500 hover:text-white text-red-500 text-lg font-medium text-center",children:"Edit"}),Object(ee.jsx)("div",{onClick:function(){return S()},className:"cursor-pointer py-2 px-4  bg-gradient-to-r hover:from-purple-400 hover:via-pink-500 hover:to-red-500 hover:text-white text-red-500 text-lg font-medium text-center",children:"Delete"})]}),Object(ee.jsx)("div",{className:"cursor-pointer py-2 px-4  bg-gradient-to-r hover:from-purple-400 hover:via-pink-500 hover:to-red-500 hover:text-white text-red-500 text-lg font-medium text-center",children:"Report"}),Object(ee.jsx)("div",{onClick:function(){return v(Pt())},className:"  cursor-pointer py-2 px-4 bg-gradient-to-r hover:from-purple-400 hover:via-pink-500 hover:to-red-500 hover:text-white text-gray-700 text-lg font-medium text-center",children:"Cancle"})]})]})]})}var Lt=function(e){var t=e.item,n=Object(be.a)("auth"),c=Object(i.a)(n,2)[0],s=Object(Oe.b)();return Object(ee.jsxs)("div",{className:"grid grid-cols-2 pt-2 mb-2",children:[Object(ee.jsx)("div",{className:" relative flex h-4 p-4 py-6",children:Object(ee.jsxs)("div",{className:"flex items-center relative",children:[Object(ee.jsx)(dt.b,{to:(null===t||void 0===t?void 0:t.id)===(null===c||void 0===c?void 0:c.auth.user.id)?"/user/".concat(null===t||void 0===t?void 0:t.fullname.replaceAll(" ",".")):"/profile/user?id=".concat(null===t||void 0===t?void 0:t.id),children:Object(ee.jsx)("img",{className:"rounded-full h-12 w-12 flex mr-3 shadow-xl cursor-pointer ",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===t||void 0===t?void 0:t.user.avatar),alt:"avater"})}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(dt.b,{to:(null===t||void 0===t?void 0:t.user.userId)===c.auth.user.id?"/user/".concat(null===t||void 0===t?void 0:t.user.fullname.replaceAll(" ",".")):"/profile/user?id=".concat(null===t||void 0===t?void 0:t.user.userId),children:Object(ee.jsx)("p",{className:"font-medium text-base cursor-pointer",children:null===t||void 0===t?void 0:t.user.fullname})}),Object(ee.jsx)("p",{className:"text-gray-base  cursor-pointer",style:{fontSize:"0.7rem",lineHeight:"1rem"},children:rt()(null===t||void 0===t?void 0:t.createdAt).fromNow()})]})]})}),Object(ee.jsx)("div",{className:" flex justify-end mr-2 items-center",children:Object(ee.jsx)("div",{onClick:function(){s(Et(!0,t))},className:" font-black text-2xl cursor-pointer text-gray-400",children:"..."})})]})},Ft=n(69),Bt=(n(784),function(){return Object(ee.jsx)("div",{children:Object(ee.jsxs)("div",{className:" border w-full hover:shadow-none relative flex items-center rounded-md mx-auto shadow-lg m-2",children:[Object(ee.jsxs)("div",{className:"w-full flex m-3 ml-4 ",children:[Object(ee.jsx)(Ft.a,{circle:!0,height:55,width:55}),Object(ee.jsxs)("div",{className:" mt-1 ml-3 font-bold flex flex-col",children:[Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(Ft.a,{height:15,width:55})}),Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(Ft.a,{height:15,width:55})}),Object(ee.jsx)("div",{className:" mt-2",children:Object(ee.jsx)(Ft.a,{height:15,width:55})})]})]}),Object(ee.jsx)("div",{className:"flex space-x-0 mr-3",children:Object(ee.jsx)("div",{className:"h-8 w-8 flex items-center justify-center   cursor-pointer ",children:Object(ee.jsx)(Ft.a,{circle:!0,height:30,width:30})})})]})})}),zt=function(){return Object(ee.jsxs)("div",{className:"rounded col-span-4 border bg-white border-gray-primary mb-10 md:mr-16 sm:mr-1 lg:mr-0",children:[Object(ee.jsxs)("div",{className:"flex items-center m-3 ml-4 w-full",children:[Object(ee.jsx)(Ft.a,{circle:!0,height:55,width:55}),Object(ee.jsxs)("div",{className:" mt-1 ml-3 font-bold flex flex-col",children:[Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(Ft.a,{height:15,width:55})}),Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(Ft.a,{height:15,width:55})})]})]}),Object(ee.jsx)("div",{className:"mb-2",children:Object(ee.jsx)(Ft.a,{height:20,enableAnimation:!0})}),Object(ee.jsx)("div",{className:" mb-2",children:Object(ee.jsx)(Ft.a,{height:"480px",enableAnimation:!0})}),Object(ee.jsxs)("div",{className:"flex mb-2",children:[Object(ee.jsx)(Ft.a,{width:60,height:20,enableAnimation:!0}),Object(ee.jsx)("div",{className:"ml-2",children:Object(ee.jsx)(Ft.a,{width:60,height:20,enableAnimation:!0})})]}),Object(ee.jsx)("div",{className:"mb-2",children:Object(ee.jsx)(Ft.a,{width:60,height:20,enableAnimation:!0})}),Object(ee.jsx)("div",{className:"mb-2",children:Object(ee.jsx)(Ft.a,{width:60,height:20,enableAnimation:!0})})]})},Ut=function(){return Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(Ft.a,{height:"320px"})})},Gt=function(){return Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(Ft.a,{circle:!0,width:35,height:35})})},_t=function(){return Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(Ft.a,{circle:!0,width:44,height:44})})},Vt=function(){return Object(ee.jsx)("div",{className:"w-full xl:w-4/6 lg:w-4/6 md:w-full sm:w-full overflow-x-auto overflow-y-hidden shadow-2xl rounded-lg bg-white relative transform -translate-x-1/2 left-1/2",style:{top:"4.5rem"},children:Object(ee.jsxs)("div",{className:"grid grid-cols-3 pb-10",children:[Object(ee.jsx)("div",{className:"h-full flex justify-center justify-items-center",children:Object(ee.jsx)("div",{className:"py-5",children:Object(ee.jsx)(Ft.a,{circle:!0,width:170,height:170})})}),Object(ee.jsxs)("div",{className:"col-span-2  h-full object-fill",children:[Object(ee.jsx)("div",{className:"flex w-full items-center space-x-4 mt-5",children:Object(ee.jsx)(Ft.a,{width:150,height:20})}),Object(ee.jsx)("div",{className:"flex space-x-5 mt-5",children:Object(ee.jsx)(Ft.a,{width:100,height:20,count:3,inline:!0,style:{marginRight:"2rem"}})}),Object(ee.jsx)("div",{className:"h-full mt-5 mr-2",children:Object(ee.jsx)(Ft.a,{count:4,width:370})})]})]})})},Wt=function(){return Object(ee.jsxs)("div",{className:"ml-2 flex gap-2",children:[Object(ee.jsx)(Ft.a,{circle:!0,width:35,height:35}),Object(ee.jsx)(Ft.a,{width:"410px",height:35})]})},Ht=function(){return Object(ee.jsx)("div",{className:" h-full",children:Object(ee.jsx)(Ft.a,{height:"540px"})})},Yt=function(){return Object(ee.jsx)("div",{className:" h-full",children:Object(ee.jsx)(Ft.a,{height:"650px"})})},qt=function(){return Object(ee.jsx)("div",{className:" h-full",children:Object(ee.jsx)(Ft.a,{height:"500px",enableAnimation:!0})})},Kt=function(){return Object(ee.jsxs)("div",{className:" flex gap-2",children:[Object(ee.jsx)(Ft.a,{circle:!0,width:45,height:45}),Object(ee.jsxs)("div",{className:"mt-1",children:[Object(ee.jsx)(Ft.a,{width:200,height:15,borderRadius:20}),Object(ee.jsx)(Ft.a,{width:200,height:15,borderRadius:20})]})]})},Jt=function(e){var t=e.item,n=e.setPopup,s=e.popup,a=Object(c.useState)(!0),r=Object(i.a)(a,2),o=r[0],l=r[1];Object(c.useEffect)((function(){return d(),function(){clearTimeout(d),l(null)}}),[]);var d=function(){setTimeout((function(){l(!1)}),500)};return Object(ee.jsxs)("div",{children:[o&&Object(ee.jsx)(qt,{}),function(){if(t){if("IMAGE"===(null===t||void 0===t?void 0:t.fileTypes))return Object(ee.jsx)(ee.Fragment,{children:(null===t||void 0===t?void 0:t.file)&&Object(ee.jsx)("div",{className:"flex items-center justify-center cursor-pointer",style:{border:"1px solid #efefef"},onClick:function(){return n(Object(Z.a)(Object(Z.a)({},s),{},{isShow:!0}))},children:Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===t||void 0===t?void 0:t.file),alt:"userpost",height:"500"})})});if("VIDEO"===(null===t||void 0===t?void 0:t.fileTypes))return Object(ee.jsx)(ee.Fragment,{children:(null===t||void 0===t?void 0:t.file)&&Object(ee.jsx)("div",{className:"flex items-center justify-center cursor-pointer bg-black ",children:Object(ee.jsx)("video",{style:{width:"550px"},className:"w-full outline-none ",controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===t||void 0===t?void 0:t.file)})})})});if("AUDIO"===(null===t||void 0===t?void 0:t.fileTypes))return Object(ee.jsx)(ee.Fragment,{children:(null===t||void 0===t?void 0:t.file)&&Object(ee.jsx)("div",{onClick:function(){return n(Object(Z.a)(Object(Z.a)({},s),{},{isShow:!0}))},className:"flex items-center justify-center cursor-pointer ",children:Object(ee.jsx)("audio",{className:"w-4/5 mt-2 ",controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===t||void 0===t?void 0:t.file)})})})})}}()]})},Qt=function(e){var t=e.toggleCheck,n=e.setPopup,s=e.popup,a=e.item,r=Object(c.useState)(null===a||void 0===a?void 0:a.hasLike),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)(null===a||void 0===a?void 0:a.likes),j=Object(i.a)(u,2),b=j[0],m=j[1],h=Object(be.a)("auth"),p=Object(i.a)(h,2)[0],O=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!l),m((function(e){return l?e-1:e+1})),v();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){return new Promise((function(e,t){Ue(p.auth.tokens.access.token,{postId:null===a||void 0===a?void 0:a.id}).then((function(e){})).catch((function(e){console.log("errPromise",e)}))}))};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"flex justify-between px-4 py-2",children:Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsx)("button",{onClick:O,children:Object(ee.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",tabIndex:0,className:"".concat(l&&"fill-red text-red-primary","  fill-white text-black w-8 mr-2 cursor-pointer border-none focus:outline-none "),children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),Object(ee.jsx)("button",{onClick:function(){!0!==t&&n(Object(Z.a)(Object(Z.a)({},s),{},{isShow:!0}))},children:Object(ee.jsx)("svg",{className:"w-8 mr-1 text-black-light select-none cursor-pointer focus:outline-none",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",tabIndex:0,children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),Object(ee.jsx)("button",{children:Object(ee.jsx)("svg",{className:"w-8 mr-1 text-black-light select-none  cursor-pointer focus:outline-none",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 45 45 ",width:"22",fill:"none",stroke:"currentColor",children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:0,fill:"currentColor",d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"})})})]})}),Object(ee.jsx)("div",{className:"px-4 py-0",children:Object(ee.jsxs)("p",{className:" font-semibold",children:[b>=1e3?parseInt(b/1e3)+"K":b," ","likes"]})})]})},Zt=function(e){var t=e.setPopup,n=e.popup,c=e.item;return Object(ee.jsx)("div",{className:" px-4 py-2",children:(null===c||void 0===c?void 0:c.comments)>=1&&Object(ee.jsxs)("p",{className:"text-sm text-gray-base  cursor-pointer",onClick:function(){return t(Object(Z.a)(Object(Z.a)({},n),{},{isShow:!0}))},children:["View all ",null===c||void 0===c?void 0:c.comments," comments"]})})},Xt=function(e){var t=e.item,n=Object(c.useState)(!1),s=Object(i.a)(n,2),a=s[0],r=s[1],o=null===t||void 0===t?void 0:t.text;return Object(ee.jsx)("div",{children:Object(ee.jsx)("div",{className:"p-4 pt-2 pb-1",children:(null===o||void 0===o?void 0:o.length)>100?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("span",{className:" font-normal text-gray-700 text-base",children:a?o:o.substr(0,100)}),Object(ee.jsx)("span",{onClick:function(){r(!a)},className:" cursor-pointer ml-2 font-normal text-blue-700 text-sm",children:a?" show less":"...read more"})]}):Object(ee.jsx)("span",{className:" font-normal text-gray-700 text-base",children:o.substr(0,200)})})})},$t=(n(484),n(965)),en=function(e){var t=e.setyourComment,n=e.yourcomment,s=e.item,a=e.getTwoPage,r=Object(be.a)(["auth"]),o=Object(i.a)(r,2)[0],l=Object(c.useState)(""),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(c.useState)(""),m=Object(i.a)(b,2),h=m[0],p=(m[1],Object(c.useState)(!1)),O=Object(i.a)(p,2),v=O[0],g=O[1],w=Object(c.useRef)(null),y=Object(c.useRef)(null);yt(y,w,(function(){return g(!1)}));var N=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We(o.auth.tokens.access.token,{postId:null===s||void 0===s?void 0:s.id,text:u}).then((function(e){})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(x.a)(f.a.mark((function e(c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(Z.a)(Object(Z.a)({},n),{},{text:u,realtime:Object($t.a)()})),e.next=3,N();case 3:setTimeout(Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:case"end":return e.stop()}}),e)}))),1200),j(""),c.preventDefault();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(f.a.mark((function e(c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==c.keyCode||c.shiftKey){e.next=11;break}if(""!==u){e.next=5;break}return e.abrupt("return");case 5:t(Object(Z.a)(Object(Z.a)({},n),{},{text:c.target.value,realtime:Object($t.a)()})),N(),setTimeout(Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:case"end":return e.stop()}}),e)}))),1200),j(""),j(""),c.preventDefault();case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsx)("div",{className:"border-gray-primary mb-2",children:Object(ee.jsxs)("form",{className:"flex justify-between pl-0 pr-5 items-center",method:"POST",onSubmit:function(e){return h.length>=1?k(e):e.preventDefault()},children:[v?Object(ee.jsx)("div",{ref:w,className:"absolute transform -translate-y-2/3 mt-10",style:{width:"20%"},children:Object(ee.jsx)(mt.a,{onEmojiClick:function(e,t){(null===u||void 0===u?void 0:u.length)>=2200||(j((function(e){return e+t.emoji})),g(!1))}})}):null,Object(ee.jsx)("img",{className:"rounded w-6 h-6 mt-1  cursor-pointer",src:"/assets/image/emoji.png",alt:"emokiimg",onClick:function(){return g(!v)},ref:y}),Object(ee.jsx)("textarea",{cols:"",rows:"1",className:"border-2 rounded-md border-gray-200 ml-1 focus:outline-none relative break-words overflow-visible  mr-1 py-3 px-2 text-sm resize-none w-full mt-2 font-normal text-gray-base",value:u||"",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)>=2200||j(e.target.value)},maxLength:2200,placeholder:"Add a comment...",type:"text",autoComplete:"off",onKeyDown:S}),Object(ee.jsx)("button",{className:" text-base focus:outline-none font-bold text-blue-medium ".concat(!u&&"opacity-25"),type:"button",disabled:u.length<1,onClick:k,children:"Post"})]})})},tn=n(102),nn=function(){return Object(ee.jsx)("div",{children:Object(ee.jsxs)("div",{className:"lds-ellipsis",children:[Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{})]})})},cn=function(e){var t=e.item,n=Object(be.a)("auth"),s=Object(i.a)(n,2)[0],a=Object(c.useState)(!1),r=Object(i.a)(a,2),o=r[0],l=r[1],d=Object(c.useState)(!1),u=Object(i.a)(d,2),j=u[0],b=u[1],m=null===t||void 0===t?void 0:t.text;return Object(ee.jsxs)("div",{className:"flex px-2 mb-2",children:[Object(ee.jsx)(dt.b,{to:(null===t||void 0===t?void 0:t.id)===(null===s||void 0===s?void 0:s.auth.user.id)?"/user/".concat(null===t||void 0===t?void 0:t.fullname.replaceAll(" ",".")):"/profile/user?id=".concat(null===t||void 0===t?void 0:t.id),children:Object(ee.jsx)("img",{className:"rounded-full h-8 w-8 flex mt-1 cursor-pointer",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===t||void 0===t?void 0:t.user.avatar),alt:"userimg"})}),Object(ee.jsxs)("div",{className:"group flex items-center",children:[Object(ee.jsx)(Rt,{open:j,onClose:function(){b(!1)}}),Object(ee.jsx)("div",{className:"py-4 pl-1 pt-1 pb-1 flex items-center w-full ",children:Object(ee.jsx)("div",{className:" bg-gray-200 rounded-xl px-2",children:Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsx)("span",{className:"mr-1 font-medium block cursor-pointer",children:Object(ee.jsx)(dt.b,{to:(null===t||void 0===t?void 0:t.id)===(null===s||void 0===s?void 0:s.auth.user.id)?"/user/".concat(null===t||void 0===t?void 0:t.fullname.replaceAll(" ",".")):"/profile/user?id=".concat(null===t||void 0===t?void 0:t.id),children:null===t||void 0===t?void 0:t.user.fullname})}),(null===m||void 0===m?void 0:m.length)>100?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("span",{className:"font-normal  text-gray-700 text-base",children:o?m:m.substr(0,100)}),Object(ee.jsx)("span",{onClick:function(){l(!o)},className:" cursor-pointer ml-2 font-normal text-blue-700 text-sm",children:o?" show less":"...read more"})]}):Object(ee.jsx)("span",{className:"font-normal text-gray-700 text-base",children:null===m||void 0===m?void 0:m.substr(0,200)})]})})}),Object(ee.jsx)("div",{className:" flex items-center w-10 justify-center",children:Object(ee.jsx)("div",{onClick:function(){b(!j)},className:"hidden group-hover:flex justify-center items-center justify-items-center font-black cursor-pointer text-gray-700 rounded-full text-base",children:Object(ee.jsx)("p",{className:"",children:"..."})})})]})]},t.id)},sn=function(e){var t=e.comment,n=e.item,s=Object(Oe.c)((function(e){return e.auth.data})),a=Object(c.useState)([]),r=Object(i.a)(a,2),o=r[0],l=r[1],d=Object(c.useState)(!0),u=Object(i.a)(d,2),j=u[0],b=u[1],m=Object(c.useState)(2),h=Object(i.a)(m,2),p=h[0],O=h[1],v=Object(c.useState)(!0),g=Object(i.a)(v,2),w=g[0],y=g[1],N=Object(c.useState)(!1),k=Object(i.a)(N,2),S=k[0],C=k[1];Object(c.useEffect)((function(){var e={id:t.realtime,user:{fullname:null===s||void 0===s?void 0:s.fullname,avatar:null===s||void 0===s?void 0:s.avatar},text:t.text};t&&l([e].concat(Object(ve.a)(o)))}),[t.realtime]),Object(c.useEffect)((function(){return y(!0),setTimeout((function(){T()}),500),function(){return clearTimeout(T)}}),[]);var T=function(){_e(null===n||void 0===n?void 0:n.id,1,5).then((function(e){e&&l(e.data.results),e.data.totalResults||C(!0),y(!1),b(!0),O(2)})).catch((function(e){console.log(e),y(!1)}))},E=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){_e(null===n||void 0===n?void 0:n.id,p,5).then((function(t){t&&e(t.data.results)})).catch((function(e){console.log("errPromise",e),t(e)}))}));case 2:t=e.sent,l([].concat(Object(ve.a)(o),Object(ve.a)(t))),(0===t.length||t.length<5)&&b(!1),O(p+1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{children:[w&&function(){for(var e=[],t=0;t<=20;t++)e=[].concat(Object(ve.a)(e),[Object(ee.jsx)(Wt,{},t)]);return e}(),o.length>0&&Object(ee.jsx)(tn.a,{scrollableTarget:"scrollableDiv",dataLength:null===o||void 0===o?void 0:o.length,next:E,hasMore:j,loader:Object(ee.jsx)("div",{className:" flex justify-center",children:Object(ee.jsx)(nn,{})}),endMessage:Object(ee.jsx)("p",{className:"flex justify-center font-avatar text-lg",children:Object(ee.jsx)("b",{children:"Opp..! You have seen it all"})}),children:o&&o.map((function(e){return Object(ee.jsx)(cn,{item:e},e.id)}))}),S&&Object(ee.jsx)("div",{className:"flex justify-center items-center",children:Object(ee.jsx)("p",{className:"",children:"You have no Comments"})})]})},an=function(e){var t=e.setPopup,n=e.popup,s=e.item,a=e.getFirstPage,r=e.getTwoPage,o=Object(c.useState)(!1),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)({text:"",realtime:null}),b=Object(i.a)(j,2),m=b[0],h=b[1],f=Object(c.useState)(!0),x=Object(i.a)(f,2),p=x[0],O=x[1];Object(c.useEffect)((function(){return v(),function(){return clearTimeout(v)}}),[]);var v=function(){setTimeout((function(){O(!1)}),500)};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(Rt,{item:s,open:d,onClose:function(){u(!1)},getFirstPage:a,setPopup:t,popup:n}),Object(ee.jsx)("div",{className:"post-show fixed w-full h-screen opacity-80 z-40 top-0 left-0 flex justify-end items-start",style:{background:"#7d7d7d"},children:Object(ee.jsx)("div",{className:" flex justify-center items-center justify-items-center rounded-full bg-none ",children:Object(ee.jsx)("i",{className:"fas fa-times fa-2x cursor-pointer mr-4",style:{color:"#e5e5e5"},onClick:function(){return t(Object(Z.a)(Object(Z.a)({},n),{},{isShow:!1}))}})})}),Object(ee.jsx)("div",{className:" shadow-xl bg-white fixed z-50 transform -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2",style:{width:"64rem",height:"550px"},children:Object(ee.jsxs)("div",{className:"grid grid-cols-4 h-full",children:[Object(ee.jsxs)("div",{className:"col-span-2 h-full overflow-hidden",children:[p&&Object(ee.jsx)(Ht,{}),function(){if(s){if("IMAGE"===(null===s||void 0===s?void 0:s.fileTypes))return Object(ee.jsx)("div",{className:"flex justify-center h-full",children:Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===s||void 0===s?void 0:s.file),alt:"userpost",className:"w-full object-cover "})});if("VIDEO"===(null===s||void 0===s?void 0:s.fileTypes))return Object(ee.jsx)("div",{style:{border:"1px solid #91a3b0"},className:"flex justify-center bg-black ",children:Object(ee.jsx)("video",{style:{height:"550px"},className:"w-full focus:outline-none",controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===s||void 0===s?void 0:s.file)})})});if("AUDIO"===(null===s||void 0===s?void 0:s.fileTypes))return Object(ee.jsx)("div",{className:"flex h-full justify-center items-center bg-gradient-to-r from-green-400 via-yellow-500 to-pink-500",children:Object(ee.jsx)("audio",{className:"w-4/5 focus:outline-none",controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===s||void 0===s?void 0:s.file)})})})}return Object(ee.jsx)("div",{className:"flex justify-center h-full",children:Object(ee.jsx)("img",{src:"/assets/image/no-pictures.png",alt:"userpost",className:"w-full object-cover p-24"})})}()]}),Object(ee.jsxs)("div",{className:"post-show col-span-2",children:[Object(ee.jsxs)("div",{className:"flex items-center mt-2 pl-2",children:[Object(ee.jsx)("img",{className:"rounded-full w-12 h-12 mr-3",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===s||void 0===s?void 0:s.user.avatar),alt:"img"}),Object(ee.jsxs)("div",{className:"flex-1 pr-4 flex items-center justify-between",children:[Object(ee.jsx)("p",{className:"font-bold text-md",children:null===s||void 0===s?void 0:s.user.fullname}),Object(ee.jsx)("p",{onClick:function(){u(!d)},className:" font-black text-2xl cursor-pointer text-gray-400",children:"..."})]})]}),Object(ee.jsx)("hr",{className:"mt-2 "}),Object(ee.jsxs)("div",{id:"scrollableDiv",className:" relative overflow-y-auto overflow-x-hidden post-show w-full",style:{height:"20rem"},children:[Object(ee.jsx)("div",{className:"mb-2",children:Object(ee.jsx)(Xt,{item:s})}),Object(ee.jsx)(sn,{item:s,comment:m})]}),Object(ee.jsxs)("div",{className:"absolute w-1/2 transform top-3/4 -translate-y-6",children:[Object(ee.jsx)("hr",{}),Object(ee.jsx)(Qt,{toggleCheck:n.isShow,item:s}),Object(ee.jsx)("p",{className:"ml-4 mb-2 italic text-xs text-gray-400",children:rt()(null===s||void 0===s?void 0:s.createdAt).fromNow()}),Object(ee.jsx)("div",{className:" transform translate-x-4 mr-2",children:Object(ee.jsx)(en,{yourcomment:m,setyourComment:h,item:s,getFirstPage:a,getTwoPage:r})})]})]})]})})]})},rn=function(e){var t=e.item,n=Object(be.a)("auth"),s=Object(i.a)(n,2)[0],a=Object(c.useState)(!1),r=Object(i.a)(a,2),o=r[0],l=r[1],d=Object(c.useState)(!1),u=Object(i.a)(d,2),j=u[0],b=u[1],m=null===t||void 0===t?void 0:t.text;return Object(ee.jsxs)("div",{className:"flex px-2",children:[Object(ee.jsx)(dt.b,{to:(null===t||void 0===t?void 0:t.user.id)===s.auth.user.id?"/user/".concat(null===t||void 0===t?void 0:t.user.fullname.replaceAll(" ",".")):"/profile/user?id=".concat(null===t||void 0===t?void 0:t.user.id),children:Object(ee.jsx)("img",{className:"rounded-full h-8 w-8 flex mt-1 cursor-pointer",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===t||void 0===t?void 0:t.user.avatar),alt:"userimg"})}),Object(ee.jsxs)("div",{className:"group flex items-center",children:[Object(ee.jsx)(Rt,{open:j,onClose:function(){b(!1)}}),Object(ee.jsx)("div",{className:"py-4 pl-1 pt-1 pb-1 flex items-center w-full ",children:Object(ee.jsx)("div",{className:" bg-gray-200 rounded-xl px-2",children:Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsx)("span",{className:"mr-1 font-medium block cursor-pointer",children:Object(ee.jsx)(dt.b,{to:(null===t||void 0===t?void 0:t.user.id)===s.auth.user.id?"/user/".concat(null===t||void 0===t?void 0:t.user.fullname.replaceAll(" ",".")):"/profile/user?id=".concat(null===t||void 0===t?void 0:t.user.id),children:null===t||void 0===t?void 0:t.user.fullname})}),(null===m||void 0===m?void 0:m.length)>100?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("span",{className:"font-normal  text-gray-700 text-base",children:o?m:m.substr(0,100)}),Object(ee.jsx)("span",{onClick:function(){l(!o)},className:" cursor-pointer ml-2 font-normal text-blue-700 text-sm",children:o?" show less":"...read more"})]}):Object(ee.jsx)("span",{className:"font-normal text-gray-700 text-base",children:null===m||void 0===m?void 0:m.substr(0,200)})]})})}),Object(ee.jsx)("div",{className:" flex items-center w-10 justify-center",children:Object(ee.jsx)("div",{onClick:function(){b(!j)},className:"hidden group-hover:flex justify-center items-center justify-items-center font-black cursor-pointer text-gray-700 rounded-full text-base",children:Object(ee.jsx)("p",{className:"",children:"..."})})})]})]})},on=function(e){var t=e.item,n=e.getTwoPage,s=Object(c.useState)(""),a=Object(i.a)(s,2),r=a[0],o=a[1],l=Object(c.useState)(!1),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(c.useRef)(null),m=Object(c.useRef)(null),h=Object(be.a)(["auth"]),p=Object(i.a)(h,2)[0];yt(m,b,(function(){return j(!1)}));var O=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We(p.auth.tokens.access.token,{postId:null===t||void 0===t?void 0:t.id,text:r}).then((function(e){})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:setTimeout(Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),1200),o(""),null===t||void 0===t||t.preventDefault();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode||t.shiftKey){e.next=10;break}if(""!==r){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,O();case 7:setTimeout(Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),1200),o(""),t.preventDefault();case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsx)("div",{className:"border-gray-primary mb-2",children:Object(ee.jsxs)("form",{className:"flex justify-between pl-0 pr-5 items-center",method:"POST",children:[u?Object(ee.jsx)("div",{ref:b,className:"absolute transform -translate-y-2/3 mt-10",style:{width:"20%"},children:Object(ee.jsx)(mt.a,{onEmojiClick:function(e,t){(null===r||void 0===r?void 0:r.length)>=2200||(o((function(e){return e+t.emoji})),j(!1))}})}):null,Object(ee.jsx)("img",{className:"rounded w-6 h-6 mt-1  cursor-pointer",src:"/assets/image/emoji.png",alt:"emokiimg",onClick:function(){return j(!u)},ref:m}),Object(ee.jsx)("textarea",{cols:"",rows:"1",className:"border-2 rounded-md border-gray-200 ml-1 focus:outline-none relative break-words overflow-visible  mr-1 py-3 px-2 text-sm resize-none w-full mt-2 font-normal text-gray-base",value:r||"",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)>=2200||o(e.target.value)},maxLength:2200,placeholder:"Add a comment...",type:"text",autoComplete:"off",onKeyDown:g}),Object(ee.jsx)("button",{className:" text-base focus:outline-none font-bold text-blue-medium ".concat(!r&&"opacity-25"),type:"button",disabled:r.length<1,onClick:v,children:"Post"})]})})},ln=function(e){var t=e.item,n=e.getFirstPage,s=Object(c.useState)({isShow:!1,postData:{}}),a=Object(i.a)(s,2),r=a[0],o=a[1],l=Object(c.useState)([]),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(c.useState)(7),m=Object(i.a)(b,2),h=(m[0],m[1]);Object(c.useEffect)((function(){r.isShow?document.body.className="overflow-hidden":document.body.className="overflow-auto"}),[r.isShow]),Object(c.useEffect)((function(){return p(),function(){j(null)}}),[]);var p=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve(null===t||void 0===t?void 0:t.id).then((function(e){j(e.data.results)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{className:"rounded col-span-4 border bg-white border-gray-primary mb-10 md:mr-16 sm:mr-1 lg:mr-0",children:[Object(ee.jsx)(Lt,{getFirstPage:n,item:t}),Object(ee.jsx)(Xt,{item:t}),Object(ee.jsx)(Jt,{item:t,setPopup:o,popup:r}),Object(ee.jsx)(Qt,{item:t,setPopup:o,popup:r}),Object(ee.jsx)(Zt,{setPopup:o,popup:r,item:t}),null===u||void 0===u?void 0:u.map((function(e){return Object(ee.jsx)(rn,{item:e},e.id)})),Object(ee.jsx)(on,{item:t,getTwoPage:p}),r.isShow&&Object(ee.jsx)(an,{item:t,setPopup:o,popup:r,setUpdate:h,getFirstPage:n,getTwoPage:p})]})},dn=(n(785),n(557)),un=["children","onClose","onConfirm"],jn=Object(ht.a)(ut.a)((function(e){return{"& .MuiDialogContent-root":{padding:e.theme.spacing(2),height:"450px"},"& .MuiPaper-root":{overflow:"hidden"}}})),bn=function(e){var t=e.children,n=(e.onClose,e.onConfirm),c=Object(m.a)(e,un);return Object(ee.jsxs)(pt.a,Object(Z.a)(Object(Z.a)({sx:{m:0,p:2}},c),{},{children:[t,n?Object(ee.jsx)(le.a,{"aria-label":"close",onClick:function(){n()},sx:{position:"absolute",right:8,top:8,zIndex:30,color:function(e){return e.palette.grey[500]}},children:Object(ee.jsx)(xt.a,{})}):null]}))},mn=function(e){var t=e.onClose,a=e.open,r=e.getFirstPage,l=e.getSummary,d=e.getUserPost,u=Object(c.useState)([]),j=Object(i.a)(u,2),b=j[0],m=j[1],h=Object(c.useState)(!1),p=Object(i.a)(h,2),O=p[0],v=p[1],g=Object(c.useRef)(null),w=Object(c.useRef)(null),y=Object(Oe.c)((function(e){return e.auth.data})),N=s.a.useRef(null),k=Object(c.useState)(null),S=Object(i.a)(k,2),C=S[0],T=S[1],E=Object(c.useState)(),P=Object(i.a)(E,2),I=P[0],A=P[1],D=Object(c.useState)(!1),M=Object(i.a)(D,2),R=M[0],L=M[1],F=Object(c.useState)(!1),B=Object(i.a)(F,2),z=B[0],U=B[1],G=Object(be.a)("auth"),_=Object(i.a)(G,2)[0],V=Object(c.useState)(0),W=Object(i.a)(V,2),H=W[0],Y=W[1],q=Object(c.useRef)(null),K=Object(c.useState)(!0),J=Object(i.a)(K,2),Q=J[0],Z=J[1];yt(w,g,(function(){return v(!1)})),Object(c.useEffect)((function(){setTimeout(Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn.load();case 2:q.current=e.sent;case 3:case"end":return e.stop()}}),e)}))),100)}),[]);var X=function(e){var t=e.loaded,n=e.total,c=Math.round(t/n*100*100)/100;Y(c)},$=function(){T(null),A(null),document.getElementById("fileChoosen").value=""},te=function(e,t){return!((null===e||void 0===e?void 0:e.length)>=1)},ne=n(856),se=function(){var e=Object(x.a)(f.a.mark((function e(){var t,n,c,s,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(!0),t=document.getElementById("imgcheck"),"image/jpeg"!==(null===C||void 0===C?void 0:C.type)&&"image/png"!==(null===C||void 0===C?void 0:C.type)&&"video/mp4"!==(null===C||void 0===C?void 0:C.type)){e.next=7;break}return e.next=5,q.current.classify(t);case 5:("Porn"===(c=e.sent)[0].className||"Hentai"===c[0].className||"Sexy"===c[0].className)&&c[0].probability>=.5&&(n=!0);case 7:if("image/gif"!==(null===C||void 0===C?void 0:C.type)){e.next=13;break}return a={topk:1,fps:20},s=new Promise(function(){var e=Object(x.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.current.classifyGif(t,a);case 2:(c=e.sent).forEach((function(e){("Porn"===e[0].className||"Hentai"===e[0].className||"Sexy"===e[0].className)&&e[0].probability>=.5&&(n=!0)})),setTimeout(s,1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),jt.c.promise(s,{pending:{render:function(){return Object(ee.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[Object(ee.jsx)("img",{className:"w-16 h-16",src:"/assets/image/phantich.gif",alt:"analyzing"}),Object(ee.jsx)("span",{className:" font-avatar text-xl",children:"Scanning"})]})},hideProgressBar:!1,position:jt.c.POSITION.TOP_RIGHT},success:{hideProgressBar:!0,theme:"light",autoClose:1}}),e.next=13,s;case 13:if(!n){e.next=17;break}jt.c.error(Object(ee.jsx)("div",{className:"flex items-center justify-center",children:Object(ee.jsx)("img",{className:"w-16 h-16",src:"/assets/image/18plus.png",alt:"banned"})}),{position:jt.c.POSITION.TOP_RIGHT,autoClose:2500,hideProgressBar:!0}),e.next=27;break;case 17:if(U(!0),I){e.next=24;break}return e.next=21,ae();case 21:r(),e.next=27;break;case 24:return e.next=26,re();case 26:r();case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe(_.auth.tokens.access.token,{text:b},X);case 3:if(U(!1),jt.c.success("Let's see your post \ud83d\ude00",{position:jt.c.POSITION.TOP_RIGHT,autoClose:1500,hideProgressBar:!0}),!d){e.next=9;break}return e.next=8,d();case 8:setTimeout((function(){l()}),1e3);case 9:m(null),t(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),U(!1),jt.c.error("".concat(e.t0),{position:jt.c.POSITION.TOP_RIGHT,autoClose:2e3,hideProgressBar:!0});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(x.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new ne).append("text",b),n.append("file",C),e.next=6,Le(_.auth.tokens.access.token,n,X);case 6:if(U(!1),jt.c.success("Let's see your post \ud83d\ude00",{position:jt.c.POSITION.TOP_RIGHT,autoClose:1500,hideProgressBar:!0}),!d){e.next=12;break}return e.next=11,d();case 11:setTimeout((function(){l()}),1e3);case 12:m(null),$(),t(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),U(!1),jt.c.error("".concat(e.t0),{position:jt.c.POSITION.TOP_RIGHT,autoClose:2e3,hideProgressBar:!0});case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(x.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null===(n=t.target.files)||void 0===n?void 0:n.item(0),T(c),A(window.URL.createObjectURL(t.target.files[0]));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{children:[Q&&Object(ee.jsx)(jt.a,{transition:jt.b,icon:!1}),Object(ee.jsxs)(jn,{maxWidth:"lg",height:"600px",open:a,"aria-labelledby":"customized-dialog-title",children:[Object(ee.jsxs)("div",{className:"z-50",children:[" ",z&&Object(ee.jsx)(ce,{process:H})]}),Object(ee.jsx)("div",{className:"right-1/2 left-1/2 top-1/2 absolute z-50 bg-green-700 cursor-pointer",children:Object(ee.jsxs)(ut.a,{open:R,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ee.jsx)(pt.a,{id:"alert-dialog-title",children:"Are you want sure to cancle ?"}),Object(ee.jsx)(vt.a,{children:Object(ee.jsx)(gt.a,{id:"alert-dialog-description"})}),Object(ee.jsxs)(wt.a,{children:[Object(ee.jsx)(Ot.a,{onClick:function(){L(!1),t()},children:"Close but save status"}),Object(ee.jsx)(Ot.a,{onClick:function(){T(null),A(null),m(null),L(!1),t()},variant:"contained",color:"error",children:"Close"}),Object(ee.jsx)(Ot.a,{onClick:function(){L(!1)},variant:"contained",color:"primary",children:"Back"})]})]})}),Object(ee.jsx)(bn,{id:"customized-dialog-title",onConfirm:function(){L(!0)},children:Object(ee.jsxs)("div",{className:" z-30 flex justify-center items-center justify-items-center ",children:[Object(ee.jsx)("div",{className:"flex-1",children:I&&Object(ee.jsx)("button",{className:"bg-red-500 rounded-md  focus:outline-none\r transform hover:translate-y-1 transition-all duration-700",onClick:function(){return $()},children:Object(ee.jsx)("p",{className:"p-1 text-white text-base font-medium ",children:"Delete File"})})}),Object(ee.jsx)("div",{className:"flex-none",children:Object(ee.jsx)("p",{className:"text-mygrey font-medium text-2xl",children:"Create new post"})}),Object(ee.jsx)("div",{className:"flex-1"})]})}),Object(ee.jsxs)("div",{className:"grid grid-cols-5 gap-0.5",children:[Object(ee.jsx)("div",{className:"".concat("video/mp4"===(null===C||void 0===C?void 0:C.type)&&"bg-black"," col-span-3 border-2 border-light-gray-700"),children:Object(ee.jsxs)("div",{className:"flex justify-center items-center  w-full h-full",children:[function(){if(I)return"image/jpeg"===(null===C||void 0===C?void 0:C.type)||"image/png"===(null===C||void 0===C?void 0:C.type)||"image/gif"===(null===C||void 0===C?void 0:C.type)?Object(ee.jsx)("img",{id:"imgcheck",style:{width:"550px",height:"550px"},src:I,alt:"img",className:"z-30"}):"video/mp4"===(null===C||void 0===C?void 0:C.type)?Object(ee.jsx)("video",{id:"imgcheck",style:{width:"550px",height:"550px"},className:"z-30",controls:!0,children:Object(ee.jsx)("source",{src:I})}):"audio/ogg"===(null===C||void 0===C?void 0:C.type)||"audio/mpeg"===(null===C||void 0===C?void 0:C.type)||"audio/mp3"===(null===C||void 0===C?void 0:C.type)?Object(ee.jsx)("audio",{className:" flex w-4/5  items-center z-30 ",controls:!0,children:Object(ee.jsx)("source",{src:I})}):void 0}(),Object(ee.jsxs)("div",{className:" z-20",children:[Object(ee.jsx)("button",{onClick:function(e){N.current.click()},className:"".concat(C&&"hidden","  transform hover:translate-y-2 h-10 transition-all duration-700 mr-2 cursor-pointer border bg-blue-400 text-white focus:outline-none border-gray-400  p-1 rounded-md  font-medium"),children:Object(ee.jsx)("span",{className:"p-5",children:" Upload a file"})}),Object(ee.jsx)("input",{className:" hidden cursor-pointer left-0 top-1  font-medium absolute text-blue-500 text-sm ",type:"file",accept:"video/*,audio/*,image/gif,image/jpeg,image/png,.gif,.jpeg,.jpg,.png",onChange:ie,id:"fileChoosen",ref:N})]})]})}),Object(ee.jsxs)("div",{className:"col-span-2 border-2 border-light-gray-700 divide-y-2",children:[Object(ee.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",padding:"5px"},children:[Object(ee.jsxs)("div",{className:"flex items-center mt-2 ",children:[Object(ee.jsx)("img",{className:"rounded-full h-10 w-10 mr-3",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===y||void 0===y?void 0:y.avatar),alt:""}),Object(ee.jsx)("div",{className:"flex-1 pr-4 flex items-center justify-between",children:Object(ee.jsx)(dt.b,{to:"/user/".concat(null===y||void 0===y?void 0:y.fullname.replaceAll(" ",".")),children:Object(ee.jsx)("p",{className:"font-bold text-md",children:"username"})})})]}),Object(ee.jsx)("textarea",{placeholder:"what are you thinking?",cols:"",rows:"8",className:" resize-none boder-2 mt-2 font-normal text-lg text-black focus:outline-none",value:b||"",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)>=2200||m(e.target.value)},maxLength:2200}),Object(ee.jsxs)("div",{className:"flex justify-between items-center",children:[Object(ee.jsx)("img",{className:"rounded w-7 h-7 cursor-pointer",src:"/assets/image/emoji.png",alt:"emokiimg",onClick:function(){return v(!O)},ref:w}),Object(ee.jsxs)("p",{className:"text-gray-400 text-xs font-semibold",children:[null===b||void 0===b?void 0:b.length,"/2,200"]})]}),O?Object(ee.jsx)("div",{ref:g,className:"absolute top-2/4 z-50 transform translate-y-20",children:Object(ee.jsx)(mt.a,{onEmojiClick:function(e,t){(null===b||void 0===b?void 0:b.length)>=2200||(m((function(e){return e+t.emoji})),v(!1))},disableSearchBar:!0,pickerStyle:{width:"100%"}})}):null]}),Object(ee.jsx)("div",{className:" flex p-2 mb-2",children:Object(ee.jsx)("button",{type:"button",className:"".concat(te(b)&&"opacity-25"," \n           w-full p-2 bg-primarycolor rounded-full text-white font-bold uppercase text-lg  transform hover:translate-y-1 transition-all duration-700"),disabled:te(b),onClick:function(){se()},children:"Post"})})]})]})]})]})},hn={show:!1},fn="DIALOG_SET",xn=function(e){return{type:fn,payload:e}},pn=function(){var e=Object(c.useState)({isShow:!1,postData:{}}),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(Oe.c)((function(e){return e.dialog})),r=Object(Oe.b)(),o=Object(c.useState)([]),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)(!1),b=Object(i.a)(j,2),m=b[0],h=b[1],p=Object(c.useState)(!0),O=Object(i.a)(p,2),v=O[0],g=O[1],w=Object(c.useState)(2),y=Object(i.a)(w,2),N=y[0],k=y[1],S=Object(c.useState)(!0),C=Object(i.a)(S,2),T=C[0],E=C[1],P=Object(Oe.c)((function(e){return e.auth.data})),I=Object(be.a)("auth"),A=Object(i.a)(I,2)[0],D=Object(Oe.c)((function(e){return e.changePost}));Object(c.useEffect)((function(){return M(),function(){return u(null)}}),[]);var M=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Hello!  \ud83d\udc68\u200d\ud83d\udcbb...\ud83d\ude80 \xbb\xbb\u2014\u2014\u2014\u2014-\u3000\u2605 Save your work safely ! Don't worry ! \u2605\u3000\u2014\u2014\u2014\u2014-\xab\xab\n"),Be(A.auth.tokens.access.token,1,5).then((function(e){E(!1),u(e.data.results),e.data.totalResults||h(!0),s(Object(Z.a)(Object(Z.a)({},n),{},{postData:e.data.results})),g(!0),k(2)})).catch((function(e){console.log(e),e&&h(!0),E(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){Be(A.auth.tokens.access.token,N,5).then((function(t){e(t.data.results)})).catch((function(e){console.log("errPromise",e),t(e)}))}));case 2:t=e.sent,u([].concat(Object(ve.a)(d),Object(ve.a)(t))),t.length<5&&g(!1),k(N+1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){r(xn(!1))};return Object(ee.jsxs)("div",{className:"md:col-span-2 sm:col-start-1 sm:col-end-7 md:py-16 md:px-0 lg:px-12 xl:p-16  py-16",children:[Object(ee.jsx)(mn,{getFirstPage:M,open:a.show,onClose:L}),Object(ee.jsx)(Rt,{item:D.data,open:D.showAction,onClose:L,getFirstPage:M}),Object(ee.jsx)("div",{className:"rounded border border-gray-primary mb-5 md:mr-16 sm:mr-1 lg:mr-0 shadow-md",children:Object(ee.jsx)("div",{className:" flex",onClick:function(){r(xn(!0))},children:Object(ee.jsx)("input",{className:"bg-gray-200 font-avatar text-mygrey text-md hover:bg-gray-300 font-mono m-3 rounded-full cursor-pointer appearance-none  w-full py-2 px-4  focus:outline-none focus:bg-white",type:"text",defaultValue:P&&"Hi ".concat(null===P||void 0===P?void 0:P.fullname,", click here to create your post... !"),name:"post",disabled:!0,onClick:function(){return function(){return r(xn(!0))}}})})}),T&&function(){for(var e=[],t=0;t<=20;t++)e=[].concat(Object(ve.a)(e),[Object(ee.jsx)(zt,{},t)]);return e}(),(null===d||void 0===d?void 0:d.length)>0&&Object(ee.jsx)(tn.a,{refreshFunction:!0,dataLength:null===d||void 0===d?void 0:d.length,next:R,hasMore:v,loader:Object(ee.jsx)("div",{className:" flex justify-center",children:Object(ee.jsx)(nn,{})}),endMessage:Object(ee.jsx)("p",{className:"flex justify-center font-avatar text-lg",children:Object(ee.jsx)("b",{children:"Opp..! No post more !"})}),children:d&&d.map((function(e,t){return Object(ee.jsx)("div",{children:Object(ee.jsx)(ln,{getFirstPage:M,item:e},t)},t)}))}),m&&Object(ee.jsx)("div",{className:"flex justify-center items-center",children:Object(ee.jsx)("p",{className:"",children:"You have no post"})})]})},On=(n(857),n(858)),vn=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(null),r=Object(i.a)(a,2),o=r[0],l=r[1],d=Object(c.useState)(!1),u=Object(i.a)(d,2),j=u[0],b=u[1],m=Object(c.useState)(null),h=Object(i.a)(m,2),p=h[0],O=h[1],v=Object(c.useState)(null),g=Object(i.a)(v,2),w=g[0],y=g[1];Object(c.useEffect)((function(){N(),P()({method:"get",url:"https://www.boredapi.com/api/activity"}).then((function(e){O(e.data.activity)})).catch((function(e){console.log(e)}))}),[]);var N=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On();case 2:return t=e.sent,e.next=5,P()({method:"get",url:"https://api.dictionaryapi.dev/api/v2/entries/en/".concat(t)}).then((function(e){y(e.data[0])})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){b(!1),l("")},S=function(e){l(e),b(!0)};return Object(ee.jsxs)("div",{className:"rounded flex flex-col z-10 mt-2",children:[Object(ee.jsx)("div",{className:"flex",children:Object(ee.jsxs)("div",{onClick:function(){s(!n)},className:"z-50 w-full group cursor-pointer focus:outline-none rounded bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500",children:[Object(ee.jsx)("div",{className:"flex justify-center my-1 cursor-pointer items-center ",children:Object(ee.jsx)("p",{className:" text-white",children:"Click see news"})}),Object(ee.jsx)("div",{className:" absolute group-hover:block hidden w-full\r bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500 ",children:Object(ee.jsxs)("ul",{className:"p-2",children:[Object(ee.jsx)("li",{onClick:function(){return S("https://vietnamnet.vn/")},className:"text-white rounded hover:bg-white hover:text-black",children:Object(ee.jsx)("p",{className:"p-2",children:"Vietnamnet.vn"})}),Object(ee.jsx)("li",{onClick:function(){return S("https://vnexpress.net/")},className:"text-white rounded hover:bg-white hover:text-black",children:Object(ee.jsx)("p",{className:"p-2",children:"VnExpress"})}),Object(ee.jsx)("li",{onClick:function(){return S("https://baomoi.com/")},className:"text-white rounded hover:bg-white hover:text-black",children:Object(ee.jsx)("p",{className:"p-2",children:"B\xe1o m\u1edbi"})}),Object(ee.jsx)("li",{onClick:function(){return S("https://vov.vn/")},className:"text-white rounded hover:bg-white hover:text-black",children:Object(ee.jsx)("p",{className:"p-2",children:"VOV Vi\u1ec7t Nam"})}),Object(ee.jsx)("li",{onClick:function(){return S("https://tuoitre.vn/")},className:"text-white rounded hover:bg-white hover:text-black",children:Object(ee.jsx)("p",{className:"p-2",children:"Tu\u1ed5i Tr\u1ebb Online"})}),Object(ee.jsx)("li",{onClick:function(){return S("https://kenh14.vn/")},className:"text-white rounded hover:bg-white hover:text-black",children:Object(ee.jsx)("p",{className:"p-2",children:"K\xeanh 14"})})]})})]})}),Object(ee.jsxs)(ut.a,{maxWidth:"xl",open:j,onClose:function(){return k()},children:[Object(ee.jsx)("div",{className:"post-show fixed w-full h-screen bg-transparent z-10 top-0 left-0 flex justify-end items-start",children:Object(ee.jsx)("div",{className:" flex justify-center items-center justify-items-center rounded-full bg-none ",children:Object(ee.jsx)("i",{onClick:function(){return k()},className:"fas fa-times fa-2x cursor-pointer mr-4",style:{color:"#e5e5e5"}})})}),Object(ee.jsx)("div",{className:"z-50 overflow-y-hidden ",children:Object(ee.jsx)("iframe",{src:o,title:"W3Schools Free Online Web Tutorials",style:{width:"1000px",height:"600px"},className:" p-2"})})]}),Object(ee.jsxs)("div",{className:"text-sm justify-between mb-2 mt-5",children:[Object(ee.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-md flex items-center justify-center text-center",style:{width:"350px"},children:Object(ee.jsxs)("p",{className:" text-white text-xl font-avatar p-5 flex gap-2 items-center justify-center",children:[Object(ee.jsx)("img",{className:"w-16 h-16",src:"/assets/image/think.png",alt:"think"}),p]})}),Object(ee.jsx)("div",{className:" rounded flex mt-4 post-show bg-transparent opacity-70 flex-col items-center justify-center",children:Object(ee.jsx)("div",{style:{width:"350px"},className:" shadow-2xl border rounded border-gray-200  p-5 bg-transparent flex items-center justify-center flex-col gap-2",children:w&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("p",{className:" font-avatar text-2xl",children:[null===w||void 0===w?void 0:w.word," ("," ",w?"".concat(null===w||void 0===w?void 0:w.meanings[0].partOfSpeech):null,")"]}),Object(ee.jsx)("p",{className:"  text-2xl",children:w?"/".concat(null===w||void 0===w?void 0:w.phonetics[0].text,"/"):null}),Object(ee.jsxs)("p",{className:" italic text-sm font-light",children:["Meaning:",w?" ".concat(null===w||void 0===w?void 0:w.meanings[0].definitions[0].definition):null]}),Object(ee.jsxs)("p",{className:"",children:["Ex:",w?" ".concat(null===w||void 0===w?void 0:w.meanings[0].definitions[0].example):null]}),Object(ee.jsx)("audio",{className:" flex w-full items-center z-30 mt-2 ",controls:!0,children:Object(ee.jsx)("source",{src:"https:".concat(null===w||void 0===w?void 0:w.phonetics[0].audio),type:"audio/mp3"})})]})})})]})]})},gn=function(){var e=Object(Oe.c)((function(e){return e.auth.data}));return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)(dt.b,{to:"/user/".concat(null===e||void 0===e?void 0:e.fullname.replaceAll(" ",".")),children:Object(ee.jsxs)("div",{className:"grid grid-cols-4 gap-4 items-center z-10 cursor-pointer",children:[Object(ee.jsx)("div",{className:"flex items-center justify-between col-span-1",children:Object(ee.jsx)("img",{className:"rounded-full w-16 h-16 flex mr-3",src:e?"https://mxhld.herokuapp.com/v1/image/".concat(null===e||void 0===e?void 0:e.avatar):"/assets/image/defaultAvatar.png",alt:"user"})}),Object(ee.jsxs)("div",{className:"col-span-3",children:[Object(ee.jsx)("p",{className:"font-bold text-sm",children:e?e.fullname:"Undefined Fullname"}),Object(ee.jsx)("p",{className:"text-sm",children:e?e.email:"Undefined Email"})]})]})})})},wn=function(){return Object(ee.jsx)("div",{className:"",children:Object(ee.jsxs)("div",{className:"fixed pt-16 z-10",children:[Object(ee.jsx)(gn,{}),Object(ee.jsx)(vn,{})]})})},yn=["type","payload"],Nn={data:[],total:0,error:null},kn=function(e,t){return function(n){ke(e,t).then((function(e){n({type:"GET_MESSAGE",payload:e.data})})).catch((function(e){console.log(e)}))}},Sn=function(e){return function(t){t({type:"ADD_MESSAGE",payload:e})}},Cn=function(e,t){var n={value:e,index:t};return function(e){e({type:"RECALL_MESSAGE",payload:n})}},Tn=function(){var e=Object(be.a)(["auth","tempTokens","tokens","rm_psw"]),t=Object(i.a)(e,3),n=t[0],s=t[1],a=t[2],r=Object(Oe.c)((function(e){return e.auth.data})),o=Object(Oe.b)(),l=Object(b.g)();Object(c.useEffect)((function(){_(n.auth.tokens.access.token).then((function(e){})).catch((function(e){console.log(e),Q.a.fire({icon:"error",title:"Your login session has expired",showConfirmButton:!1,timer:4e3}),d()}))}),[]);var d=function(){try{o(fe(n.auth.tokens.refresh.token)),o((function(e){e({type:"LOG_OUT_CONVER"})})),o((function(e){e({type:"LOG_OUT_MESSAGE"})})),a("auth",{path:"/"})}catch(e){console.log(e)}};return Object(c.useEffect)((function(){if(n.auth){if(!0===n.auth.user.isEmailVerified)return;D(n.auth.tokens.access),Q.a.fire({icon:"error",title:"Oops...",text:"Please verify your email before Login. Click ok to redirect Login page or you will redirect to home after 5s",timer:5e3,allowOutsideClick:!1}).then((function(){o(fe(n.auth.tokens.refresh.token)),s("tempTokens",n.auth),a("auth"),l.push("/")}))}}),[]),Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsx)("title",{children:"Vn-Social"})}),Object(ee.jsxs)("div",{className:"bg-white overflow-x-auto",children:[Object(ee.jsx)("div",{className:"bg-white block",style:{marginTop:"2rem"}}),Object(ee.jsxs)("div",{className:" bg-white grid grid-cols-1 gap-0 md:grid-cols-3 md:gap-0 lg:gap-5 xl:grid-cols-3 xl:gap-4  mx-auto max-w-screen-lg ",children:[Object(ee.jsx)(pn,{}),Object(ee.jsx)(wn,{currentUser:r})]})]})]})},En=function(e){var t=e.userSmr,n=e.userInfo,s=Object(c.useState)({posts:null,followers:null,followings:null}),a=Object(i.a)(s,2),r=a[0],o=a[1];Object(c.useEffect)((function(){l()}),[t,n]);var l=function(){o(t?Object(Z.a)(Object(Z.a)({},r),{},{posts:null===t||void 0===t?void 0:t.countPosts,followers:null===t||void 0===t?void 0:t.countFollow.followers,followings:null===t||void 0===t?void 0:t.countFollow.following}):Object(Z.a)(Object(Z.a)({},r),{},{posts:null===n||void 0===n?void 0:n.posts,followers:null===n||void 0===n?void 0:n.followers,followings:null===n||void 0===n?void 0:n.following}))};return Object(ee.jsxs)("div",{className:"flex items-center space-x-10 w-full mt-5",children:[Object(ee.jsxs)("p",{className:" font-light",children:[Object(ee.jsx)("span",{className:" font-medium",children:r?null===r||void 0===r?void 0:r.posts:0})," ","Posts"]}),Object(ee.jsxs)("p",{className:" font-light",children:[Object(ee.jsx)("span",{className:"font-medium",children:r?null===r||void 0===r?void 0:r.followers:0})," ","Followers"]}),Object(ee.jsxs)("p",{className:" font-light",children:[Object(ee.jsx)("span",{className:"font-medium",children:r?null===r||void 0===r?void 0:r.followings:0})," ","Following"]})]})},Pn=function(e){var t=e.currentUser,n=e.userInfo,s=Object(c.useState)({story:null,fb:null,phone:null}),a=Object(i.a)(s,2),r=a[0],o=a[1];Object(c.useEffect)((function(){l()}),[]);var l=function(){o(t?Object(Z.a)(Object(Z.a)({},r),{},{story:null===t||void 0===t?void 0:t.story,fb:null===t||void 0===t?void 0:t.facebook,phone:null===t||void 0===t?void 0:t.phone}):Object(Z.a)(Object(Z.a)({},r),{},{story:null===n||void 0===n?void 0:n.story,fb:null===n||void 0===n?void 0:n.facebook,phone:null===n||void 0===n?void 0:n.phone}))};return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"mt-5 overflow-hidden",children:[Object(ee.jsxs)("p",{className:" font-normal text-gray-700",children:[" ",r?null===r||void 0===r?void 0:r.story:null]}),Object(ee.jsx)("td",{onClick:function(){window.open("".concat(null===r||void 0===r?void 0:r.fb),"_blank")},className:"font-medium",style:{color:"#00376b"},children:r?null===r||void 0===r?void 0:r.fb:null}),Object(ee.jsxs)("p",{className:" font-medium",children:[" ",r?null===r||void 0===r?void 0:r.phone:null]})]})})},In=function(e){var t=e.setyourComment,n=e.yourcomment,s=e.state,a=Object(be.a)(["auth"]),r=Object(i.a)(a,2)[0],o=Object(c.useState)(""),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)(""),b=Object(i.a)(j,1)[0],m=Object(c.useState)(!1),h=Object(i.a)(m,2),p=h[0],O=h[1],v=Object(c.useRef)(null),g=Object(c.useRef)(null);yt(g,v,(function(){return O(!1)})),Object(c.useEffect)((function(){}),[]);var w=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We(r.auth.tokens.access.token,{postId:null===s||void 0===s?void 0:s.id,text:d}).then((function(e){})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){null===e||void 0===e||e.preventDefault(),t(Object(Z.a)(Object(Z.a)({},n),{},{text:d,realtime:Object($t.a)()})),w(),u("")};return Object(ee.jsx)("div",{className:"border-gray-primary mb-2",children:Object(ee.jsxs)("form",{className:"flex justify-between pl-0 pr-5 items-center",method:"POST",onSubmit:function(e){return b.length>=1?y(e):e.preventDefault()},children:[p?Object(ee.jsx)("div",{ref:v,className:"absolute transform -translate-y-2/3 mt-10",style:{width:"20%"},children:Object(ee.jsx)(mt.a,{onEmojiClick:function(e,t){(null===d||void 0===d?void 0:d.length)>=2200||(u((function(e){return e+t.emoji})),O(!1))}})}):null,Object(ee.jsx)("img",{className:"rounded w-6 h-6 mt-1  cursor-pointer",src:"/assets/image/emoji.png",alt:"emokiimg",onClick:function(){return O(!p)},ref:g}),Object(ee.jsx)("textarea",{cols:"",rows:"1",className:"border-2 rounded-md border-gray-200 ml-1 focus:outline-none relative break-words overflow-visible  mr-1 py-3 px-2 text-sm resize-none w-full mt-2 font-normal text-gray-base",value:d||"",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)>=2200||u(e.target.value)},maxLength:2200,placeholder:"Add a comment...",type:"text",autoComplete:"off",onKeyDown:function(e){if(13===e.keyCode&&!e.shiftKey){if(console.log("Input ",d.length),""===d)return;t(Object(Z.a)(Object(Z.a)({},n),{},{text:e.target.value,realtime:Object($t.a)()})),w(),u(""),e.preventDefault()}}}),Object(ee.jsx)("button",{className:" text-base focus:outline-none font-bold text-blue-medium ".concat(!d&&"opacity-25"),type:"button",disabled:d.length<1,onClick:y,children:"Post"})]})})},An=function(e){var t=e.state,n=Object(c.useState)(null===t||void 0===t?void 0:t.hasLike),s=Object(i.a)(n,2),a=s[0],r=s[1],o=Object(c.useState)(null===t||void 0===t?void 0:t.likes),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(be.a)("auth"),b=Object(i.a)(j,2)[0],m=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!a),u((function(e){return a?e-1:e+1})),h();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){return new Promise((function(e,n){Ue(b.auth.tokens.access.token,{postId:null===t||void 0===t?void 0:t.id}).then((function(e){})).catch((function(e){console.log("errPromise",e)}))}))};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"flex justify-between px-4 py-2",children:Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsx)("button",{onClick:m,children:Object(ee.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",tabIndex:0,className:"".concat(a&&"fill-red text-red-primary"," fill-white text-black w-8 mr-2 cursor-pointer border-none focus:outline-none "),children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),Object(ee.jsx)("button",{children:Object(ee.jsx)("svg",{className:"w-8 mr-1 text-black-light select-none cursor-pointer focus:outline-none",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",tabIndex:0,children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),Object(ee.jsx)("button",{children:Object(ee.jsx)("svg",{className:"w-8 mr-1 text-black-light select-none  cursor-pointer focus:outline-none",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 45 45 ",width:"22",fill:"none",stroke:"currentColor",children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:0,fill:"currentColor",d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"})})})]})}),Object(ee.jsxs)("div",{className:" flex  px-4 py-0 gap-1",children:[Object(ee.jsxs)("p",{className:" font-semibold",children:[d>=1e3?parseInt(d/1e3)+"K":d," ","likes"]}),(null===t||void 0===t?void 0:t.comments)>=1&&Object(ee.jsxs)("p",{className:" font-semibold",children:[null===t||void 0===t?void 0:t.comments," comments"]})]})]})},Dn=function(e){var t=e.state,n=Object(c.useState)(!1),s=Object(i.a)(n,2),a=s[0],r=s[1],o=null===t||void 0===t?void 0:t.text;return Object(ee.jsx)("div",{children:Object(ee.jsx)("div",{className:"p-4 pt-2 pb-1",children:(null===o||void 0===o?void 0:o.length)>100?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("span",{className:" font-normal text-gray-700 text-base",children:a?o:o.substr(0,100)}),Object(ee.jsx)("span",{onClick:function(){r(!a)},className:" cursor-pointer ml-2 font-normal text-blue-700 text-sm",children:a?" show less":"...read more"})]}):Object(ee.jsx)("span",{className:" font-normal text-gray-700 text-base",children:o.substr(0,200)})})})},Mn=function(e){var t=e.state,n=e.comment,s=Object(Oe.c)((function(e){return e.auth.data})),a=Object(c.useState)({isShow:!1,postData:{}}),r=Object(i.a)(a,2),o=r[0],l=r[1],d=Object(c.useState)([]),u=Object(i.a)(d,2),j=u[0],b=u[1],m=Object(c.useState)(!0),h=Object(i.a)(m,2),p=h[0],O=h[1],v=Object(c.useState)(2),g=Object(i.a)(v,2),w=g[0],y=g[1],N=Object(c.useState)(!0),k=Object(i.a)(N,2),S=k[0],C=k[1],T=Object(c.useState)(!1),E=Object(i.a)(T,2),P=E[0],I=E[1];Object(c.useEffect)((function(){return function(){b([])}}),[]),Object(c.useEffect)((function(){var e={id:n.realtime,user:{fullname:null===s||void 0===s?void 0:s.fullname,avatar:null===s||void 0===s?void 0:s.avatar},text:n.text};n&&b([e].concat(Object(ve.a)(j)))}),[n.realtime]),Object(c.useEffect)((function(){return C(!0),setTimeout((function(){A()}),500),function(){return clearTimeout(A)}}),[]);var A=function(){_e(null===t||void 0===t?void 0:t.id,1,5).then((function(e){b(e.data.results),e.data.totalResults||I(!0),l(Object(Z.a)(Object(Z.a)({},o),{},{postData:e.data})),C(!1),O(!0),y(2)})).catch((function(e){console.log(e),C(!1)}))},D=function(){var e=Object(x.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){_e(null===t||void 0===t?void 0:t.id,w,5).then((function(t){t&&e(t.data.results)})).catch((function(e){console.log("errPromise",e),n(e)}))}));case 2:n=e.sent,b([].concat(Object(ve.a)(j),Object(ve.a)(n))),(0===n.length||n.length<5)&&O(!1),y(w+1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{children:[S&&function(){for(var e=[],t=0;t<=20;t++)e=[].concat(Object(ve.a)(e),[Object(ee.jsx)(Wt,{},t)]);return e}(),j.length>0&&Object(ee.jsx)(tn.a,{scrollableTarget:"scrollableDiv",dataLength:null===j||void 0===j?void 0:j.length,next:D,hasMore:p,loader:Object(ee.jsx)("div",{className:" flex justify-center",children:Object(ee.jsx)(nn,{})}),endMessage:Object(ee.jsx)("p",{className:"flex justify-center font-avatar text-lg",children:Object(ee.jsx)("b",{children:"Opp..! You have seen it all"})}),children:j&&j.map((function(e){return Object(ee.jsx)(cn,{item:e},e.id)}))}),P&&Object(ee.jsx)("div",{className:"flex justify-center items-center",children:Object(ee.jsx)("p",{className:"",children:"You have no Comments"})})]})},Rn=function(e){var t,n,s=e.setPopup,a=e.popup,r=e.item,o=e.otherItem,l=e.getUserPost,d=e.getSummary,u=e.handleCloseCaro,j=Object(c.useState)({text:"",realtime:null}),b=Object(i.a)(j,2),m=b[0],h=b[1],f=Object(c.useState)(),x=Object(i.a)(f,2),p=x[0],O=x[1],v=Object(c.useState)(!0),g=Object(i.a)(v,2),w=g[0],y=g[1],N=Object(c.useState)(!1),k=Object(i.a)(N,2),S=(k[0],k[1]),C=Object(Oe.c)((function(e){return e.changePost})),T=Object(Oe.b)();Object(c.useEffect)((function(){return P(),E(),function(){O(null),clearTimeout(E)}}),[]);var E=function(){setTimeout((function(){y(!1)}),500)},P=function(){O(r||o)};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(Rt,{state:p,open:C.showAction,onClose:function(){S(!1)},getUserPost:l,getSummary:d,handleCloseCaro:u}),Object(ee.jsx)(ut.a,{open:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:Object(ee.jsxs)(vt.a,{children:[Object(ee.jsxs)("div",{className:"post-show fixed w-full h-screen opacity-80 z-20 top-0 left-0 flex justify-end items-start",style:{background:"#7d7d7d"},children:[Object(ee.jsx)("div",{className:" flex justify-center items-center justify-items-center rounded-full bg-none ",children:Object(ee.jsx)("i",{className:"fas fa-times fa-2x cursor-pointer mr-4",style:{color:"#e5e5e5"},onClick:function(){return s(!1)}})}),Object(ee.jsx)("div",{className:" absolute left-5 top-1/2",children:Object(ee.jsx)("i",{onClick:function(){alert("left")},className:"fas fa-3x fa-chevron-circle-left text-white cursor-pointer"})}),Object(ee.jsx)("div",{className:" absolute right-5 top-1/2 bg-none",children:Object(ee.jsx)("i",{onClick:function(){alert("right")},className:"fas fa-3x fa-chevron-circle-right text-white cursor-pointer"})})]}),Object(ee.jsx)("div",{className:" z-50 rounded-md shadow-xl bg-white fixed  transform -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2",style:{width:"64rem",height:"550px"},children:Object(ee.jsxs)("div",{className:"grid grid-cols-4 h-full",children:[Object(ee.jsxs)("div",{className:"col-span-2 h-full overflow-hidden",children:[w&&Object(ee.jsx)(Yt,{}),function(){if(p){if("IMAGE"===(null===p||void 0===p?void 0:p.fileTypes))return Object(ee.jsx)("div",{className:"flex justify-center h-full",children:Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===p||void 0===p?void 0:p.file),alt:"userpost",className:"w-full object-cover "})});if("VIDEO"===(null===p||void 0===p?void 0:p.fileTypes))return Object(ee.jsx)("div",{style:{border:"1px solid #91a3b0"},className:"flex justify-center bg-black ",children:Object(ee.jsx)("video",{style:{height:"550px"},className:"w-full focus:outline-none",controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===p||void 0===p?void 0:p.file)})})});if("AUDIO"===(null===p||void 0===p?void 0:p.fileTypes))return Object(ee.jsx)("div",{className:"flex h-full justify-center items-center bg-gradient-to-r from-green-400 via-yellow-500 to-pink-500",children:Object(ee.jsx)("audio",{className:"w-4/5 focus:outline-none",controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===p||void 0===p?void 0:p.file)})})})}return Object(ee.jsx)("div",{className:"flex justify-center h-full",children:Object(ee.jsx)("img",{src:"/assets/image/no-pictures.png",alt:"userpost",className:"w-full object-cover p-24"})})}()]}),Object(ee.jsxs)("div",{className:"col-span-2 ",children:[Object(ee.jsxs)("div",{className:"flex items-center mt-2 pl-2",children:[Object(ee.jsx)("img",{className:"rounded-full w-12 h-12 mr-3",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===p||void 0===p||null===(t=p.user)||void 0===t?void 0:t.avatar),alt:""}),Object(ee.jsxs)("div",{className:"flex-1 pr-4 flex items-center justify-between",children:[Object(ee.jsx)("p",{className:"font-bold text-md",children:null===p||void 0===p||null===(n=p.user)||void 0===n?void 0:n.fullname}),Object(ee.jsx)("p",{onClick:function(){T(Et(!0))},className:" font-black text-2xl cursor-pointer text-gray-400",children:"..."})]})]}),Object(ee.jsx)("hr",{className:"mt-2 "}),Object(ee.jsxs)("div",{id:"scrollableDiv",className:" relative overflow-y-auto overflow-x-hidden post-show w-full",style:{height:"20rem"},children:[Object(ee.jsx)("div",{className:"mb-2",children:Object(ee.jsx)(Dn,{state:p})}),Object(ee.jsx)(Mn,{state:p,comment:m})]}),Object(ee.jsxs)("div",{className:"absolute w-1/2 transform top-3/4 -translate-y-6",children:[Object(ee.jsx)("hr",{}),Object(ee.jsx)(An,{state:p}),Object(ee.jsx)("p",{className:"ml-4 mb-2 italic text-xs text-gray-400",children:rt()(null===p||void 0===p?void 0:p.createdAt).fromNow()}),Object(ee.jsx)("div",{className:" transform translate-x-4 mr-2",children:Object(ee.jsx)(In,{yourcomment:m,setyourComment:h,state:p})})]})]})]})})]})})]})},Ln=function(e){var t=e.item,n=e.otherItem,s=e.getUserPost,a=e.getSummary,r=Object(c.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)(),j=Object(i.a)(u,2),b=j[0],m=j[1];Object(c.useEffect)((function(){return h(),function(){m(null)}}),[]);var h=function(){m(t||n)};return Object(ee.jsxs)("div",{children:[l&&Object(ee.jsx)(Rn,{otherItem:n,item:t,setPopup:d,popup:l,getUserPost:s,getSummary:a,handleCloseCaro:function(){d(!1)}}),Object(ee.jsxs)("div",{className:"shadow-2xl cursor-pointer rounded-sm border-white relative group",children:[Object(ee.jsx)("div",{className:"flex items-center justify-center",style:{height:"300px"},children:function(){if(b){if("IMAGE"===(null===b||void 0===b?void 0:b.fileTypes))return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("div",{className:"flex  items-center justify-center cursor-pointer",style:{border:"1px solid #efefef"},onClick:function(){return d(!0)},children:Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===b||void 0===b?void 0:b.file),alt:"userpost",className:"w-full object-cover",style:{height:" 250px"}})})});if("VIDEO"===(null===b||void 0===b?void 0:b.fileTypes))return Object(ee.jsx)("div",{className:"flex  items-center justify-center cursor-pointer bg-black ",children:Object(ee.jsx)("video",{onClick:function(){return d(!0)},className:"w-full outline-none h-full object-cover",controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===b||void 0===b?void 0:b.file)})})});if("AUDIO"===(null===b||void 0===b?void 0:b.fileTypes))return Object(ee.jsx)("div",{className:" items-center justify-center cursor-pointer",onClick:function(){return d(!0)},children:Object(ee.jsx)("img",{src:"/assets/image/audio.png",className:"h-full p-10",alt:"nocaption"})})}return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("div",{className:" items-center justify-center cursor-pointer",onClick:function(){return d(Object(Z.a)(Object(Z.a)({},l),{},{isShow:!0}))},children:Object(ee.jsx)("img",{src:"/assets/image/no-pictures.png",className:"h-full p-10",alt:"nocaption"})})})}()}),Object(ee.jsxs)("div",{className:" absolute top-0 w-full h-full hidden group-hover:block transition delay-150 duration-500 ease-in-out ",children:[Object(ee.jsx)("div",{className:"bg-gray-900 h-full w-full top-0 left-0 opacity-50 absolute z-10 "}),Object(ee.jsxs)("div",{onClick:function(){d(!0)},className:" absolute z-20 flex justify-center items-center space-x-2 md:space-x-7 lg:space-x-7 w-full h-full",children:[Object(ee.jsxs)("div",{className:"flex space-x-1",children:[Object(ee.jsx)("span",{children:Object(ee.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 md:w-6 md:h-6 lg:w-6 lg:h-6 text-red-500",viewBox:"0 0 20 20",fill:"none",children:Object(ee.jsx)("path",{strokeWidth:2,fill:"currentColor",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})})}),Object(ee.jsx)("p",{className:"text-sm md:text-xl lg:text-xl font-medium text-white",children:null===b||void 0===b?void 0:b.likes})]}),Object(ee.jsxs)("div",{className:"flex space-x-1",children:[Object(ee.jsx)("span",{className:"flex",children:Object(ee.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 md:w-6 md:h-6 lg:w-6 lg:h-6 text-white",viewBox:"0 0 20 20",fill:"none",children:Object(ee.jsx)("path",{strokeWidth:2,fill:"currentColor",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z"})})}),Object(ee.jsx)("p",{className:" text-sm md:text-xl lg:text-xl font-medium text-white",children:null===b||void 0===b?void 0:b.comments})]})]})]})]})]})},Fn=(n(859),function(){var e=Object(be.a)(["auth"]),t=Object(i.a)(e,2)[0],n=Object(c.useState)(null),s=Object(i.a)(n,2),a=s[0],r=s[1],o=Object(c.useState)([]),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(Oe.c)((function(e){return e.auth.data})),b=Object(c.useState)(!0),m=Object(i.a)(b,2),h=m[0],O=m[1],v=Object(c.useState)(!0),g=Object(i.a)(v,2),w=g[0],y=g[1],N=Object(c.useState)(2),k=Object(i.a)(N,2),S=k[0],C=k[1],T=Object(c.useState)(!1),E=Object(i.a)(T,2),P=E[0],I=E[1],A=Object(Oe.c)((function(e){return e.dialog})),D=Object(c.useState)({isShow:!1,postData:{}}),M=Object(i.a)(D,2),R=M[0],L=M[1],F=Object(c.useState)([]),B=Object(i.a)(F,2),z=(B[0],B[1]),U=Object(Oe.b)();Object(Oe.c)((function(e){return e.changePost}));Object(c.useEffect)((function(){return G(),function(){clearTimeout(G),r(null)}}),[]),Object(c.useEffect)((function(){return V(),function(){u(null)}}),[]);var G=function(){t.auth.user.id&&setTimeout((function(){O(!1)}),500),_()},_=function(){var e=Object(x.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t.auth.user.id);case 3:n=e.sent,r(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),V=function(){Ge(t.auth.tokens.access.token,t.auth.user.id,1,6).then((function(e){u(e.data.results),e.data.totalResults||I(!0),O(!1),y(!0),C(2)})).catch((function(e){console.log(e),O(!1)}))},H=function(){var e=Object(x.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){Ge(t.auth.tokens.access.token,t.auth.user.id,S,6).then((function(t){t&&e(t.data.results)})).catch((function(e){console.log("errPromise",e),n(e)}))}));case 2:n=e.sent,u([].concat(Object(ve.a)(d),Object(ve.a)(n))),(0===n.length||n.length<6)&&y(!1),C(S+1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Be(t.auth.tokens.access.token,1,5).then((function(e){z(e.data.results),e.data.totalResults||I(!0),L(Object(Z.a)(Object(Z.a)({},R),{},{postData:e.data.results})),O(!1),y(!0),C(2)})).catch((function(e){console.log(e),O(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(p.a,{children:[Object(ee.jsx)("title",{children:null===j||void 0===j?void 0:j.fullname}),Object(ee.jsx)("meta",{name:"description",content:"Helmet application"})]}),Object(ee.jsx)(mn,{getSummary:_,getUserPost:V,getFirstPage:Y,open:A.show,onClose:function(){U(xn(!1))}}),h?Object(ee.jsx)(Vt,{}):Object(ee.jsx)("div",{className:"w-full xl:w-4/6 lg:w-4/6 md:w-full sm:w-full overflow-x-auto overflow-y-hidden shadow-2xl rounded-lg bg-white relative transform -translate-x-1/2 left-1/2",style:{top:"4.5rem"},children:Object(ee.jsxs)("div",{className:"grid grid-cols-3 pb-10",children:[Object(ee.jsx)("div",{className:"h-full flex justify-center justify-items-center",children:Object(ee.jsx)("div",{className:"py-5",children:Object(ee.jsx)("img",{className:"rounded-full h-24 w-24 md:h-44 md:w-44 ",src:j?"https://mxhld.herokuapp.com/v1/image/".concat(null===j||void 0===j?void 0:j.avatar):"/assets/image/defaultAvatar.png",alt:"userimg"})})}),Object(ee.jsxs)("div",{className:"col-span-2  h-full object-fill",children:[Object(ee.jsx)("div",{className:"flex w-full items-center space-x-4 mt-5",children:Object(ee.jsx)("h1",{className:"font-sans font-light text-3xl hover:text-blue-500 cursor-pointer",style:{color:"#818181"},children:j?j.fullname:"Undefined Fullname"})}),Object(ee.jsx)("div",{children:Object(ee.jsx)(En,{userSmr:null===a||void 0===a?void 0:a.data})}),Object(ee.jsx)("div",{className:"h-full",children:Object(ee.jsx)(Pn,{currentUser:j})})]})]})}),h&&Object(ee.jsx)("div",{style:{height:"500px"},className:"py-2 w-full xl:w-4/6 lg:w-4/6 overflow-y-hidden md:w-full sm:w-full shadow-2xl rounded-md mt-20 absolute transform -translate-x-1/2 left-1/2",children:Object(ee.jsx)("div",{className:"grid grid-cols-3 xl:gap-4 gap-2 lg:gap-4 p-2 md:gap-4",children:function(){for(var e=[],t=0;t<6;t++)e=[].concat(Object(ve.a)(e),[Object(ee.jsx)(Ut,{},t)]);return e}()})}),Object(ee.jsxs)("div",{className:"py-2 w-full xl:w-4/6 lg:w-4/6 overflow-y-hidden md:w-full sm:w-full shadow-2xl rounded-md mt-20 absolute transform -translate-x-1/2 left-1/2",children:[(null===d||void 0===d?void 0:d.length)>0&&Object(ee.jsx)(tn.a,{dataLength:null===d||void 0===d?void 0:d.length,next:H,scrollThreshold:.2,hasMore:w,loader:Object(ee.jsx)("div",{className:" flex justify-center mt-5",children:Object(ee.jsx)(nn,{})}),endMessage:Object(ee.jsx)("p",{className:"flex justify-center font-thin text-lg",children:Object(ee.jsx)("b",{children:"Opp..! You have seen it all"})}),children:Object(ee.jsx)("div",{className:"grid grid-cols-3 xl:gap-4 gap-2 lg:gap-4 p-2 md:gap-4",children:d&&d.map((function(e){return Object(ee.jsx)(Ln,{getSummary:_,getUserPost:V,item:e},e.id)}))})}),P&&Object(ee.jsx)("div",{className:"flex justify-center items-center",children:Object(ee.jsx)("p",{className:"",children:"You have no post"})})]})]})}),Bn=(n(860),n(579)),zn=n.n(Bn),Un=function(){var e=Object(b.g)(),t=Object(be.a)("auth"),n=Object(i.a)(t,2)[0],s=Object(c.useState)(2),a=Object(i.a)(s,2),r=a[0],o=a[1],l=Object(c.useState)(!0),d=Object(i.a)(l,2),u=d[0],j=d[1],m=Object(c.useState)(null),h=Object(i.a)(m,2),p=h[0],O=h[1],v=Object(c.useState)({value:"",users:[],loading:!1}),g=Object(i.a)(v,2),w=g[0],y=g[1],N=null;Object(c.useEffect)((function(){return function(){y({value:"",users:[],loading:!1})}}),[]),Object(c.useEffect)((function(){O(w.value)}),[w.value]);var k=function(t,c){if("number"===typeof c)return console.log("id length",typeof c),void e.push("/search/top?q="+t);e.push(c===n.auth.user.id?"/user/".concat(n.auth.user.fullname.replaceAll(" ",".")):"/profile/user?id=".concat(c))},S=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y({value:t.target.value,users:[],loading:!0}),e.prev=1,clearTimeout(N),e.next=5,q(n.auth.tokens.access.token,t.target.value,1,5);case 5:N=e.sent,y({value:t.target.value,users:[{id:Date.now(),fullname:t.target.value}].concat(Object(ve.a)(N.data.results)),loading:!1}),j(!0),o(2),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("key",p),new Promise((function(e,t){q(n.auth.tokens.access.token,p,r,5).then((function(t){e(t.data.results)})).catch((function(e){t(e)}))}));case 2:t=e.sent,y(Object(Z.a)(Object(Z.a)({},w),{},{users:[].concat(Object(ve.a)(w.users),Object(ve.a)(t))})),t.length<5&&j(!1),o(r+1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)("div",{children:Object(ee.jsx)("div",{className:"hidden sm:flex xl:flex lg:flex md:flex relative justify-center",children:Object(ee.jsx)("div",{children:Object(ee.jsx)(zn.a,{value:w.value,renderInput:function(e){return Object(ee.jsxs)("div",{className:"flex border-2 rounded-full w-full items-center bg-gray-100",children:[Object(ee.jsx)("i",{className:"fas fa-search text-gray-400 p-2"}),Object(ee.jsx)("input",Object(Z.a)({type:"text",className:" bg-gray-100 font-mono focus:bg-gray-100 appearance-none mr-2 focus:outline-none"},e))]})},items:w.users,getItemValue:function(e){return e.fullname},onSelect:function(e,t){return k(e,null===t||void 0===t?void 0:t.id)},onChange:S,renderItem:function(e,t){return Object(ee.jsxs)("div",{className:"p-2 text-md font-medium hover:bg-gray-200 flex items-center gap-2 ".concat(t&&"bg-gray-200"),children:[e.avatar&&Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/image/".concat(e.avatar),alt:"img",className:"h-8 w-8 rounded-full"}),e.fullname]},e.id)},renderMenu:function(e,t){return Object(ee.jsx)("div",{className:"post-show overflow-y-auto absolute shadow-md box-border w-full text-base bg-white rounded-md",children:""===t?Object(ee.jsxs)("div",{className:" flex items-center justify-center gap-2 ",children:[Object(ee.jsx)("span",{className:" font-avatar ",children:"Search User"}),Object(ee.jsx)("img",{className:"w-8 h-8",src:"/assets/image/search.gif",alt:"search"})]}):w.loading?Object(ee.jsx)("div",{className:" flex cursor-default items-center justify-center  w-full h-full",children:Object(ee.jsx)("div",{className:" items-center justify-center flex",children:Object(ee.jsx)("img",{className:"w-8 h-8",src:"/assets/image/search.gif",alt:"search"})})}):0===e.length?Object(ee.jsxs)("div",{className:" cursor-default ",children:["No matches for ",t]}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:" hidden",children:e}),Object(ee.jsx)("div",{id:"resultDiv",className:" overflow-y-auto post-show ",style:{height:"250px"},onSelect:function(e,t){return k(e,null===t||void 0===t?void 0:t.id)},children:Object(ee.jsx)(tn.a,{refreshFunction:!0,dataLength:w.users.length,next:C,hasMore:u,scrollableTarget:"resultDiv",scrollThreshold:.2,loader:Object(ee.jsx)("div",{className:" flex cursor-default items-center justify-center  w-full h-full",children:Object(ee.jsxs)("div",{className:" lds-ring items-center justify-center flex",children:[Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{})]})}),endMessage:Object(ee.jsx)("p",{className:"flex justify-center font-avatar text-xs mt-2",children:Object(ee.jsx)("b",{children:"You have seen all !"})}),children:w.users.map((function(e,t){return Object(ee.jsxs)("div",{onClick:function(){k(null===e||void 0===e?void 0:e.fullname,null===e||void 0===e?void 0:e.id)},className:"p-2 text-md font-medium hover:bg-gray-200 flex items-center gap-2\n                              ",children:[e.avatar&&Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/image/".concat(e.avatar),alt:"img",className:"h-8 w-8 rounded-full"}),e.fullname]},t)}))})})]})})}})})})})},Gn=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(be.a)(["auth"]),r=Object(i.a)(a,3),l=r[0],d=r[2],u=Object(c.useState)(!1),j=Object(i.a)(u,1)[0],m=(Object(b.g)(),Object(Oe.b)()),h=Object(Oe.c)((function(e){return e.auth.data})),p=Object(c.useState)(!1),O=Object(i.a)(p,2),v=O[0],g=O[1],w=Object(c.useRef)(null),y=Object(c.useRef)(null),N=Object(c.useState)([]),k=Object(i.a)(N,2),S=k[0],C=k[1],T=Object(c.useState)(!0),E=Object(i.a)(T,2),P=E[0],I=E[1],A=Object(c.useState)(!0),D=Object(i.a)(A,2),M=D[0],R=D[1],L=Object(c.useState)(2),F=Object(i.a)(L,2),B=F[0],z=F[1],U=Object(c.useState)(null),G=Object(i.a)(U,2),_=G[0],V=G[1],W=Object(c.useState)(!0),H=Object(i.a)(W,2),Y=H[0],q=H[1];yt(y,w,(function(){return g(!1)})),Object(c.useEffect)((function(){return function(){C([])}}),[]),Object(c.useEffect)((function(){K(),s(!0)}),[]),Object(c.useEffect)((function(){document.body.style.overflow=v?"hidden":"auto"}),[v]);var K=function(){He(l.auth.tokens.access.token,1,5).then((function(e){I(!1),C(e.data.results),V(e.data.totalResults),R(!0),z(2)})).catch((function(e){I(!1),console.log(e)}))},J=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){He(l.auth.tokens.access.token,B,5).then((function(t){e(t.data.results)})).catch((function(e){console.log("errPromise",e),t(e)}))}));case 2:t=e.sent,C([].concat(Object(ve.a)(S),Object(ve.a)(t))),t.length<5&&R(!1),z(B+1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){s(!0),setTimeout((function(){h&&s(!1)}),1500)}),[h]);var Q=function(){try{m(fe(l.auth.tokens.refresh.token)),m((function(e){e({type:"LOG_OUT_CONVER"})})),m((function(e){e({type:"LOG_OUT_MESSAGE"})})),d("auth",{path:"/"})}catch(e){console.log(e)}};return Object(ee.jsxs)(ee.Fragment,{children:[j&&Object(ee.jsx)(ce,{}),Object(ee.jsx)("header",{className:"fixed shadow-md w-full h-16 bg-white border-b border-gray-primary mb-8 z-40",children:Object(ee.jsx)("div",{className:"container mx-auto max-w-screen-lg h-full",children:Object(ee.jsxs)("nav",{className:"flex justify-between h-full",children:[Object(ee.jsx)("div",{className:"text-gray-700 text-center flex items-center align-items cursor-pointer",children:Object(ee.jsx)("h1",{className:"flex justify-center w-full font-avatar text-xl",children:Object(ee.jsx)(dt.c,{to:"/user/home","arial-label":"Vn-Social logo",children:Object(ee.jsxs)("div",{className:"flex gap-2 justify-center items-center",children:[Object(ee.jsx)("img",{src:"/assets/image/vni-logo.png",alt:"logo",className:" w-8 h-8"}),Object(ee.jsx)("p",{className:" font-avatar",children:"Vn-Social"})]})})})}),Object(ee.jsx)("div",{className:"text-gray-700 text-center flex items-center align-items cursor-pointer",children:Object(ee.jsx)("div",{className:"container h-2  flex justify-center items-center",children:Object(ee.jsx)(Un,{})})}),Object(ee.jsxs)("div",{className:"text-gray-700 text-center flex items-center align-items",children:[Object(ee.jsx)(dt.c,{to:"/user/home",activeClassName:"text-red-500",children:Object(ee.jsx)("svg",{className:"w-8 mr-2 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),Object(ee.jsx)("div",{className:"relative",children:h&&Object(ee.jsx)(dt.c,{to:"/user/inbox/",activeClassName:"text-red-500",children:Object(ee.jsx)("svg",{className:"w-8 mr-2 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"25",viewBox:"0 0 48 48",width:"22",fill:"none",stroke:"currentColor",children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,fill:"currentColor",d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"})})})}),Object(ee.jsx)("div",{onClick:function(){return m(xn(!0))},className:"relative",children:Object(ee.jsxs)("svg",{className:"w-8 mr-2 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",width:"40px",height:"64px",children:[Object(ee.jsxs)("linearGradient",{id:"KJ7ka9GQp0CHqT_2YsWMsa",x1:"32",x2:"32",y1:"5.75",y2:"59.005",gradientUnits:"userSpaceOnUse",spreadMethod:"reflect",children:[Object(ee.jsx)("stop",{offset:"0",stopColor:"#1a6dff"}),Object(ee.jsx)("stop",{offset:"1",stopColor:"#c822ff"})]}),Object(ee.jsx)("path",{fill:"url(#KJ7ka9GQp0CHqT_2YsWMsa)",d:"M32,58C17.663,58,6,46.337,6,32S17.663,6,32,6s26,11.663,26,26S46.337,58,32,58z M32,8 C18.767,8,8,18.767,8,32s10.767,24,24,24s24-10.767,24-24S45.233,8,32,8z"}),Object(ee.jsxs)("linearGradient",{id:"KJ7ka9GQp0CHqT_2YsWMsb",x1:"32",x2:"32",y1:"5.75",y2:"59.005",gradientUnits:"userSpaceOnUse",spreadMethod:"reflect",children:[Object(ee.jsx)("stop",{offset:"0",stopColor:"#1a6dff"}),Object(ee.jsx)("stop",{offset:"1",stopColor:"#c822ff"})]}),Object(ee.jsx)("path",{fill:"url(#KJ7ka9GQp0CHqT_2YsWMsb)",d:"M32,52c-11.028,0-20-8.972-20-20s8.972-20,20-20s20,8.972,20,20S43.028,52,32,52z M32,14 c-9.925,0-18,8.075-18,18s8.075,18,18,18s18-8.075,18-18S41.925,14,32,14z"}),Object(ee.jsxs)("linearGradient",{id:"KJ7ka9GQp0CHqT_2YsWMsc",x1:"32",x2:"32",y1:"21.75",y2:"42.538",gradientUnits:"userSpaceOnUse",spreadMethod:"reflect",children:[Object(ee.jsx)("stop",{offset:"0",stopColor:"#6dc7ff"}),Object(ee.jsx)("stop",{offset:"1",stopColor:"#e6abff"})]}),Object(ee.jsx)("path",{fill:"url(#KJ7ka9GQp0CHqT_2YsWMsc)",d:"M41,30h-7v-7c0-0.552-0.448-1-1-1h-2c-0.552,0-1,0.448-1,1v7h-7c-0.552,0-1,0.448-1,1v2 c0,0.552,0.448,1,1,1h7v7c0,0.552,0.448,1,1,1h2c0.552,0,1-0.448,1-1v-7h7c0.552,0,1-0.448,1-1v-2C42,30.448,41.552,30,41,30z"})]})}),Object(ee.jsxs)("div",{className:"block relative",children:[Object(ee.jsxs)("div",{ref:y,onClick:function(){K(),g(!v),q(!1)},children:[_>0&&Y&&Object(ee.jsx)("span",{className:"absolute cursor-pointer flex text-sm1 text-white items-center justify-center h-5 w-5 rounded-full bg-red-primary",style:{top:"-5px",marginLeft:"16px"},children:_<100?_:"99+"}),Object(ee.jsx)("svg",{className:"w-8 mr-4 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),v&&Object(ee.jsx)(o.a,{ref:w,children:Object(ee.jsxs)("div",{className:"border-2 shadow border-gray-100 bg-white fixed rounded-md z-10 top-1/5 mt-1.5 right-2/5 h-96  transform -translate-x-1/4",children:[P&&Object(ee.jsx)("div",{className:"w-full h-full flex justify-center items-center z-50 bg-white absolute",children:Object(ee.jsxs)("div",{className:"lds-ring flex items-center justify-center",children:[Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{})]})}),Object(ee.jsxs)("div",{className:"flex justify-between items-center px-2",children:[Object(ee.jsxs)("p",{className:"text-gray-700 text-xl font-medium",children:["Notifications",Object(ee.jsxs)("span",{className:"text-blue-400 text-lg",children:["(",_<100?_:"99+",")"]})]}),Object(ee.jsx)("p",{onClick:function(){Ye(l.auth.tokens.access.token).then((function(e){I(!0),K()})).catch((function(e){console.log(e)}))},className:"text-red-400 cursor-pointer p-2 ",children:"Delete All"})]}),Object(ee.jsx)("div",{className:"py-1 overflow-y-auto post-show ",style:{maxHeight:"340px",height:"100%"},id:"scrollDiv",children:(null===S||void 0===S?void 0:S.length)>0&&Object(ee.jsx)(tn.a,{scrollableTarget:"scrollDiv",refreshFunction:!0,dataLength:null===S||void 0===S?void 0:S.length,next:J,hasMore:M,loader:Object(ee.jsx)("div",{className:" flex justify-center",children:"Loading...."}),endMessage:Object(ee.jsx)("p",{className:"flex justify-center font-thin text-sm ",children:Object(ee.jsx)("b",{children:"You have seen all !"})}),children:S&&(null===S||void 0===S?void 0:S.map((function(e,t){var n,c;return Object(ee.jsxs)("div",{id:e.id,className:" items-center gap-2 flex cursor-pointer p-2 mb-2  w-72 break-words text-left",children:[Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/image/".concat(null===e||void 0===e||null===(n=e.other)||void 0===n?void 0:n.avatar),alt:"logo",className:" w-10 h-10 rounded-full"}),Object(ee.jsxs)("div",{className:"flex-col ",children:[Object(ee.jsx)(dt.b,{to:"/profile/".concat(null===e||void 0===e||null===(c=e.other)||void 0===c?void 0:c.id),children:Object(ee.jsx)("p",{className:"text-sm",children:null===e||void 0===e?void 0:e.text})}),Object(ee.jsx)("p",{className:"text-xs text-blue-400",children:rt()(null===e||void 0===e?void 0:e.createdAt).fromNow()})]})]},t)})))})})]})})]}),Object(ee.jsx)("button",{onClick:function(){return Q()},type:"button",title:"Sign Out",children:Object(ee.jsx)("svg",{className:"w-8 mr-2 text-black-light cursor-pointer ",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(ee.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),Object(ee.jsx)("div",{className:"dropdown",children:h&&Object(ee.jsxs)("div",{children:[n?Object(ee.jsx)(Gt,{}):Object(ee.jsx)("img",{className:"rounded-full h-8 w-8 flex",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===h||void 0===h?void 0:h.avatar),alt:"userimg"}),Object(ee.jsxs)("div",{className:"dropdown-content",children:[Object(ee.jsx)(dt.c,{to:"/user/".concat(h.fullname.replaceAll(" ",".")),activeClassName:"text-red-500",children:Object(ee.jsx)("span",{className:"",children:"Your page"})}),Object(ee.jsx)(dt.c,{to:"/user/setting/".concat(h.fullname.replaceAll(" ",".")),children:Object(ee.jsx)("span",{className:"",children:"Settings"})}),Object(ee.jsx)("div",{className:"w-100 bg-gray-300 h-0.5"}),Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)("span",{onClick:function(){return Q()},className:"",children:"Log out"})})]})]})})]})]})})})]})},_n=function(e){var t=e.children;return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Gn,{}),t]})},Vn=function(e){var t=e.children;return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Gn,{}),Object(ee.jsxs)("div",{className:"bg-white overflow-x-auto",children:[Object(ee.jsx)("div",{className:"bg-white block",style:{marginTop:"2rem"}}),Object(ee.jsxs)("div",{className:" bg-white grid grid-cols-1 gap-0 md:grid-cols-3 md:gap-0 lg:gap-5 xl:grid-cols-3 xl:gap-4  mx-auto max-w-screen-lg ",children:[t,Object(ee.jsx)(wn,{})]})]})]})},Wn=(n(864),function(){return Object(ee.jsxs)("div",{className:"body",children:[Object(ee.jsxs)(p.a,{children:[Object(ee.jsx)("title",{children:"404 error"}),Object(ee.jsx)("meta",{name:"description",content:"Helmet application"})]}),Object(ee.jsx)("section",{id:"not-found",children:Object(ee.jsxs)("div",{className:"circles",children:[Object(ee.jsxs)("p",{children:["404",Object(ee.jsx)("br",{}),Object(ee.jsx)("small",{children:"PAGE NOT FOUND"})]}),Object(ee.jsx)("span",{className:"circle big"}),Object(ee.jsx)("span",{className:"circle med"}),Object(ee.jsx)("span",{className:"circle small"})]})})]})}),Hn=["children"],Yn=function(e){var t=e.children,n=Object(m.a)(e,Hn),c=Object(be.a)(["auth"]),s=Object(i.a)(c,1)[0];return Object(ee.jsx)(b.b,Object(Z.a)(Object(Z.a)({},n),{},{render:function(){return!s.auth||"admin"!==s.auth.user.role&&"superadmin"!==s.auth.user.role?Object(ee.jsx)(b.a,{to:"/auth"}):t}}))},qn=(n(421),function(){var e=Object(b.g)();return s.a.useEffect((function(){jt.c.warn("Please Login to continue !",{appendPosition:!0,autoClose:2e3,position:jt.c.POSITION.TOP_CENTER,theme:"colored",hideProgressBar:!1,pauseOnFocusLoss:!1}),setTimeout((function(){e.replace("/")}),2500)}),[e]),Object(ee.jsx)("div",{children:Object(ee.jsx)(jt.a,{transition:jt.b})})}),Kn=["children"],Jn=function(e){var t=e.children,n=Object(m.a)(e,Kn),c=Object(be.a)(["auth"]),s=Object(i.a)(c,1)[0];return Object(ee.jsx)(b.b,Object(Z.a)(Object(Z.a)({},n),{},{render:function(){return s.auth&&"user"===s.auth.user.role?t:Object(ee.jsx)(qn,{})}}))},Qn=function(){var e=Object(be.a)(["tempTokens","auth"]),t=Object(i.a)(e,3),n=t[0],s=t[1],a=t[2],r=Object(c.useState)(new URLSearchParams(Object(b.h)().search)),o=Object(i.a)(r,1)[0],l=Object(Oe.b)(),d=Object(b.g)();Object(c.useEffect)((function(){var e=o.get("token");if(e){var t=new Promise((function(e){return setTimeout(e,3e3)}));jt.c.promise(t,{pending:{render:function(){return"Verifying your email..."},hideProgressBar:!0,position:jt.c.POSITION.TOP_CENTER},success:{render:function(){return"Successfully! Let's go to your Home page"},hideProgressBar:!0,theme:"light",autoClose:1e3}}),u({token:e})}}),[o]);var u=function(){var e=Object(x.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t);case 3:return e.next=5,_(n.tempTokens.tokens.access.token);case 5:c=e.sent,console.log("User after verifying email",c.data),s("auth",Object(Z.a)(Object(Z.a)({},n.tempTokens),{},{user:Object(Z.a)(Object(Z.a)({},n.tempTokens.user),{},{isEmailVerified:!0})})),a("tempTokens"),l(pe(c.data)),d.push("/user/home"),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsx)("title",{children:"Vn-Social"})}),Object(ee.jsx)(jt.a,{transition:jt.b}),Object(ee.jsxs)("div",{className:"bg-gray-background overflow-x-auto",children:[Object(ee.jsx)("div",{className:"bg-gray-500 block",style:{marginTop:"2rem"}}),Object(ee.jsx)("div",{className:"grid grid-cols-1 gap-0 md:grid-cols-3 md:gap-0 lg:gap-5 xl:grid-cols-3 xl:gap-4  mx-auto max-w-screen-lg "})]})]})},Zn=function(){var e=Object(be.a)(["tempTokens"]),t=Object(i.a)(e,1)[0],n=Object(b.g)();return Object(c.useEffect)((function(){D(t.tempTokens.tokens.access.token);var e=new Promise((function(e){return setTimeout(e,3e3)}));jt.c.promise(e,{pending:{render:function(){return"Sending verify to your email..."},hideProgressBar:!0,position:jt.c.POSITION.TOP_CENTER},success:{render:function(){return"Successfully. Please verifying email before login!"},hideProgressBar:!0,theme:"light",autoClose:1e3}}),setTimeout((function(){jt.c.info("Redirect to Login page in a few second",{appendPosition:!0,enter:"zoomOut",autoClose:!1,position:jt.c.POSITION.TOP_CENTER,theme:"colored",pauseOnFocusLoss:!1,onOpen:function(){setTimeout((function(){n.replace("/")}),3e3)}})}),4500)}),[]),Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsx)("title",{children:"Vn-Social"})}),Object(ee.jsx)(jt.a,{transition:jt.b}),Object(ee.jsxs)("div",{className:"bg-gray-background overflow-x-auto",children:[Object(ee.jsx)("div",{className:"bg-gray-500 block",style:{marginTop:"2rem"}}),Object(ee.jsx)("div",{className:"grid grid-cols-1 gap-0 md:grid-cols-3 md:gap-0 lg:gap-5 xl:grid-cols-3 xl:gap-4  mx-auto max-w-screen-lg "})]})]})},Xn=n(891),$n=n(232),ec=Object(je.a)({tabPanel:{width:"100%","& > div":{padding:"4rem"}},tab:{color:$n.a,"&:hover":{backgroundColor:$n.a}}}),tc=["errors","touched"],nc=function(e){var t=e.onClose,n=e.open,s=e.userData,a=Object(Oe.b)(),r=Object(c.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)(null===s||void 0===s?void 0:s.birthday),j=Object(i.a)(u,2),b=j[0],h=j[1],f=Object(be.a)(["auth"]),x=Object(i.a)(f,2)[0],p=Object(c.useState)(null),v=Object(i.a)(p,2),g=v[0],w=v[1],y=Object(c.useState)(!0),N=Object(i.a)(y,2),S=N[0],C=N[1],E=Object(c.useState)(!1),P=Object(i.a)(E,2),I=P[0];P[1];Object(c.useEffect)((function(){if(x.auth){w(Object(Z.a)({},x.auth.user));var e=x.auth.user.birthday.toString().split("/");h(new Date(e[1]+"/"+e[0]+"/"+e[2]))}}),[]),Object(c.useEffect)((function(){setTimeout((function(){g&&C(!1)}),1500)}),[g]);var A={fullname:null===g||void 0===g?void 0:g.fullname,facebook:null===g||void 0===g?void 0:g.facebook,story:null===g||void 0===g?void 0:g.story,phone:null===g||void 0===g?void 0:g.phone,gender:null===g||void 0===g?void 0:g.gender};return Object(ee.jsxs)("div",{className:"",children:[I&&Object(ee.jsx)(ce,{}),Object(ee.jsx)(ut.a,{fullWidth:!0,maxWidth:"md",open:n,onClose:t,children:Object(ee.jsxs)("div",{className:"p-5",children:[Object(ee.jsxs)("div",{className:"flex space-x-4 mb-4 ",children:[Object(ee.jsx)("div",{className:"flex justify-start",children:S?Object(ee.jsx)(_t,{}):Object(ee.jsx)("img",{className:"rounded-full h-10 w-10 md:h-16 md:w-16 ",src:(null===s||void 0===s?void 0:s.image)?s.image:"/assets/image/defaultAvatar.png",alt:"profile"})}),Object(ee.jsx)("div",{className:"col-span-2 flex items-center justify-center",children:Object(ee.jsx)("p",{className:"",children:Object(ee.jsxs)("span",{className:"text-xl font-avatar",children:["Hi! ",(null===g||void 0===g?void 0:g.fullname)?null===g||void 0===g?void 0:g.fullname:null]})})})]}),Object(ee.jsx)(O.d,{initialValues:A,validationSchema:k,onSubmit:function(e,n){var c=rt()(b).format("DD/MM/YYYY");l?d(!0):(w(Object(Z.a)({},e)),e.birthday=c,G(x.auth.tokens.access.token,e).then((function(e){a(xe(x.auth.tokens.access.token)),Q.a.fire({icon:"success",title:"Successfully updated Profile !",showConfirmButton:!1,timer:1500})})).catch((function(e){console.log("err",e.response.data.message)})),t())},children:function(e){var n=e.errors,c=(e.touched,Object(m.a)(e,tc));return Object(ee.jsxs)(O.c,{children:[Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"fullname",id:"outlined-basic",label:"Fullname",variant:"outlined",error:n.fullname,helperText:Object(ee.jsx)(O.a,{name:"fullname",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"facebook",id:"outlined-basic",label:"Facebook",variant:"outlined",error:n.facebook,helperText:Object(ee.jsx)(O.a,{name:"facebook",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"phone",id:"outlined-basic",label:"Phone number",variant:"outlined",error:n.phone,helperText:Object(ee.jsx)(O.a,{name:"phone",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"story",id:"outlined-basic",label:"Story",variant:"outlined",error:n.story,helperText:Object(ee.jsx)(O.a,{name:"story",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})}),Object(ee.jsxs)("div",{className:"customDate",children:[Object(ee.jsx)(Xe.b,{dateAdapter:Ze.a,children:Object(ee.jsx)($e.a,{name:"dob",variant:"filled",openTo:"year",label:"Date of birth",value:b,views:["year","month","day"],onChange:function(e){return function(e){if(h(e),!((new Date).getUTCFullYear()-e.getUTCFullYear()<13))return d(!1),e;d(!0)}(e)},renderInput:function(e){return Object(ee.jsx)(T.a,Object(Z.a)({},e))}})}),l&&Object(ee.jsx)("div",{className:" ml-4 text-red-500 text-xs",children:"Over 13 years old !"})]}),Object(ee.jsxs)("div",{className:"mt-2",children:[Object(ee.jsxs)(nt.a,{component:"fieldset",children:[Object(ee.jsx)(ct.a,{component:"legend",children:"Gender"}),Object(ee.jsxs)(O.b,{as:tt.a,name:"gender",row:!0,"aria-label":"gender",children:[Object(ee.jsx)(de.a,{value:"female",control:Object(ee.jsx)(et.a,{}),label:"Female"}),Object(ee.jsx)(de.a,{value:"male",control:Object(ee.jsx)(et.a,{}),label:"Male"}),Object(ee.jsx)(de.a,{value:"other",control:Object(ee.jsx)(et.a,{}),label:"Other"})]})]}),Object(ee.jsx)("div",{className:" ml-4",children:Object(ee.jsx)(st.a,{children:Object(ee.jsx)(O.a,{name:"gender",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})})})]})]}),Object(ee.jsxs)("div",{className:"flex justify-end items-center space-x-2 mt-2",children:[Object(ee.jsx)(Ot.a,{variant:"contained",color:"success",type:"submit",disabled:c.isSubmitting,children:c.isSubmitting?"Saving...":"Save"}),Object(ee.jsx)(Ot.a,{variant:"outlined",color:"error",className:" bg-red-600",onClick:function(){return function(e){e.resetForm(),t()}(c)},children:"Cancel"})]})]})}})]})})]})},cc=n(962),sc=Object(je.a)((function(e){return{myStyle:{"&.MuiPaper-root":{background:"#fff","& > .MuiAlert-message":{"& > p":{color:"#61b865",fontWeight:"bold"}}}}}})),ac=function(){var e=sc();return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"post-show fixed w-full h-full opacity-10 z-40 top-0 left-0 bottom-0 flex justify-center items-center",style:{background:"#fff"},children:Object(ee.jsx)("div",{className:" flex justify-center items-center justify-items-center rounded-full bg-none "})}),Object(ee.jsx)("div",{className:"fixed z-50  transform -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2",children:Object(ee.jsx)("div",{className:"p-2 border-2  border-green-700 border-opacity-50 rounded-md",style:{backgroundColor:"white"},children:Object(ee.jsx)(cc.a,{severity:"success",className:e.myStyle,children:Object(ee.jsx)("p",{className:" font-semibold text-md",children:"Save"})})})})]})},rc=["errors","touched"];function ic(e){var t=e.children,n=e.value,c=e.index;return Object(ee.jsx)("div",{role:"tabpanel",hidden:n!==c,id:"vertical-tabpanel-".concat(c),"aria-labelledby":"vertical-tab-".concat(c),className:"w-full p-4",children:n===c&&Object(ee.jsx)(o.a,{sx:{p:3},children:t})})}function oc(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var lc=function(){var e=ec(),t=s.a.useState(0),n=Object(i.a)(t,2),a=n[0],r=n[1],d=Object(Oe.c)((function(e){return e.auth.data})),u=Object(c.useState)(!1),j=Object(i.a)(u,2),b=j[0],h=j[1],v=Object(c.useState)(new Date(null===d||void 0===d?void 0:d.birthday)),g=Object(i.a)(v,2),w=g[0],y=g[1],N=s.a.useRef(null),k=Object(c.useState)(!1),C=Object(i.a)(k,2),E=C[0],P=C[1],I=Object(be.a)("auth"),A=Object(i.a)(I,2)[0],D=Object(c.useState)(!0),M=Object(i.a)(D,2),R=(M[0],M[1]),L=Object(Oe.b)(),F=Object(c.useState)("https://mxhld.herokuapp.com/v1/image/".concat(null===d||void 0===d?void 0:d.avatar)),B=Object(i.a)(F,2),z=B[0],G=B[1],_=Object(c.useState)(null),W=Object(i.a)(_,2),H=W[0],Y=W[1],q=Object(c.useState)({oldpassword:!1,password:!1,confirm:!1}),K=Object(i.a)(q,2),J=K[0],X=K[1],$=Object(c.useState)({oldpassword:!1,password:!1,confirm:!1}),te=Object(i.a)($,2),ne=te[0],se=te[1],ae=Object(c.useState)(!1),ue=Object(i.a)(ae,2),je=ue[0],me=ue[1];Object(c.useEffect)((function(){if(d){var e=d.birthday.toString().split("/");y(e[1]+"/"+e[0]+"/"+e[2]),G("https://mxhld.herokuapp.com/v1/image/".concat(null===d||void 0===d?void 0:d.avatar))}}),[d]),Object(c.useEffect)((function(){d&&setTimeout((function(){R(!1)}),1500)}),[d]);var he=function(){var e=Object(x.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){n.setSubmitting(!1)}),2e3),e.prev=1,e.next=4,V(A.auth.tokens.access.token,{oldPassword:t.oldpassword,password:t.password});case 4:Q.a.fire({icon:"success",title:"Successfully",showConfirmButton:!1,timer:1500}),n.resetForm(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Q.a.fire({icon:"error",title:e.t0.response.data.message,showConfirmButton:!1,timer:1500});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(p.a,{children:[Object(ee.jsx)("title",{children:"Setting Account"}),Object(ee.jsx)("meta",{name:"descr--iption",content:"Helmet application"})]}),Object(ee.jsx)(nc,{userData:Object(Z.a)(Object(Z.a)({},d),{},{image:z}),open:b,onClose:function(){h(!1)},dobUser:w}),E&&Object(ee.jsx)(ac,{}),je&&Object(ee.jsx)(ce,{}),Object(ee.jsx)("div",{className:" absolute left-1/2 transform -translate-x-1/2  shadow-md border-2 w-2/3",style:{marginTop:"5rem",marginBottom:"2rem"},children:Object(ee.jsxs)(o.a,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",height:"100%"},children:[Object(ee.jsxs)(Xn.a,{orientation:"vertical",variant:"scrollable",value:a,color:"secondary",onChange:function(e,t){r(t)},"aria-label":"Vertical tabs example",className:e.tab,sx:{borderRight:1,borderColor:"divider"},children:[Object(ee.jsx)(l.a,Object(Z.a)({label:"Th\xf4ng tin t\xe0i kho\u1ea3n"},oc(0))),Object(ee.jsx)(l.a,Object(Z.a)({label:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"},oc(1)))]}),Object(ee.jsxs)(ic,{value:a,index:0,children:[Object(ee.jsx)("div",{className:"pl-16 flex space-x-4 mb-4",children:Object(ee.jsxs)("div",{className:"flex space-x-4 mb-4 ",children:[Object(ee.jsx)("div",{className:"flex justify-start",children:Object(ee.jsx)("img",{className:"rounded-full h-10 w-10 md:h-16 md:w-16 ",src:z||"https://mxhld.herokuapp.com/v1/image/".concat(null===d||void 0===d?void 0:d.avatar),alt:"profile"})}),Object(ee.jsxs)("div",{className:"col-span-2",children:[Object(ee.jsx)("p",{className:"",children:Object(ee.jsxs)("span",{className:"text-xl font-avatar",children:["Hi! ",d?d.fullname:null]})}),Object(ee.jsxs)("div",{className:" relative flex",children:[Object(ee.jsx)("button",{onClick:function(e){N.current.click()},className:" bg-blue-400 text-white mr-2 cursor-pointer border-2 border-gray-400  p-1 rounded-md  font-medium",children:"Upload file"}),Object(ee.jsx)("input",{className:" hidden cursor-pointer left-0 top-1  font-medium absolute text-blue-500 text-sm ",type:"file",accept:"image/*",onChange:function(e){Y(e.target.files[0]),G(window.URL.createObjectURL(e.target.files[0]))},ref:N}),H&&Object(ee.jsx)(Ot.a,{variant:"contained",color:"success",onClick:function(){return function(){var e=new FormData;e.append("file",H),me(!0),U(A.auth.tokens.access.token,e).then((function(e){L(xe(A.auth.tokens.access.token)),P(!0),setTimeout((function(){P(!1)}),1e3),Y(!1),Q.a.fire({icon:"success",title:"Your avatar upadated !",showConfirmButton:!1,timer:1500}),me(!1)})).catch((function(e){console.log("err",e.response.data.message),me(!1)}))}()},children:"Save"}),H&&Object(ee.jsx)("div",{className:"ml-2",children:Object(ee.jsx)(Ot.a,{variant:"contained",color:"error",onClick:function(){Y(!H),G("https://mxhld.herokuapp.com/v1/image/".concat(null===d||void 0===d?void 0:d.avatar))},children:"Cancle"})})]})]})]})}),Object(ee.jsx)("div",{className:"",children:Object(ee.jsxs)("form",{className:"w-full",children:[Object(ee.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[Object(ee.jsx)("div",{className:"md:w-1/5",children:Object(ee.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",children:"Full Name"})}),Object(ee.jsx)("div",{className:"md:w-2/3",children:Object(ee.jsx)("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",type:"text",value:(null===d||void 0===d?void 0:d.fullname)||"",name:"fullname",disabled:!0})})]}),Object(ee.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[Object(ee.jsx)("div",{className:"md:w-1/5",children:Object(ee.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",children:"Facebook"})}),Object(ee.jsx)("div",{className:"md:w-2/3",children:Object(ee.jsx)("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",type:"text",value:(null===d||void 0===d?void 0:d.facebook)||"",name:"facebook",disabled:!0})})]}),Object(ee.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[Object(ee.jsx)("div",{className:"md:w-1/5",children:Object(ee.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",children:"Phone number"})}),Object(ee.jsx)("div",{className:"md:w-2/3",children:Object(ee.jsx)("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",type:"text",value:(null===d||void 0===d?void 0:d.phone)||"",name:"phone",disabled:!0})})]}),Object(ee.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[Object(ee.jsx)("div",{className:"md:w-1/5",children:Object(ee.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",children:"Story"})}),Object(ee.jsx)("div",{className:"md:w-2/3",children:Object(ee.jsx)("input",{className:"bg-gray-200 appearance-none w-full border-2  border-gray-200 rounded  py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",type:"text",value:(null===d||void 0===d?void 0:d.story)||"",name:"story",disabled:!0})})]}),Object(ee.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[Object(ee.jsx)("div",{className:"md:w-1/5",children:Object(ee.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",children:"Date of birth"})}),Object(ee.jsx)("div",{className:"md:w-2/3",children:Object(ee.jsx)("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",type:"text",value:(null===d||void 0===d?void 0:d.birthday)||"",name:"phone",disabled:!0})})]}),Object(ee.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[Object(ee.jsx)("div",{className:"md:w-1/5",children:Object(ee.jsx)("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",children:"Gender"})}),Object(ee.jsx)("div",{className:"md:w-2/3",children:Object(ee.jsx)(nt.a,{component:"fieldset",children:Object(ee.jsxs)(tt.a,{row:!0,"aria-label":"gender",defaultValue:A.auth.user.gender||"",name:"gender",disabled:!0,children:[Object(ee.jsx)(de.a,{value:"female",control:Object(ee.jsx)(et.a,{}),label:"Female",disabled:!0}),Object(ee.jsx)(de.a,{value:"male",control:Object(ee.jsx)(et.a,{}),label:"Male",disabled:!0}),Object(ee.jsx)(de.a,{value:"other",control:Object(ee.jsx)(et.a,{}),label:"Other",disabled:!0})]})})})]}),Object(ee.jsx)("div",{className:"flex justify-end items-center space-x-2 mt-2",children:Object(ee.jsx)(Ot.a,{variant:"contained",color:"info",onClick:function(){return h(!b)},children:"Edit"})})]})})]}),Object(ee.jsx)(ic,{value:a,index:1,children:Object(ee.jsx)(O.d,{initialValues:{oldpassword:"",password:"",confirm:""},validationSchema:S,onSubmit:he,children:function(e){var t=e.errors,n=(e.touched,Object(m.a)(e,rc));return Object(ee.jsxs)(O.c,{children:[Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"oldpassword",error:t.oldpassword,type:J.oldpassword?"text":"password",label:"Old Password",variant:"outlined",onFocus:function(){se(Object(Z.a)(Object(Z.a)({},ne),{},{password:!0}))},helperText:Object(ee.jsx)(O.a,{name:"oldpassword",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){X(Object(Z.a)(Object(Z.a)({},J),{},{oldpassword:!J.oldpassword}))},children:J.oldpassword?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}})}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"password",error:t.password,type:J.password?"text":"password",label:"Password",variant:"outlined",onFocus:function(){se(Object(Z.a)(Object(Z.a)({},ne),{},{password:!0}))},helperText:Object(ee.jsx)(O.a,{name:"password",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){X(Object(Z.a)(Object(Z.a)({},J),{},{password:!J.password}))},children:J.password?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}})}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"confirm",type:J.confirm?"text":"password",error:t.confirm,label:"Confirm Password",variant:"outlined",helperText:Object(ee.jsx)(O.a,{name:"confirm",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){X(Object(Z.a)(Object(Z.a)({},J),{},{confirm:!J.confirm}))},children:J.confirm?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}})})]}),Object(ee.jsxs)("div",{className:"flex justify-end items-center space-x-2 mt-2",children:[Object(ee.jsx)(Ot.a,{variant:"contained",color:"success",type:"submit",disabled:n.isSubmitting,children:n.isSubmitting?"Saving...":"Save"}),Object(ee.jsx)(Ot.a,{variant:"outlined",color:"error",className:" bg-red-600",onClick:function(){return function(e){e.resetForm()}(n)},children:"Cancel"})]}),Object(ee.jsx)("div",{className:"flex justify-end mt-4",children:Object(ee.jsx)("p",{className:" font-medium text-blue-500 cursor-pointer",children:"Qu\xean m\u1eadt kh\u1ea9u?"})})]})}})})]})})]})},dc=n(67),uc=n(295),jc=n.n(uc);function bc(e){var t=e.open,n=e.handleClose,s=Object(be.a)("auth"),a=(Object(i.a)(s,2)[0],Object(c.useState)([])),r=Object(i.a)(a,2),o=(r[0],r[1],Object(c.useState)([{cat:"1",key:"Group 1"},{cat:"2",key:"Group 2"},{cat:"3",key:"Group 3"},{cat:"4",key:"Group 4"},{cat:"5",key:"Group 5"},{cat:"6",key:"Group 6"},{cat:"7",key:"Group 7"},{cat:"8",key:"Group 8"}])),l=Object(i.a)(o,2),d=l[0];l[1];return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)(ut.a,{maxWidth:"xl",open:t,onClose:function(){return n()},children:Object(ee.jsxs)("div",{className:"w-96 divide-y divide-gray-300",style:{height:"400px"},children:[Object(ee.jsxs)("div",{className:"grid grid-cols-6 my-1 ",children:[Object(ee.jsx)("div",{className:" ml-2 flex items-center cursor-pointer",children:Object(ee.jsx)("i",{onClick:function(){n()},className:"fas fa-times fa-lg "})}),Object(ee.jsx)("div",{className:"flex col-start-2 col-span-4 justify-center items-center gap-2",children:Object(ee.jsx)("p",{className:" font-medium text-xl",children:"New Message"})}),Object(ee.jsx)("div",{className:"flex justify-end mr-2 ",children:Object(ee.jsx)("button",{onClick:function(){console.log("Create")},className:"focus:outline-none text-blue-600 cursor-pointer",children:"Create"})})]}),Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsx)("p",{className:" font-normal mt-2 ml-2",children:"To:"}),Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(jc.a,{customCloseIcon:Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("i",{className:"fas fa-backspace ml-1 cursor-pointer"})}),displayValue:"key",placeholder:"Search...",onKeyPressFn:function(){},onRemove:function(e){console.log(e)},onSelect:function(e){console.log(e)},onSearch:function(){},showCheckbox:!0,closeOnSelect:!0,options:d,style:{chips:{background:"#e0f1ff",color:"#0999f6"},multiselectContainer:{color:"grey"},searchBox:{border:"none","border-bottom":"1px solid #e3e3e3","border-radius":"0px"}}})})]})]})})})}var mc=function(){for(var e=[],t=0;t<=10;t++)e=[].concat(Object(ve.a)(e),[Object(ee.jsx)(dc.c,{children:Object(ee.jsx)(dc.c.Content,{children:Object(ee.jsx)("div",{children:Object(ee.jsx)(Kt,{})})})},t)]);return e},hc=function(e){var t,n=e.socket,s=Object(be.a)(["auth"]),a=Object(i.a)(s,2)[0],r=Object(Oe.c)((function(e){return e.auth.data})),o=Object(Oe.c)((function(e){return e.myconver})),l=Object(c.useState)(!1),d=Object(i.a)(l,2),u=d[0],j=d[1],m=Object(c.useState)(!0),h=Object(i.a)(m,2),p=(h[0],h[1],Object(c.useState)(!0)),O=Object(i.a)(p,2),v=O[0],g=O[1],w=Object(b.i)().userId,y=Object(Oe.b)(),N=Object(c.useState)([]),k=Object(i.a)(N,2),S=k[0],C=k[1];Object(c.useEffect)((function(){return function(){C([])}}),[]),Object(c.useEffect)((function(){var e,t;null===n||void 0===n||null===(e=n.current)||void 0===e||e.on("online",(function(e){C(e)})),null===n||void 0===n||null===(t=n.current)||void 0===t||t.on("error",(function(e){}))}),[n,o]),Object(c.useEffect)((function(){var e,t=null===o||void 0===o?void 0:o.data.map((function(e){return e.userId}));null===(e=n.current)||void 0===e||e.emit("online",{users:t})}),[o]),Object(c.useEffect)((function(){return(null===o||void 0===o?void 0:o.data.length)>0?P():E(),function(){clearTimeout(E())}}),[]);var T=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===o||void 0===o?void 0:o.totalResults,e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){g(!1)}),500);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.sent>0&&g(!1),e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){j(!u)},A=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("NextFetch"),y(Re(a.auth.tokens.access.token,null===o||void 0===o?void 0:o.pageNext,10));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)(dc.n,{position:"left",scrollable:!0,children:[Object(ee.jsx)(bc,{open:u,handleClose:I}),Object(ee.jsxs)("div",{className:"grid grid-cols-6 mt-2 mb-2",children:[Object(ee.jsxs)("div",{className:"flex col-start-2 col-span-4 justify-center items-center gap-2",children:[Object(ee.jsx)(dc.o,{status:"available",className:"cursor-pointer"}),Object(ee.jsx)("p",{className:"font-medium cursor-pointer",children:null===r||void 0===r?void 0:r.fullname})]}),Object(ee.jsx)("div",{className:" flex justify-end mr-2 items-center",children:Object(ee.jsx)("i",{onClick:function(){I()},className:"far fa-lg fa-edit cursor-pointer"})})]}),Object(ee.jsx)(dc.l,{placeholder:"Search..."}),Object(ee.jsx)(dc.e,{children:Object(ee.jsx)("div",{as:"Conversation",children:Object(ee.jsxs)("div",{id:"scrollableDiv",className:"post-show overflow-y-auto",style:{height:"35rem"},children:[v&&mc(),((null===o||void 0===o?void 0:o.data)||[]).length>0&&Object(ee.jsx)(tn.a,{scrollableTarget:"scrollableDiv",refreshFunction:!0,dataLength:(null===o||void 0===o?void 0:o.data.length)||0,next:A,hasMore:o.more,loader:Object(ee.jsx)("div",{className:" flex justify-center",children:Object(ee.jsxs)("div",{className:"lds-ring flex items-center justify-center",children:[Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{})]})}),endMessage:Object(ee.jsx)("p",{className:"flex justify-center font-thin text-base"}),children:(null===o||void 0===o?void 0:o.data)&&(null===o||void 0===o?void 0:o.data.map((function(e,t){var n,c,s;return Object(ee.jsx)("div",{onClick:function(){return t=e.id,void y(kn(a.auth.tokens.access.token,t));var t},children:Object(ee.jsx)(dt.b,{to:"/user/inbox/".concat(e.userId),children:Object(ee.jsxs)(dc.c,{lastActivityTime:rt()(null===e||void 0===e||null===(n=e.lastMessage)||void 0===n?void 0:n.createdAt).fromNow(),className:e.userId===w?"bg-blue-100 hover:bg-blue-100 ":"",children:[Object(ee.jsx)(dc.a,{src:"https://mxhld.herokuapp.com/v1/image/".concat((null===e||void 0===e?void 0:e.id)===a.auth.user.id?null===r||void 0===r?void 0:r.avatar:null===e||void 0===e?void 0:e.avatar),name:null===e||void 0===e?void 0:e.fullname,status:S[t]?"available":"invisible"}),Object(ee.jsx)(dc.c.Content,{name:(null===e||void 0===e?void 0:e.id)===a.auth.user.id?null===r||void 0===r?void 0:r.fullname:null===e||void 0===e?void 0:e.fullname,info:null===e||void 0===e||null===(c=e.lastMessage)||void 0===c||null===(s=c.content)||void 0===s?void 0:s.text}),Object(ee.jsx)(dc.c.Operations,{})]})})},t)})))}),(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.length)<=0&&!v&&Object(ee.jsx)("div",{className:"flex justify-center items-center",children:Object(ee.jsx)("p",{className:"",children:"You have no conversations"})})]})})})]})},fc=(n(866),n(231)),xc=n.n(fc),pc=n(155),Oc=n.n(pc),vc=n(432),gc=n.n(vc);function wc(e){var t=e.open,n=e.handleClose,s=Object(c.useState)([{cat:"1",key:"Group 1"},{cat:"2",key:"Group 2"},{cat:"3",key:"Group 3"},{cat:"4",key:"Group 4"},{cat:"5",key:"Group 5"},{cat:"6",key:"Group 6"},{cat:"7",key:"Group 7"},{cat:"8",key:"Group 8"}]),a=Object(i.a)(s,1)[0],r=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)(ut.a,{maxWidth:"xl",open:t,onClose:function(){return n()},children:Object(ee.jsxs)("div",{className:"w-96 divide-y divide-gray-300",style:{height:"400px"},children:[Object(ee.jsxs)("div",{className:"grid grid-cols-6 my-1 ",children:[Object(ee.jsx)("div",{className:" ml-2 flex items-center cursor-pointer",children:Object(ee.jsx)("i",{onClick:function(){n()},className:"fas fa-times fa-lg "})}),Object(ee.jsx)("div",{className:"flex col-start-2 col-span-4 justify-center items-center gap-2",children:Object(ee.jsx)("p",{className:" font-medium text-xl",children:"Add more member"})}),Object(ee.jsx)("div",{className:"flex justify-end mr-2 ",children:Object(ee.jsx)("button",{onClick:function(){r()},className:"focus:outline-none text-blue-600 cursor-pointer",children:"Add"})})]}),Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsx)("p",{className:" font-normal mt-2 ml-2",children:"Member:"}),Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(uc.Multiselect,{customCloseIcon:Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("i",{className:"fas fa-backspace ml-1 cursor-pointer"})}),displayValue:"key",placeholder:"Search...",onKeyPressFn:function(){},onRemove:function(e){console.log(e)},onSelect:function(e){console.log(e)},onSearch:function(){},showCheckbox:!0,closeOnSelect:!0,options:a,style:{optionContainer:{"::-webkit-scrollbar-thumb ":{background:" rgba(219, 215, 215, 0.925)"},"::-webkit-scrollbar":{width:"0em"}},chips:{background:"#e0f1ff",color:"#0999f6"},multiselectContainer:{color:"grey"},searchBox:{border:"none","border-bottom":"1px solid #e3e3e3","border-radius":"0px"}}})})]})]})})})}function yc(e){var t=e.openChangeName,n=e.handleCloseChangeName,s=Object(be.a)("auth"),a=(Object(i.a)(s,2)[0],Object(c.useState)("")),r=Object(i.a)(a,2),o=r[0],l=r[1],d=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)(ut.a,{maxWidth:"xl",open:t,onClose:function(){return n()},children:Object(ee.jsxs)("div",{className:"w-96 divide-y divide-gray-300",style:{height:"135px"},children:[Object(ee.jsxs)("div",{className:"grid grid-cols-6 my-1 ",children:[Object(ee.jsx)("div",{className:" ml-2 flex items-center cursor-pointer",children:Object(ee.jsx)("i",{onClick:function(){n()},className:"fas fa-times fa-lg "})}),Object(ee.jsx)("div",{className:"flex col-start-2 col-span-4 justify-center items-center gap-2",children:Object(ee.jsx)("p",{className:" font-medium text-xl",children:"Change name the chat"})}),Object(ee.jsx)("div",{className:"flex justify-end mr-2 ",children:Object(ee.jsx)("button",{onClick:function(){d()},className:"focus:outline-none text-blue-600 cursor-pointer",children:"Change"})})]}),Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[Object(ee.jsx)("p",{className:" font-medium mt-2 ml-2 text-sm text-gray-500",children:"Everyone will see the name of chat"}),Object(ee.jsxs)("p",{className:"text-gray-400 mt-2 mr-2 text-xs font-semibold",children:[null===o||void 0===o?void 0:o.length,"/2,200"]})]}),Object(ee.jsx)("div",{className:"p-2",children:Object(ee.jsx)("textarea",{rows:"2",className:"border-2 rounded-md border-gray-200 focus:outline-none  overflow-visible text-sm resize-none w-full  font-normal text-gray-base",value:o||"",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)>=2200||l(e.target.value)},maxLength:2200,placeholder:"Add a new Name...",type:"text",autoComplete:"off"})})]})]})})})}var Nc=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(i.a)(a,2),o=r[0],l=r[1],d=function(){s(!n)};return Object(ee.jsxs)(dc.n,{position:"right",children:[Object(ee.jsx)(yc,{openChangeName:o,handleCloseChangeName:function(){l(!o)}}),Object(ee.jsx)(wc,{open:n,handleClose:d}),Object(ee.jsx)(dc.g,{open:!0,title:"Info",className:"text-2xl",children:Object(ee.jsxs)("div",{onClick:function(){l(!o)},className:"flex items-center gap-2 text-gray-600 cursor-pointer rounded hover:bg-gray-200 hover:opacity-80",children:[Object(ee.jsx)("i",{className:"fas fa-pen ml-1"}),Object(ee.jsx)("p",{className:"font-medium text-base p-2",children:"Change the chat"})]})}),Object(ee.jsxs)(dc.g,{open:!0,title:"Members",className:"text-2xl",children:[Object(ee.jsx)("div",{className:"flex mt-2 ",children:Object(ee.jsx)("div",{onClick:function(){d()},className:" w-full cursor-pointer rounded  hover:bg-gray-200 hover:opacity-80",children:Object(ee.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[Object(ee.jsx)("i",{className:"fas fa-plus-circle ml-2"}),Object(ee.jsx)("p",{className:" font-medium text-base p-2",children:"Add more member"})]})})}),Object(ee.jsxs)("div",{className:"flex mt-2 ",children:[Object(ee.jsx)("img",{className:"rounded-full w-9 h-9 mr-3 cursor-pointer",src:"/assets/image/defaultAvatar.png",alt:"img"}),Object(ee.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("p",{className:"font-bold text-base",children:"fullname"}),Object(ee.jsx)("p",{className:" font-normal text-gray-400 text-xs",children:"Admin"})]}),Object(ee.jsxs)(xc.a,{color:"lightBlue",placement:"bottom-start",buttonText:Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("p",{className:" text-xs",children:"Action"})}),buttonType:"link",size:"regular",rounded:!1,block:!1,ripple:"dark",children:[Object(ee.jsx)(Oc.a,{color:"lightBlue",ripple:"light",className:"mt-2",children:"Profile"}),Object(ee.jsx)("hr",{}),Object(ee.jsx)(gc.a,{className:"mt-2",href:"#",color:"lightBlue",ripple:"light",onClick:function(e){return e.preventDefault()},children:"Remove Admin role"}),Object(ee.jsx)(Oc.a,{color:"lightBlue",ripple:"light",children:"Leave Group"})]})]})]}),Object(ee.jsxs)("div",{className:"flex mt-2 ",children:[Object(ee.jsx)("img",{className:"rounded-full w-9 h-9 mr-3 cursor-pointer",src:"/assets/image/defaultAvatar.png",alt:"img"}),Object(ee.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("p",{className:"font-bold text-base",children:"fullname"}),Object(ee.jsx)("p",{className:" font-normal text-gray-400 text-xs",children:" member"})]}),Object(ee.jsxs)(xc.a,{color:"lightBlue",placement:"bottom-start",buttonText:Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("p",{className:" text-xs",children:"Action"})}),buttonType:"link",size:"regular",rounded:!1,block:!1,ripple:"dark",children:[Object(ee.jsx)(Oc.a,{color:"lightBlue",ripple:"light",className:"mt-2",children:"Profile"}),Object(ee.jsx)(Oc.a,{color:"lightBlue",ripple:"light",className:"mt-2",children:"Inbox"}),Object(ee.jsx)(Oc.a,{color:"lightBlue",ripple:"light",className:"mt-2",children:"Block"}),Object(ee.jsx)("hr",{}),Object(ee.jsx)(gc.a,{className:"mt-2",href:"#",color:"lightBlue",ripple:"light",onClick:function(e){return e.preventDefault()},children:"Appoint as Admin"}),Object(ee.jsx)(Oc.a,{color:"lightBlue",ripple:"light",children:"Delete"})]})]})]})]}),Object(ee.jsx)(dc.g,{title:"Media",className:"text-2xl",children:Object(ee.jsx)("div",{className:" cursor-pointer rounded text-blue-600 hover:bg-gray-200 hover:opacity-80",children:Object(ee.jsx)("p",{className:" font-normal text-base p-2",children:"Will Upadate next version in the Future..."})})}),Object(ee.jsxs)(dc.g,{title:"Options",className:"text-2xl",children:[Object(ee.jsx)("div",{className:" cursor-pointer rounded  hover:bg-gray-200 hover:opacity-80",children:Object(ee.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[Object(ee.jsx)("i",{className:"fas fa-trash ml-1"}),Object(ee.jsx)("p",{className:" font-medium text-base p-2",children:"Delete"})]})}),Object(ee.jsx)("div",{className:" cursor-pointer rounded  hover:bg-gray-200 hover:opacity-80",children:Object(ee.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[Object(ee.jsx)("i",{className:"fas fa-minus-circle ml-1"}),Object(ee.jsx)("p",{className:" font-medium text-base p-2",children:"Block"})]})}),Object(ee.jsx)("div",{className:" cursor-pointer rounded  hover:bg-gray-200 hover:opacity-80",children:Object(ee.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[Object(ee.jsx)("i",{className:"fas fa-exclamation-triangle ml-1"}),Object(ee.jsx)("p",{className:" font-medium text-base p-2",children:"Report"})]})}),Object(ee.jsx)("div",{className:" cursor-pointer rounded  hover:bg-gray-200 hover:opacity-80",children:Object(ee.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[Object(ee.jsx)("i",{className:"fas fa-sign-out-alt ml-1"}),Object(ee.jsx)("p",{className:" font-medium text-base p-2",children:"Leave Group"})]})})]})]})},kc=(n(867),function(e){var t=e.userInfo;return Object(ee.jsx)("div",{className:"absolute top-3/4 transform translate-y-10",children:Object(ee.jsxs)("div",{className:"flex  items-center",children:[Object(ee.jsxs)("p",{className:" font-medium text-base",style:{color:"#06b6d4"},children:[null===t||void 0===t?void 0:t.fullname," is typing ...."]}),Object(ee.jsx)("div",{className:"",children:Object(ee.jsxs)("div",{className:"lds-facebook",children:[Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{}),Object(ee.jsx)("div",{})]})})]})})}),Sc=s.a.memo((function(e){var t,n=e.data,c=e.userInfo,s=e.socket,a=e.index,r=Object(be.a)("auth"),o=Object(i.a)(r,2)[0],l=Object(Oe.b)(),d=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pe(o.auth.tokens.access.token,null===n||void 0===n?void 0:n.conversationId,null===n||void 0===n?void 0:n.id).then((function(e){var t,n,r;l(Cn({id:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id,createdAt:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.createdAt,conversationId:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.conversationId,sender:o.auth.user.id,typeMessage:"RECALL"},a)),s.current.emit("sendRecall",{senderId:o.auth.user.id,receiverId:null===c||void 0===c?void 0:c.id,messageId:e.data.id,index:a}),setTimeout((function(){l(Me(o.auth.tokens.access.token,1,10))}),2e3)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)(dc.i,{model:{message:"",sentTime:"",sender:"",direction:"".concat((null===n||void 0===n?void 0:n.sender)!==o.auth.user.id?"incoming":"outgoing"),position:"last"},children:[(null===n||void 0===n?void 0:n.sender)!==o.auth.user.id&&Object(ee.jsx)(dc.a,{src:"https://mxhld.herokuapp.com/v1/image/".concat(null===c||void 0===c?void 0:c.avatar),name:"Joe"}),Object(ee.jsx)(dc.i.CustomContent,{style:{background:"none!important"},children:Object(ee.jsxs)("div",{className:"flex items-center gap-2 group",children:[Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsxs)("div",{className:"".concat((null===n||void 0===n?void 0:n.sender)!==o.auth.user.id?"justify-start":"justify-end"," flex  "),children:["LIKE"===(null===n||void 0===n?void 0:n.typeMessage)&&Object(ee.jsx)("div",{className:"flex items-center w-10 h-10 bg-none",children:Object(ee.jsxs)("svg",{"aria-labelledby":"js_1l",viewBox:"0 0 16 16",height:"80%",width:"80%",children:[Object(ee.jsx)("title",{id:"js_1l",children:"K\xfd hi\u1ec7u gi\u01a1 ng\xf3n tay c\xe1i"}),Object(ee.jsx)("path",{fill:"#0084ff",d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z"}),Object(ee.jsx)("path",{fill:"#0084ff",d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z"})]})}),"LOVE"===(null===n||void 0===n?void 0:n.typeMessage)&&Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{alt:"\u2764\ufe0f",className:"_5zft img",draggable:"false",height:"28",src:"https://static.xx.fbcdn.net/images/emoji.php/v9/tf2/1.5/28/2764.png",width:"28"})}),"IMAGE"===(null===n||void 0===n?void 0:n.typeMessage)&&Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===n||void 0===n||null===(t=n.content)||void 0===t?void 0:t.file),alt:"Akane avatar",width:200})}),"VIDEO"===(null===n||void 0===n?void 0:n.typeMessage)&&Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("video",{style:{width:"400px",height:"400px"},controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===n||void 0===n?void 0:n.content.file)})})}),"AUDIO"===(null===n||void 0===n?void 0:n.typeMessage)&&Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("audio",{controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===n||void 0===n?void 0:n.content.file)})})})]}),"RECALL"===(null===n||void 0===n?void 0:n.typeMessage)&&Object(ee.jsx)(ee.Fragment,{children:(null===n||void 0===n?void 0:n.sender)!==o.auth.user.id?Object(ee.jsxs)("div",{className:" max-w-xs text-gray-500  font-bold italic",children:[null===c||void 0===c?void 0:c.fullname," was recall"]}):Object(ee.jsx)("div",{className:" max-w-xs",children:Object(ee.jsx)("p",{className:" text-white font-normal italic",children:"You was recall message"})})}),"DOWNLOAD"===(null===n||void 0===n?void 0:n.typeMessage)&&Object(ee.jsx)("div",{className:" max-w-xs",children:Object(ee.jsx)("td",{className:"\n                    ".concat((null===n||void 0===n?void 0:n.sender)!==o.auth.user.id?"text-blue-700":"text-yellow-200","\n                    cursor-pointer   underline decoration-1 italic"),onClick:function(){window.open("https://mxhld.herokuapp.com/v1/file/".concat(null===n||void 0===n?void 0:n.content.file),"_blank")},children:null===n||void 0===n?void 0:n.content.text})}),"TEXT"===(null===n||void 0===n?void 0:n.typeMessage)&&Object(ee.jsx)("div",{className:" max-w-xs",children:null===n||void 0===n?void 0:n.content.text})]}),(null===n||void 0===n?void 0:n.sender)===o.auth.user.id&&"RECALL"!==(null===n||void 0===n?void 0:n.typeMessage)?Object(ee.jsx)("div",{className:" text-sm",onClick:function(){d()},children:Object(ee.jsx)("i",{className:"fas fa-2x fa-backspace cursor-pointer group-hover:block hidden"})}):null]})})]})})})),Cc=function(e){var t=e.listMess,n=e.userInfo,s=e.socket,a=(e.scrollDown,e.scroll),r=e.userId,o=(e.currentMessage,Object(be.a)(["auth"])),l=Object(i.a)(o,2)[0],d=Object(c.useState)(!0),u=Object(i.a)(d,2),j=u[0],b=u[1],m=Object(c.useRef)(null),h=Object(Oe.b)();Object(c.useEffect)((function(){f(),b(!0)}),[]);var f=function(){Se(l.auth.tokens.access.token,r).then((function(e){h(kn(l.auth.tokens.access.token,e.data.id))})).catch((function(e){console.log(e)}))};Object(c.useEffect)((function(){b(!0)}),[r]),Object(c.useEffect)((function(){x()}),[]),Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.length)>=0&&b(!1),x()}),[t]),Object(c.useEffect)((function(){x()}),[a]);var x=function(){var e=document.documentElement.scrollHeight-document.documentElement.clientHeight;window.scroll(1,e),m.current.scrollIntoView({behavior:"smooth"})};return Object(ee.jsxs)("div",{className:"relative",children:[j&&Object(ee.jsx)("div",{className:" object-cover absolute w-full h-full z-50 bg-white  flex items-center justify-center",style:{overflow:"hidden"},children:Object(ee.jsx)("img",{className:"w-16 h-16",src:"/assets/image/spin.gif",alt:"spin"})}),Object(ee.jsxs)("div",{id:"messDiv",className:" post-show relative ",style:{height:"520px",overflow:"auto"},children:[(null===t||void 0===t?void 0:t.length)>0&&Object(ee.jsx)("div",{className:"px-5 pt-5 relative",children:t&&t.map((function(e,t){return Object(ee.jsx)("div",{children:Object(ee.jsx)(Sc,{index:t,userInfo:n,data:e,socket:s})},t)}))}),Object(ee.jsx)("div",{className:"".concat((null===t||void 0===t?void 0:t.length)>0&&"mt-20"),ref:m})]})]})},Tc=function(e){var t=e.setOpenSr,n=e.openSr,s=e.typing,a=e.socket,r=e.scroll,o=Object(c.useState)(null),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(Oe.c)((function(e){return e.messConver})),m=Object(b.i)().userId;Object(c.useEffect)((function(){h()}),[m]);var h=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(m).then((function(e){u(e.data)})).catch((function(e){console.log("header",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(dc.d,{children:[Object(ee.jsx)(dc.d.Back,{}),Object(ee.jsx)(dc.a,{src:"https://mxhld.herokuapp.com/v1/image/".concat(null===d||void 0===d?void 0:d.avatar)}),Object(ee.jsx)(dc.d.Content,{userName:"".concat(null===d||void 0===d?void 0:d.fullname)}),Object(ee.jsxs)(dc.d.Actions,{children:[Object(ee.jsx)(dc.q,{}),Object(ee.jsx)(dc.p,{}),Object(ee.jsx)(dc.f,{orientation:"vertical",onClick:function(){return t(!n)}})]})]}),Object(ee.jsxs)("div",{className:"post-show",style:{overflow:"hidden",height:510},children:[Object(ee.jsx)(Cc,{userInfo:d,listMess:null===j||void 0===j?void 0:j.data,currentMessage:j,socket:a,scroll:r,userId:m}),s&&Object(ee.jsx)(kc,{userInfo:d})]})]})},Ec=n(985);function Pc(e){return Object(ee.jsxs)("div",{className:"p-2",children:[Object(ee.jsx)(Ec.a,Object(Z.a)(Object(Z.a)({variant:"determinate"},e),{},{sx:{borderRadius:"50px"}})),Object(ee.jsx)(o.a,{sx:{minWidth:35},children:Object(ee.jsx)($.a,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})}var Ic=function(e){var t=e.process,n=c.useState(0),s=Object(i.a)(n,2),a=s[0],r=s[1];return c.useEffect((function(){return r(t),function(){r(0)}}),[t]),Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)(o.a,{sx:{width:"100%"},children:Object(ee.jsx)(Pc,{value:a})})})},Ac=n(387),Dc=function(e){var t=e.open,n=e.onClose,s=e.setSelectedImage,a=e.sendMediaBlood,r=Object(c.useState)(null),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(Ac.useReactMediaRecorder)({video:!0}),j=u.status,b=u.startRecording,m=u.stopRecording,h=u.mediaBlobUrl,p=u.mediaBlob,O=u.clearBlobUrl,v=Object(c.useState)(null),g=Object(i.a)(v,2),w=g[0],y=g[1];Object(c.useEffect)((function(){return O(),function(){y(null)}}),[]),Object(c.useEffect)((function(){y(p)}),[p]),Object(c.useEffect)((function(){null!==p&&s(p)}),[p]);var N=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then((function(e){d(e)})),O(),y(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){null!=e?(e.getTracks().forEach((function(e){e.stop()})),d(null)):S()},S=function(){m(),O(),y(null),n()};return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(jt.a,{transition:jt.b}),Object(ee.jsxs)(ut.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",width:"xl",fullWidth:!0,children:[Object(ee.jsx)(pt.a,{id:"alert-dialog-title",children:"Send Video to your Friend"}),Object(ee.jsx)(vt.a,{sx:{overflow:"hidden"},children:Object(ee.jsx)(gt.a,{sx:{overflow:"hidden"},id:"alert-dialog-description",children:Object(ee.jsxs)("div",{children:[l&&Object(ee.jsx)("video",{autoPlay:!0,ref:function(e){e&&(e.srcObject=l)}}),Object(ee.jsxs)("span",{className:"text-red-400",children:[j,"..."]}),Object(ee.jsxs)("div",{className:" flex gap-4 py-2 justify-center",children:[Object(ee.jsx)("button",{className:" rounded-md text-white bg-red-400 h-10",onClick:b,children:Object(ee.jsx)("span",{onClick:N.bind(undefined),className:"p-2",children:"Start Recording"})}),Object(ee.jsx)("button",{className:" rounded-md text-white bg-blue-400",onClick:function(){m(),k(l),y(p)},children:Object(ee.jsx)("span",{className:"p-2",children:"Stop Recording"})})]}),null!=h&&Object(ee.jsx)("video",{className:"w-full",src:h,controls:!0,autoPlay:!0})]})})}),Object(ee.jsxs)(wt.a,{children:[Object(ee.jsx)(Ot.a,{onClick:function(){return null!==w?(s(w),a()):jt.c.error("You not recording video !",{position:jt.c.POSITION.BOTTOM_CENTER,autoClose:2e3,hideProgressBar:!0}),O(),y(null),void n()},children:"Send"}),Object(ee.jsx)(Ot.a,{onClick:function(){m(),k(l),S()},autoFocus:!0,children:"Close"})]})]})]})},Mc=function(e){var t=e.open,n=e.onClose,s=e.setSelectedImage,a=e.sendMediaBlood,r=Object(c.useState)(null),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)(!1),j=Object(i.a)(u,2),b=j[0],m=j[1],h=Object(Ac.useReactMediaRecorder)({audio:!0}),f=h.status,x=h.startRecording,p=h.stopRecording,O=h.mediaBlobUrl,v=h.mediaBlob,g=h.clearBlobUrl;Object(c.useEffect)((function(){return function(){d(null)}}),[]),Object(c.useEffect)((function(){d(v)}),[v]),Object(c.useEffect)((function(){null!==v&&s(v)}),[v]);return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(jt.a,{transition:jt.b}),Object(ee.jsxs)(ut.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",width:"xl",fullWidth:!0,children:[Object(ee.jsx)(pt.a,{id:"alert-dialog-title",children:"Send Audio to your Friend"}),Object(ee.jsx)(vt.a,{children:Object(ee.jsx)(gt.a,{id:"alert-dialog-description",children:Object(ee.jsxs)("div",{children:[b&&Object(ee.jsx)("div",{className:" flex gap-10 justify-center items-center",children:Object(ee.jsx)("img",{className:"w-32 h-32",src:"/assets/image/rec.gif",alt:"audio"})}),Object(ee.jsx)("div",{className:"mb-2",children:f}),Object(ee.jsxs)("div",{className:"flex gap-4 justify-center h-10",children:[Object(ee.jsx)("button",{className:"bg-red-400 text-white rounded-md mr-2 ",onClick:function(){x(),m(!0)},children:Object(ee.jsx)("span",{className:"p-2",children:"Start Recording"})}),Object(ee.jsx)("button",{className:"bg-blue-400 text-white rounded-md",onClick:function(){p(),d(v),m(!1)},children:Object(ee.jsx)("span",{className:"p-2",children:" Stop Recording"})})]}),O&&Object(ee.jsx)("audio",{className:"mt-5 w-full",src:O,controls:!0,autoPlay:!0})]})})}),Object(ee.jsxs)(wt.a,{children:[Object(ee.jsx)(Ot.a,{onClick:function(){return null!==l?(s(l),a()):jt.c.error("You not recording audio !",{position:jt.c.POSITION.BOTTOM_CENTER,autoClose:2e3,hideProgressBar:!0}),g(),d(null),void n()},children:"Send"}),Object(ee.jsx)(Ot.a,{onClick:function(){p(),g(),d(null),m(!1),n()},autoFocus:!0,children:"Close"})]})]})]})};function Rc(e,t,n,c){return new(n||(n=Promise))((function(s,a){function r(e){try{o(c.next(e))}catch(t){a(t)}}function i(e){try{o(c.throw(e))}catch(t){a(t)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}o((c=c.apply(e,t||[])).next())}))}function Lc(e,t){var n,c,s,a,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,c&&(s=2&a[0]?c.return:a[0]?c.throw||((s=c.return)&&s.call(c),0):c.next)&&!(s=s.call(c,a[1])).done)return s;switch(c=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,c=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(s=(s=r.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(6===a[0]&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(i){a=[6,i],c=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var Fc=function(e){var t=e.options,n=e.audio,s=void 0!==n&&n,a=Object(c.useState)(null),r=a[0],i=a[1],o=Object(c.useState)(null),l=o[0],d=o[1],u=Object(c.useState)(),j=u[0],b=u[1],m=Object(c.useState)(),h=m[0],f=m[1],x=Object(c.useState)("permission-requested"),p=x[0],O=x[1],v=Object(c.useState)({audio:null,screen:null}),g=v[0],w=v[1];Object(c.useEffect)((function(){h&&(h.ondataavailable=function(e){var t=window.URL.createObjectURL(e.data),n=e.data.slice(0,e.data.size,"video/mp4");i(t),d(n)})}),[h]);var y=function(){return Rc(void 0,void 0,void 0,(function(){var e,n,c,a,r,i;return Lc(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,navigator.mediaDevices.getDisplayMedia()];case 1:return e=o.sent(),n=void 0,s?[4,navigator.mediaDevices.getUserMedia({audio:s})]:[3,3];case 2:n=o.sent(),o.label=3;case 3:return(c=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var c=Array(e),s=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,i=a.length;r<i;r++,s++)c[s]=a[r];return c}(null===e||void 0===e?void 0:e.getTracks(),null===n||void 0===n?void 0:n.getTracks()))&&O("idle"),a=new MediaStream(c),r=new MediaRecorder(a,t),f(r),w({audio:(null===n||void 0===n?void 0:n.getTracks().find((function(e){return"audio"===e.kind})))||null,screen:e.getTracks().find((function(e){return"video"===e.kind}))||null}),[2,r];case 4:return i=o.sent(),b(i),O("error"),[3,5];case 5:return[2]}}))}))};return{blob:l,blobUrl:r,error:j,pauseRecording:function(){if(!h)throw Error("No media stream!");null===h||void 0===h||h.pause(),O("paused")},resetRecording:function(){i(null),b(null),f(null),O("idle"),d(null),null===h||void 0===h||h.stream.getTracks().map((function(e){e.stop()}))},resumeRecording:function(){if(!h)throw Error("No media stream!");null===h||void 0===h||h.resume(),O("recording")},startRecording:function(){return Rc(void 0,void 0,void 0,(function(){var e;return Lc(this,(function(t){switch(t.label){case 0:return e=h,h?[3,2]:[4,y()];case 1:e=t.sent(),t.label=2;case 2:return e.start(),O("recording"),[2]}}))}))},status:p,stopRecording:function(){if(!h)throw Error("No media stream!");null===h||void 0===h||h.stop(),O("stopped"),h.stream.getTracks().map((function(e){e.stop()})),f(null)},streams:g}},Bc=(n(869),function(e){var t=e.title,n=e.value,c=e.style;return Object(ee.jsxs)("div",{style:c,className:"pill",children:[Object(ee.jsx)("h6",{children:t}),Object(ee.jsx)("p",{children:n})]})}),zc=function(e){var t=e.open,n=e.onClose,s=e.setSelectedImage,a=e.sendMediaBlood,r=Object(c.useRef)(),i=Fc({audio:!0}),o=i.blobUrl,l=i.pauseRecording,d=i.resetRecording,u=i.resumeRecording,j=i.startRecording,b=i.status,m=i.stopRecording,h=i.blob;Object(c.useEffect)((function(){s(h)}),[h]),Object(c.useEffect)((function(){d()}),[]);return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(jt.a,{transition:jt.b}),Object(ee.jsxs)(ut.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",width:"xl",fullWidth:!0,children:[Object(ee.jsx)(pt.a,{id:"alert-dialog-title",children:"Send Screen Recording to your Friend"}),Object(ee.jsx)(vt.a,{children:Object(ee.jsx)(gt.a,{id:"alert-dialog-description",children:Object(ee.jsxs)("div",{className:"wrapper",children:[Object(ee.jsx)("div",{className:"pills",children:Object(ee.jsx)(Bc,{title:"Status",style:{flexGrow:1},value:b})}),Object(ee.jsx)("div",{children:Object(ee.jsx)("video",{ref:r,src:o,poster:"/poster.png",controls:!0,autoPlay:!0})}),Object(ee.jsx)("div",{className:"flex justify-center items-center  ",children:Object(ee.jsxs)("div",{children:[("idle"===b||"permission-requested"===b||"error"===b)&&Object(ee.jsx)("button",{className:"bg-red-500 text-white rounded-md  h-10",onClick:function(){j()},children:Object(ee.jsx)("span",{className:"p-5",children:" Start recording"})}),("recording"===b||"paused"===b)&&Object(ee.jsx)("button",{className:"bg-red-500 text-white rounded-md mr-2 h-10",onClick:m,children:Object(ee.jsx)("span",{className:"p-5",children:" Stop recording"})}),("recording"===b||"paused"===b)&&Object(ee.jsx)("button",{className:"bg-blue-500 text-white rounded-md h-10",onClick:function(){return"paused"===b?u():l()},children:Object(ee.jsx)("span",{className:"p-5",children:"paused"===b?"Resume recording":"Pause recording"})}),"stopped"===b&&Object(ee.jsx)("button",{className:"bg-yellow-500 text-white rounded-md h-10",onClick:function(){d(),r.current.load()},children:Object(ee.jsx)("span",{className:"p-5",children:" Reset recording"})})]})})]})})}),Object(ee.jsxs)(wt.a,{children:[Object(ee.jsx)(Ot.a,{onClick:function(){console.log("data",h),h?(s(h),a()):jt.c.error("You not recording screen !",{position:jt.c.POSITION.BOTTOM_CENTER,autoClose:2e3,hideProgressBar:!0}),r.current.load(),console.log("blob last",h),d(),n()},children:"Send"}),Object(ee.jsx)(Ot.a,{onClick:function(){d(),n()},autoFocus:!0,children:"Close"})]})]})]})},Uc=function(e){var t=e.setOpenSr,n=e.openSr,s=e.socket,a=Object(be.a)(["auth"]),r=Object(i.a)(a,2)[0],o=Object(c.useRef)(),l=Object(c.useState)(null),d=Object(i.a)(l,2),u=d[0],j=d[1],m=Object(c.useState)(!1),h=Object(i.a)(m,2),p=h[0],O=h[1],v=Object(c.useState)(!1),g=Object(i.a)(v,2),w=g[0],y=g[1],N=Object(c.useRef)(null),k=Object(c.useRef)(null),S=Object(c.useRef)(null),C=Object(c.useRef)(null),T=Object(c.useState)(!1),E=Object(i.a)(T,2),P=E[0],I=E[1],A=Object(c.useState)(0),D=Object(i.a)(A,2),M=D[0],R=D[1],L=Object(c.useState)([]),F=Object(i.a)(L,2),B=F[0],z=F[1],U=Object(c.useState)(!1),G=Object(i.a)(U,2),_=G[0],V=G[1],W=Object(c.useState)(!1),H=Object(i.a)(W,2),Y=H[0],q=H[1],K=Object(c.useState)(!1),J=Object(i.a)(K,2),Q=J[0],Z=J[1],X=Object(c.useState)(!1),$=Object(i.a)(X,2),te=$[0],ne=$[1],ce=(Object(c.useRef)(null),Object(c.useState)(Date.now())),se=Object(i.a)(ce,2),ae=se[0],re=se[1],ie=Object(c.useState)({}),oe=Object(i.a)(ie,2),le=oe[0],de=oe[1],ue=Object(c.useState)(""),je=Object(i.a)(ue,2),me=je[0],he=je[1],fe=Object(c.useState)(null),xe=Object(i.a)(fe,2),pe=xe[0],ve=xe[1],ge=Object(Oe.b)(),we=Object(b.i)().userId;yt(k,N,(function(){return O(!1)})),yt(C,S,(function(){return y(!1)})),Object(c.useEffect)((function(){if(s.current)return s.current.on("connect",(function(){console.log("Connection ok !")})),s.current.on("connect_error",(function(){console.log("connected error")})),s.current.on("error",(function(e){console.log(e)})),s.current.on("getMessage",function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge(Me(r.auth.tokens.access.token,1,10)),re(Date.now()),we===t.senderId){e.next=4;break}return e.abrupt("return");case 4:ge(Sn({content:{text:t.text},conversationId:null===me||void 0===me?void 0:me.id,incomming:!0,createdAt:Date.now(),id:null===t||void 0===t?void 0:t.messageId,sender:t.senderId,typeMessage:"TEXT"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.current.on("getMedia",(function(e){re(Date.now()),we===e.senderId&&(""===e.text?ge(Sn({content:{text:"",file:e.file},incomming:!0,conversationId:null===me||void 0===me?void 0:me.id,createdAt:Date.now(),id:e.messageId,sender:e.senderId,typeMessage:e.typeMessage})):ge(Sn({content:{text:e.text,file:e.file},incomming:!0,conversationId:null===me||void 0===me?void 0:me.id,createdAt:Date.now(),id:e.messageId,sender:e.senderId,typeMessage:e.typeMessage})))})),s.current.on("getRecall",(function(e){ge(Cn({content:null,incomming:!0,conversationId:null===me||void 0===me?void 0:me.id,createdAt:Date.now(),id:null===e||void 0===e?void 0:e.messageId,sender:e.senderId,typeMessage:"RECALL"},e.index))})),s.current.on("getIcon",(function(e){re(Date.now()),ge(Sn({content:null,incomming:!0,conversationId:null===me||void 0===me?void 0:me.id,createdAt:Date.now(),id:null===e||void 0===e?void 0:e.messageId,sender:e.senderId,typeMessage:e.typeMessage}))})),s.current.on("typing",(function(e){we===e.senderId&&I(!0)})),s.current.on("untyping",(function(e){we===e.senderId&&I(!1)})),s.current.on("getRecall",(function(e){console.log("onIT",e),ve(e.messageId)})),function(){s.current.off("getMessage"),s.current.off("getMedia"),s.current.off("typing"),s.current.off("untyping"),s.current.off("getIcon")}}),[we,s]),Object(c.useEffect)((function(){we&&Pe()}),[we]),Object(c.useEffect)((function(){return function(){return de([])}}),[]);var ke,Ce,Pe=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Se(r.auth.tokens.access.token,we).then((function(e){he(e.data)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(e,t){var n={senderId:r.auth.user.id,receiverId:we,text:e,messageId:t};s.current.emit("sendMessage",n),re(Date.now())},Ae=function(){var e=Object(x.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!P&&B.length>0&&(n={senderId:r.auth.user.id,receiverId:we},setTimeout((function(){}),100),null===(t=s.current)||void 0===t||t.emit("typing",n)),1===B.length&&setTimeout(Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De();case 2:case"end":return e.stop()}}),e)}))),100);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(x.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={senderId:r.auth.user.id,receiverId:we},null===(t=s.current)||void 0===t||t.emit("untyping",n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(e){var t=(e.loaded/e.total*100).toFixed(2);R(t)},Le=function(){z(""),o.current.focus(),y(!1),j(null)},Fe=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==B.length||null!==u){e.next=3;break}return Le(),e.abrupt("return");case 3:B.length>0&&(ze(),De(),Le()),null!=u&&(V(!0),Ve(),De(),Le()),setTimeout((function(){ge(Me(r.auth.tokens.access.token,1,10))}),2e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:13!==t.keyCode||t.shiftKey||0!==B.length||t.preventDefault(),13===t.keyCode&&!t.shiftKey&&(B.length>0||null!==u)&&(Fe(B),t.preventDefault());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye(r.auth.tokens.access.token,null===me||void 0===me?void 0:me.id,B).then((function(e){var t,n,c;Ie(B,null===me||void 0===me?void 0:me.id),ge(Sn({content:null===(t=e.data)||void 0===t?void 0:t.content,conversationId:null===me||void 0===me?void 0:me.id,incomming:!1,createdAt:Date.now(),id:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.id,sender:r.auth.user.id,typeMessage:null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.typeMessage}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(e){var t={senderId:r.auth.user.id,receiverId:we,text:e.content.text,file:e.content.file,typeMessage:e.typeMessage};s.current.emit("sendMedia",t)},Ge=function(e){console.log("socket handle Media");var t={senderId:r.auth.user.id,receiverId:we,text:null,file:null,typeMessage:e};s.current.emit("sendIcon",t),re(Date.now())},_e=function(){var e=Object(x.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ok",null===u||void 0===u?void 0:u.type),u?(t="video/mp4"===(null===u||void 0===u?void 0:u.type)?new File([u],"nameFile.mp4",{type:"video/mp4"}):new File([u],"nameFile.mp3",{type:"audio/mp3"}),n=new FormData,console.log("ok2",t),n.append("file",t),n.append("conversationId",null===me||void 0===me?void 0:me.id),Ne(r.auth.tokens.access.token,n,Re).then((function(e){var t,n;V(!1),console.log("ImgSend",e.data.typeMessage);var c={content:{text:Date.now(),file:e.data.content.file},conversationId:null===me||void 0===me?void 0:me.id,incomming:!1,createdAt:Date.now(),id:null===(t=e.data)||void 0===t?void 0:t.id,sender:r.auth.user.id,typeMessage:null===(n=e.data)||void 0===n?void 0:n.typeMessage};ge(Sn(c)),Ue(c),re(Date.now())})).catch((function(e){V(!1),console.log(e)})),re(Date.now())):console.log("TRY AGIAN");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new FormData).append("file",u),t.append("conversationId",null===me||void 0===me?void 0:me.id),Ne(r.auth.tokens.access.token,t,Re).then((function(e){var t,n;V(!1);var c={content:e.data.content,conversationId:null===me||void 0===me?void 0:me.id,incomming:!1,createdAt:Date.now(),id:null===(t=e.data)||void 0===t?void 0:t.id,sender:r.auth.user.id,typeMessage:null===(n=e.data)||void 0===n?void 0:n.typeMessage};ge(Sn(c)),Ue(c)})).catch((function(e){V(!1),console.log(e)})),re(Date.now());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"like"===t?Te(r.auth.tokens.access.token,null===me||void 0===me?void 0:me.id).then((function(e){ge(Sn({conversationId:null===me||void 0===me?void 0:me.id,incomming:!1,createdAt:Date.now(),id:null===e||void 0===e?void 0:e.data.id,sender:r.auth.user.id,typeMessage:"LIKE"})),Ge("LIKE")})):Ee(r.auth.tokens.access.token,null===me||void 0===me?void 0:me.id).then((function(e){ge(Sn({conversationId:null===me||void 0===me?void 0:me.id,incomming:!1,createdAt:Date.now(),id:null===e||void 0===e?void 0:e.data.id,sender:r.auth.user.id,typeMessage:"LOVE"})),Ge("LOVE")})),re(Date.now());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsx)(ee.Fragment,{children:we?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(jt.a,{transition:jt.b}),Object(ee.jsxs)(dc.b,{children:[Object(ee.jsxs)("div",{as:dc.k,children:[Object(ee.jsx)(Tc,{typing:P,messages:le,messData:null===me||void 0===me?void 0:me.id,setMessData:he,setOpenSr:t,openSr:n,socket:s,recallMess:pe,scroll:ae}),Object(ee.jsx)("div",{className:"w-full",style:{height:"10px"},children:_&&Object(ee.jsx)(Ic,{process:M})}),Object(ee.jsx)(Dc,{open:Y,onClose:function(){return q(!1)},setSelectedImage:j,selectedImage:j,sendMediaBlood:_e}),Object(ee.jsx)(Mc,{open:Q,onClose:function(){return Z(!1)},setSelectedImage:j,selectedImage:j,sendMediaBlood:_e}),Object(ee.jsx)(zc,{open:te,onClose:function(){return ne(!1)},setSelectedImage:j,selectedImage:j,sendMediaBlood:_e})]}),Object(ee.jsxs)("div",{as:dc.j,style:{display:"flex",flexDirection:"row",borderTop:"1px dashed #d1dbe4"},children:[p?Object(ee.jsx)("div",{ref:N,className:"absolute transform -translate-y-full",style:{width:"20%"},children:Object(ee.jsx)(mt.a,{onEmojiClick:function(e,t){z((function(e){return e+t.emoji})),O(!1)}})}):null,Object(ee.jsx)("div",{style:{fontSize:"1.2em",paddingLeft:"0.2em",paddingRight:"0.2em"},className:"flex items-center",children:Object(ee.jsx)("img",{className:"rounded w-7 h-7 cursor-pointer",src:"/assets/image/emoji.png",alt:"emokiimg",onClick:function(){return O(!p)},ref:k})}),w&&Object(ee.jsx)("div",{style:{fontSize:"1.2em",paddingLeft:"0.2em",paddingRight:"0.2em"},className:"flex items-center absolute transform translate-x-16 -translate-y-7 ",children:Object(ee.jsx)("input",{className:"cursor-pointer font-medium  text-blue-500 text-sm ",type:"file",onChange:function(e){var t,n=null===(t=e.target.files[0])||void 0===t?void 0:t.size;if(n>5e8)console.log("size",n),jt.c.error("File size under 500000000",{position:jt.c.POSITION.BOTTOM_CENTER,autoClose:2e3,hideProgressBar:!0}),j(null),document.getElementById("fileChoosen").value="";else{var c=e.target.files[0];j(c)}},id:"fileChoosen"})}),Object(ee.jsx)("div",{style:{fontSize:"1.2em",paddingLeft:"0.2em",paddingRight:"0.2em"},className:"flex items-center",children:Object(ee.jsx)("img",{className:"rounded w-7 h-7 cursor-pointer",src:"/assets/image/attach.png",alt:"emoji",onClick:function(){j(null),y(!w)}})}),Object(ee.jsx)("div",{style:{fontSize:"1.2em",paddingLeft:"0.2em",paddingRight:"0.2em"},className:"flex items-center",children:Object(ee.jsx)("img",{className:"rounded w-7 h-7 cursor-pointer",src:"/assets/image/mic.png",alt:"record",onClick:function(){Z(!0)}})}),Object(ee.jsx)("div",{style:{fontSize:"1.2em",paddingLeft:"0.2em",paddingRight:"0.2em"},className:"flex items-center",children:Object(ee.jsx)("img",{className:"rounded w-7 h-7 cursor-pointer",src:"/assets/image/video.png",alt:"video",onClick:function(){q(!0)}})}),Object(ee.jsx)("div",{style:{fontSize:"1.2em",paddingLeft:"0.2em",paddingRight:"0.2em"},className:"flex items-center",children:Object(ee.jsx)("img",{className:"rounded w-7 h-7 cursor-pointer",src:"/assets/image/present.png",alt:"video",onClick:function(){ne(!0)}})}),Object(ee.jsx)("div",{as:dc.j,style:{flexGrow:2,borderTop:0,flexShrink:"initial"},children:Object(ee.jsx)("textarea",{id:"textAREA",cols:"",rows:"1",className:"border-2 rounded-md border-gray-200 ml-1 focus:outline-none relative break-words overflow-visible  py-3 px-2 text-sm resize-none w-full mt-2 font-normal text-gray-base",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)>=2200||z(e.target.value)},value:B,ref:o,maxLength:2200,placeholder:"Add a comment...",type:"text",autoComplete:"off",onKeyDown:Be,onFocus:Ae,onBlur:De})}),Object(ee.jsx)("div",{style:{fontSize:"1.2em",marginLeft:"0.4em",paddingLeft:"0.2em",paddingRight:"0.2em"},className:"flex items-center",children:Object(ee.jsx)("img",{className:"rounded w-7 h-7 cursor-pointer",src:"/assets/image/like.png",alt:"emokiimg",onClick:function(){return We("like")}})}),Object(ee.jsx)("div",{style:{fontSize:"1.2em",marginLeft:"0.2em",paddingLeft:"0.2em",paddingRight:"0.2em"},className:"flex items-center",children:Object(ee.jsx)("img",{className:"rounded w-8 h-8 cursor-pointer",src:"/assets/image/heart.png",alt:"emokiimg",onClick:function(){return We("love")}})}),Object(ee.jsx)(dc.m,{onClick:function(){return Fe(B)},disabled:(ke=B,Ce=u,!((null===ke||void 0===ke?void 0:ke.length)>=1||null!=Ce)),style:{fontSize:"1.2em",marginLeft:"0.2em",paddingLeft:"0.2em",paddingRight:"0.2em"}})]})]})]}):Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:Object(ee.jsx)("div",{className:" z-20 mt-10",children:Object(ee.jsxs)("div",{className:"flex-col items-center justify-center",children:[Object(ee.jsx)("div",{className:" flex justify-center",children:Object(ee.jsxs)("p",{className:" font-avatar text-2xl",children:["Hello ! ",r.auth.user.fullname]})}),Object(ee.jsx)("div",{className:" flex justify-center mb-2",children:Object(ee.jsx)("p",{className:"",children:"Send private photos and messages to a friend."})}),Object(ee.jsx)("div",{className:" flex",children:Object(ee.jsx)("img",{src:"/assets/image/chat1.gif",alt:"chat1",width:"700",height:"700"})})]})})})})})},Gc=n(604),_c=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(be.a)(["auth"]),r=Object(i.a)(a,2)[0],o=Object(c.useRef)();return Object(c.useEffect)((function(){o.current=Object(Gc.a)("https://socket-mxhld.herokuapp.com/",{transportOptions:{polling:{extraHeaders:{Authorization:"Bearer ".concat(r.auth.tokens.access.token)}}}})}),[]),Object(ee.jsxs)("div",{className:" absolute w-full top-16 overflow-y-hidden",children:[Object(ee.jsxs)(p.a,{children:[Object(ee.jsx)("title",{children:"Inbox - Direct"}),Object(ee.jsx)("meta",{name:"description",content:"Helmet application"})]}),Object(ee.jsx)("div",{className:" w-full h-full ",children:Object(ee.jsx)("div",{style:{height:"656px",position:"relative"},children:Object(ee.jsxs)(dc.h,{responsive:!0,children:[Object(ee.jsx)(hc,{socket:o}),Object(ee.jsx)(Uc,{setOpenSr:s,openSr:n,socket:o}),n&&Object(ee.jsx)(Nc,{})]})})})]})},Vc=n(968),Wc=n(958),Hc=n(975),Yc=n(597),qc=n.n(Yc),Kc=n(976),Jc=n(605),Qc=n(970),Zc=["errors","touched"];function Xc(e){return Object(ee.jsxs)($.a,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(ee.jsx)(Hc.a,{color:"inherit",href:"https://mui.com/",children:"Vni-Social"}),(new Date).getFullYear()]})}var $c=Object(Jc.a)(),es=function(){var e=Object(c.useState)(new URLSearchParams(Object(b.h)().search)),t=Object(i.a)(e,1)[0],n=Object(c.useState)({password:!1,confirm:!1}),s=Object(i.a)(n,2),a=s[0],r=s[1],l=Object(c.useState)({password:!1,confirm:!1}),d=Object(i.a)(l,2),u=d[0],j=d[1],h=Object(c.useState)(!1),p=Object(i.a)(h,2),v=p[0],g=p[1],w=Object(b.g)(),y=function(){var e=Object(x.a)(f.a.mark((function e(n,c){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,s=t.get("token"),console.log("token parrams",s),console.log("password",n.password),e.next=7,L({token:s},{password:n.password});case 7:g(!1),Q.a.fire({icon:"success",title:"Your account was recovered ",showConfirmButton:!1,timer:1500}),w.push("/"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),g(!1),console.log("error",e.t0),Q.a.fire({icon:"error",title:e.t0.data.response.message,showConfirmButton:!1,timer:1500});case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(ee.jsxs)(Qc.a,{theme:$c,children:[v&&Object(ee.jsx)(ce,{}),Object(ee.jsxs)(Kc.a,{component:"main",maxWidth:"xs",children:[Object(ee.jsx)(Wc.a,{}),Object(ee.jsxs)(o.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(ee.jsx)(Vc.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(ee.jsx)(qc.a,{})}),Object(ee.jsx)($.a,{component:"h2",variant:"h5",color:"error",children:"Recover your password"}),Object(ee.jsx)(o.a,{sx:{mt:1},children:Object(ee.jsx)(O.d,{initialValues:{password:"",confirm:""},validationSchema:C,onSubmit:y,children:function(e){var t=e.errors,n=(e.touched,Object(m.a)(e,Zc));return Object(ee.jsxs)(O.c,{children:[Object(ee.jsx)(O.b,{as:T.a,fullWidth:!0,name:"password",error:t.password,type:a.password?"text":"password",id:"outlined-basic",label:"Password",variant:"outlined",onFocus:function(){j(Object(Z.a)(Object(Z.a)({},u),{},{password:!0}))},helperText:Object(ee.jsx)(O.a,{name:"password",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){r(Object(Z.a)(Object(Z.a)({},a),{},{password:!a.password}))},children:a.password?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}}),Object(ee.jsx)("div",{className:"mt-2"}),Object(ee.jsx)(O.b,{as:T.a,fullWidth:!0,name:"confirm",type:a.confirm?"text":"password",id:"outlined-basic",error:t.confirm,label:"Confirm Password",variant:"outlined",helperText:Object(ee.jsx)(O.a,{name:"confirm",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){r(Object(Z.a)(Object(Z.a)({},a),{},{confirm:!a.confirm}))},children:a.confirm?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}}),Object(ee.jsx)(Ot.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:n.isSubmitting,children:n.isSubmitting?"Submiting...":"Submit"})]})}})})]}),Object(ee.jsx)(Xc,{sx:{mt:8,mb:4}})]})]})},ts=["children"],ns=function(e){var t=e.children,n=Object(m.a)(e,ts),c=Object(be.a)(["auth"]),s=Object(i.a)(c,1)[0],a=Object(b.g)();return Object(ee.jsx)(b.b,Object(Z.a)(Object(Z.a)({},n),{},{render:function(){return(null===s||void 0===s?void 0:s.auth)?"admin"===s.auth.user.role||"superadmin"===s.auth.user.role?a.replace("/admin"):Object(ee.jsx)(b.a,{to:"/user/home"}):t}}))};function cs(e){var t=e.onClose,n=e.open;return Object(ee.jsx)(ut.a,{open:n,onClose:t,children:Object(ee.jsxs)("div",{className:"w-64 divide-y divide-gray-300",children:[Object(ee.jsx)("div",{className:" cursor-pointer bg-gradient-to-r py-2 px-4  hover:from-purple-400 hover:via-pink-500 hover:to-red-500 hover:text-white text-red-500 text-lg font-medium text-center",children:"Ch\u1eb7n"}),Object(ee.jsx)("div",{className:"cursor-pointer py-2 px-4  bg-gradient-to-r hover:from-purple-400 hover:via-pink-500 hover:to-red-500 hover:text-white text-red-500 text-lg font-medium text-center",children:"B\xe1o c\xe1o"}),Object(ee.jsx)("div",{onClick:t,className:"  cursor-pointer py-2 px-4 bg-gradient-to-r hover:from-purple-400 hover:via-pink-500 hover:to-red-500 hover:text-white text-gray-700 text-lg font-medium text-center",children:"H\u1ee7y"})]})})}var ss=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(i.a)(a,2),o=r[0],l=r[1],d=Object(c.useState)(),u=Object(i.a)(d,2),j=u[0],m=u[1],h=Object(c.useState)(!0),O=Object(i.a)(h,2),v=O[0],g=O[1],w=Object(be.a)(["auth"]),y=Object(i.a)(w,2)[0],N=Object(b.i)().username,k=Object(b.h)().search,S=Object(b.g)(),C=Object(c.useState)([]),T=Object(i.a)(C,2),E=T[0],P=T[1],I=Object(c.useState)(!0),A=Object(i.a)(I,2),D=A[0],M=A[1],R=Object(c.useState)(2),L=Object(i.a)(R,2),F=L[0],B=L[1],z=Object(c.useState)(!1),U=Object(i.a)(z,2),G=U[0],_=U[1],V=new URLSearchParams(k).get("id"),W=Object(c.useState)(!1),H=Object(i.a)(W,2),q=(H[0],H[1]),J=Object(Oe.b)();Object(c.useEffect)((function(){return X(),$(),function(){m(null),s(null),P(null)}}),[V]);var Z=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(!0),Se(y.auth.tokens.access.token,V).then((function(e){q(!1),J(Me(y.auth.tokens.access.token,1,10)),S.push("/user/inbox/".concat(V))})).catch((function(e){q(!1),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){Y(y.auth.tokens.access.token,V).then((function(e){g(!1),m(e.data),s(e.data.isFollow)})).catch((function(e){g(!1),console.log(e)}))},$=function(){Ge(y.auth.tokens.access.token,V,1,10).then((function(e){g(!1),P(e.data.results),e.data.totalResults||_(!0),M(!0),B(2)})).catch((function(e){console.log(e),g(!1)}))},te=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){Ge(y.auth.tokens.access.token,V,F,10).then((function(t){e(t.data.results)})).catch((function(e){console.log("errPromise",e),t(e)}))}));case 2:t=e.sent,P([].concat(Object(ve.a)(E),Object(ve.a)(t))),(0===t.length||t.length<10)&&M(!1),B(F+1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(p.a,{children:[Object(ee.jsx)("title",{children:"".concat(N.replaceAll("."," ")," | Vn-Social")}),Object(ee.jsx)("meta",{name:"description",content:"Helmet application"})]}),v?Object(ee.jsx)(Vt,{}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(cs,{open:o,onClose:function(){l(!1)}}),Object(ee.jsx)("div",{className:"w-full xl:w-4/6 lg:w-4/6 md:w-full sm:w-full overflow-x-auto overflow-y-hidden shadow-2xl rounded-lg bg-white relative transform -translate-x-1/2 left-1/2",style:{top:"4.5rem"},children:Object(ee.jsxs)("div",{className:"grid grid-cols-3 pb-10",children:[Object(ee.jsx)("div",{className:"h-full flex justify-center justify-items-center",children:Object(ee.jsx)("div",{className:"py-5",children:Object(ee.jsx)("img",{className:"rounded-full h-24 w-24 md:h-44 md:w-44 ",src:j?"https://mxhld.herokuapp.com/v1/image/".concat(null===j||void 0===j?void 0:j.avatar):"/assets/image/defaultAvatar.png",alt:"userimg"})})}),Object(ee.jsxs)("div",{className:"col-span-2  h-full object-fill",children:[Object(ee.jsxs)("div",{className:"flex w-full items-center space-x-4 mt-5",children:[Object(ee.jsx)("h1",{className:"font-sans font-light text-3xl hover:text-blue-500 cursor-pointer",style:{color:"#818181"},children:j?null===j||void 0===j?void 0:j.fullname:Object(ee.jsx)("div",{className:"mt-2",children:Object(ee.jsx)(Ft.a,{width:150,height:20})})}),n?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(dt.b,{to:"/user/inbox/".concat(V),children:Object(ee.jsx)("button",{className:"border-gray-300 font-normal p-1 rounded-sm",style:{borderWidth:"1px"},onClick:function(){Z()},children:"Inbox"})}),Object(ee.jsx)("button",{onClick:function(){s(!n),K(y.auth.tokens.access.token,null===j||void 0===j?void 0:j.id).then((function(){X()})),Q.a.fire({icon:"success",title:"You not follow this user",showConfirmButton:!1,timer:1500})},className:"border-gray-300 font-normal p-1 rounded-sm bg-red-500 text-white",style:{borderWidth:"1px"},children:"UnFollow"})]}):Object(ee.jsx)("button",{onClick:function(){s(!n),K(y.auth.tokens.access.token,null===j||void 0===j?void 0:j.id).then((function(){X()})),Q.a.fire({icon:"success",title:"You following this user",showConfirmButton:!1,timer:1500})},className:"bg-blue-500 p-1 font-normal text-white rounded-sm",children:"Follow"}),Object(ee.jsx)("div",{className:"items-center cursor-pointer relative",children:Object(ee.jsx)("p",{className:"font-black text-2xl mb-2",onClick:function(){l(!o)},children:"..."})})]}),Object(ee.jsx)("div",{children:Object(ee.jsx)(En,{userInfo:j})}),Object(ee.jsx)("div",{className:"h-full",children:Object(ee.jsx)(Pn,{userInfo:j})})]})]})})]}),Object(ee.jsxs)("div",{className:"py-2 w-full xl:w-4/6 lg:w-4/6 md:w-full sm:w-full shadow-2xl rounded-md mt-20 absolute transform -translate-x-1/2 left-1/2",children:[v&&Object(ee.jsx)("div",{className:"grid grid-cols-3 xl:gap-4 gap-2 lg:gap-4 p-2 md:gap-4",children:function(){for(var e=[],t=0;t<3;t++)e=[].concat(Object(ve.a)(e),[Object(ee.jsx)(Ut,{},t)]);return e}()}),(null===E||void 0===E?void 0:E.length)>0&&Object(ee.jsx)(tn.a,{dataLength:null===E||void 0===E?void 0:E.length,next:te,hasMore:D,scrollThreshold:.2,loader:Object(ee.jsx)("div",{className:" flex justify-center mt-5",children:Object(ee.jsx)(nn,{})}),endMessage:Object(ee.jsx)("p",{className:"flex justify-center font-avatar text-lg",children:Object(ee.jsx)("b",{children:"Opp..! You have seen it all"})}),children:Object(ee.jsx)("div",{className:"grid grid-cols-3 xl:gap-4 gap-2 lg:gap-4 p-2 md:gap-4",children:E&&E.map((function(e){return Object(ee.jsx)(Ln,{otherItem:e},e.id)}))})}),G&&Object(ee.jsx)("div",{className:"flex justify-center items-center",children:Object(ee.jsx)("p",{className:"",children:"No post found"})})]})]})},as=n(433),rs=n.n(as),is=n(434),os=n.n(is);function ls(e){var t=e.showSidebar,n=e.setShowSidebar,c=Object(be.a)(["auth"]),s=Object(i.a)(c,3),a=s[0],r=s[2],o=Object(Oe.c)((function(e){return e.auth.data})),l=Object(b.h)().pathname,d=(Object(b.g)(),Object(Oe.b)());return Object(ee.jsx)("nav",{className:"bg-light-blue-500 md:ml-64 py-6 px-3",children:Object(ee.jsxs)("div",{className:"h-1/2 container max-w-full mx-auto flex items-center justify-between md:pr-8 md:pl-10",children:[Object(ee.jsxs)("div",{className:"md:hidden",children:[Object(ee.jsx)(rs.a,{color:"transparent",buttonType:"link",size:"lg",iconOnly:!0,rounded:!0,ripple:"light",onClick:function(){return n("left-0")},children:Object(ee.jsx)(os.a,{name:"menu",size:"2xl",color:"white"})}),Object(ee.jsx)("div",{className:"absolute top-2 md:hidden ".concat("left-0"===t?"left-64":"-left-64"," z-50 transition-all duration-300"),children:Object(ee.jsx)(rs.a,{color:"transparent",buttonType:"link",size:"lg",iconOnly:!0,rounded:!0,ripple:"light",onClick:function(){return n("-left-64")},children:Object(ee.jsx)(os.a,{name:"close",size:"2xl",color:"white"})})})]}),Object(ee.jsxs)("div",{className:"flex justify-between items-center w-full",children:[Object(ee.jsx)("h4",{className:"uppercase text-white text-sm tracking-wider mt-1",children:"/"===l?"User-Dashboard":l.toUpperCase().replace("/","")}),Object(ee.jsxs)("div",{className:"flex items-center",children:[Object(ee.jsxs)("p",{className:" font-avatar text-lg text-white",children:["Hi! ",null===o||void 0===o?void 0:o.adminName]}),Object(ee.jsx)("div",{className:"-mr-4 ml-4",children:Object(ee.jsx)(xc.a,{color:"transparent",buttonText:Object(ee.jsx)("img",{src:"/assets/image/anonymous.jpg",className:"rounded-full w-12 h-12",alt:"img"}),rounded:!0,style:{padding:0,color:"transparent"},children:Object(ee.jsx)(Oc.a,{onClick:function(){!function(){try{d(fe(a.auth.tokens.refresh.token)),r("auth",{path:"/"})}catch(e){console.log(e)}}()},color:"lightBlue",children:"Log out"})})})]})]})]})})}function ds(){var e=Object(be.a)(["auth"]),t=Object(i.a)(e,3),n=t[0],s=t[2],a=Object(c.useState)("-left-64"),r=Object(i.a)(a,2),o=r[0],l=r[1],d=(Object(b.g)(),Object(Oe.b)());return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(ls,{showSidebar:o,setShowSidebar:l}),Object(ee.jsx)("div",{className:"h-screen fixed top-0 md:left-0 ".concat(o," overflow-y-auto flex-row flex-nowrap overflow-hidden shadow-xl bg-white w-64 z-10 py-4 px-6 transition-all duration-300"),children:Object(ee.jsxs)("div",{className:"flex-col items-stretch min-h-full flex-nowrap px-0 relative",children:[Object(ee.jsx)("div",{className:" flex justify-center",children:Object(ee.jsx)("img",{src:"/assets/person/administrator.png",className:"rounded-sm w-20 h-20",alt:"img"})}),Object(ee.jsxs)("div",{className:"flex flex-col",children:[Object(ee.jsx)("hr",{className:"my-4 min-w-full"}),Object(ee.jsxs)("ul",{className:"flex-col min-w-full flex list-none",children:[Object(ee.jsx)("li",{className:"rounded-lg mb-4 ",children:Object(ee.jsxs)(dt.c,{exact:!0,to:"/admin",className:"flex items-center gap-4 text-sm text-gray-700 font-light px-4 py-3 rounded-lg",activeClassName:"bg-gradient-to-tr from-light-blue-500 to-light-blue-700 text-white shadow-md",children:[Object(ee.jsx)("i",{className:"fas fa-2x fa-users"}),"Users"]})}),Object(ee.jsx)("li",{className:"rounded-lg mb-4",children:Object(ee.jsxs)(dt.c,{to:"/admin/post-dashboard",exact:!0,className:"flex items-center gap-4 text-sm text-gray-700 font-light px-4 py-3 rounded-lg",activeClassName:"bg-gradient-to-tr from-light-blue-500 to-light-blue-700 text-white shadow-md",children:[Object(ee.jsx)("i",{className:"fas fa-2x fa-poll-h mr-2"}),"Posts"]})})]}),Object(ee.jsxs)("ul",{className:"flex-col min-w-full flex list-none absolute bottom-0",children:[Object(ee.jsx)("li",{className:" cursor-pointer bg-gradient-to-tr from-light-blue-500 to-light-blue-700 px-4 rounded-lg text-white mb-2",children:Object(ee.jsx)(dt.c,{to:"/admin/admin-changepassword",children:Object(ee.jsxs)("div",{className:"flex items-center gap-4 text-sm font-light py-3",children:[Object(ee.jsx)("i",{className:"fas fa-lock fa-2x"}),"Change Password"]})})}),Object(ee.jsx)("li",{onClick:function(){!function(){try{d(fe(n.auth.tokens.refresh.token)),s("auth",{path:"/"})}catch(e){console.log(e)}}()},className:" cursor-pointer bg-gradient-to-tr from-red-500 to-red-700 px-4 rounded-lg text-white",children:Object(ee.jsx)("div",{className:"flex items-center justify-center gap-4 text-sm font-light py-3",children:"Log Out"})})]})]})]})})]})}n(870);var us=n(389),js=n(986),bs=n(987),ms=n(614),hs=n(391),fs=n.n(hs),xs=n(390),ps=n.n(xs),Os=n(425),vs=n.n(Os),gs=Object(je.a)((function(e){return{root:{},searchForm:{"& > div":{borderRadius:"10px"}},dataGridContainer:{height:380,width:"100%",backgroundColor:"#fff",marginTop:"10px"},avatar:{"&.MuiAvatar-root":{textTransform:"uppercase",width:32,height:32}},activeBox:{"& > button":{textTransform:"unset",fontSize:"12px",borderRadius:"150px",borderWidth:"2px"}},actionBox:{},deleteButton:{},editButton:{}}})),ws=function(e){return A("auth/admin/login","POST",e)},ys=function(e,t){return A("users/".concat(t),"DELETE",null,null,e)},Ns=function(e,t){return A("auth/admin/change-password","PUT",t,null,e)},ks=function(e,t){return A("admin/blockUser/".concat(t),"PUT",null,null,e)},Ss=function(e){return A("post","GET",null,null,e)},Cs=function(e,t){return A("admin/post","DELETE",t,null,e)},Ts=["children","onClose"],Es=Object(ht.a)(ut.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),Ps=function(e){var t=e.children,n=e.onClose,c=Object(m.a)(e,Ts);return Object(ee.jsxs)(pt.a,Object(Z.a)(Object(Z.a)({sx:{m:0,p:2}},c),{},{children:[t,n?Object(ee.jsx)(le.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(ee.jsx)(xt.a,{})}):null]}))},Is=s.a.memo((function(e){var t=e.openDialog,n=e.onClose,s=e.user,a=e.upadateStatus,r=Object(c.useState)(s),l=Object(i.a)(r,2),d=(l[0],l[1]),u=Object(c.useState)(!0),j=Object(i.a)(u,2),b=j[0],m=j[1],h=Object(be.a)(["auth"]),p=Object(i.a)(h,2)[0],O=Object(c.useState)(!1),v=Object(i.a)(O,2),g=v[0],w=v[1];Object(c.useEffect)((function(){return!1===(null===s||void 0===s?void 0:s.isBlocked)?m(!0):m(!1),function(){d(s)}}),[s]);var y=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,ks(p.auth.tokens.access.token,t);case 4:!1===s.isBlocked?(m(!0),n(),Q.a.fire({icon:"success",title:"User have been block",showConfirmButton:!1,timer:1500}),w(!1),a()):(m(!1),n(),Q.a.fire({icon:"success",title:"UnBlock the User",showConfirmButton:!1,timer:1500}),w(!1),a()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),w(!1),Q.a.fire({icon:"error",title:e.t0.response.data.message,showConfirmButton:!1,timer:1500});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsx)("div",{children:Object(ee.jsx)("div",{className:"z-40 fixed",children:Object(ee.jsxs)(Es,{onClose:n,"aria-labelledby":"customized-dialog-title",open:t,fullWidth:!0,maxWidth:"sm",children:[Object(ee.jsx)("div",{className:" z-50",children:g&&Object(ee.jsx)(ce,{})}),Object(ee.jsx)(Ps,{id:"customized-dialog-title",onClose:n,children:Object(ee.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(ee.jsx)(Vc.a,{alt:"Remy Sharp",src:"https://mxhld.herokuapp.com/v1/image/".concat(s.avatar)}),Object(ee.jsx)($.a,{variant:"h6",children:null===s||void 0===s?void 0:s.fullname})]})}),Object(ee.jsx)(vt.a,{dividers:!0,children:Object(ee.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Email",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:s.email}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Confirm Mail",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:s.isEmailVerified}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Phone",disabled:!0,variant:"outlined",sx:{marginBottom:"1rem"},value:s.phone}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Date of birth",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:s.birthday}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Posts",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"}}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Followers",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:s?s.followers:" "}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Followings",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:s?s.following:" "}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"DateCreate",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:s?s.createdAt:""}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Reporers",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:s?s.reporters:""}),Object(ee.jsxs)(nt.a,{component:"fieldset",children:[Object(ee.jsx)(ct.a,{component:"legend",children:"Gender"}),Object(ee.jsxs)(tt.a,{row:!0,"aria-label":"gender",name:"row-radio-buttons-group",defaultValue:s.gender,children:[Object(ee.jsx)(de.a,{value:"female",control:Object(ee.jsx)(et.a,{}),label:"Female",disabled:!0}),Object(ee.jsx)(de.a,{value:"male",control:Object(ee.jsx)(et.a,{}),label:"Male",disabled:!0}),Object(ee.jsx)(de.a,{value:"other",control:Object(ee.jsx)(et.a,{}),label:"Other",disabled:!0})]})]})]})}),Object(ee.jsxs)(wt.a,{children:[Object(ee.jsx)(Ot.a,{autoFocus:!0,variant:"contained",color:b?"warning":"info",onClick:function(){y(s.id)},children:b?"Block":"UnBlock"}),Object(ee.jsx)(Ot.a,{autoFocus:!0,variant:"contained",color:"error",onClick:n,children:"Cancle"})]})]})})})})),As=function(){var e=Object(c.useState)(5),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(i.a)(a,2),l=r[0],d=r[1],u=Object(c.useState)(!0),j=Object(i.a)(u,2),b=j[0],m=j[1],h=Object(c.useState)(""),p=Object(i.a)(h,2),O=p[0],v=p[1],g=Object(c.useState)(null),w=Object(i.a)(g,2),y=w[0],N=w[1],k=Object(be.a)(["auth"]),S=Object(i.a)(k,2)[0],C=Object(c.useState)({}),E=Object(i.a)(C,2),P=E[0],I=E[1],A=Object(c.useState)(7),D=Object(i.a)(A,2),M=D[0],R=(D[1],gs());Object(c.useEffect)((function(){M&&L()}),[O,M]);var L=function(){m(!0),H(S.auth.tokens.access.token,O).then((function(e){N(e.data.results),m(!1)})).catch((function(e){m(!1),console.log(e)}))},F=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed?(m(!0),ys(S.auth.tokens.access.token,t).then((function(e){m(!1),L(),Q.a.fire({icon:"error",title:"User has been Delelelte",showConfirmButton:!1,timer:1500})})).catch((function(e){m(!1),Q.a.fire({icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:1500})}))):Q.a.fire({icon:"warning",title:"Cancle action",showConfirmButton:!1,timer:1500})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(t),d(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(Is,{user:P,openDialog:l,onClose:function(){d(!1)},upadateStatus:L}),Object(ee.jsxs)(Kc.a,{maxWidth:"xl",style:{padding:"1rem"},children:[Object(ee.jsx)(o.a,{children:Object(ee.jsx)(js.a,{variant:"outlined",children:Object(ee.jsx)(bs.a,{children:Object(ee.jsx)(o.a,{sx:{maxWidth:400,minHeight:30},children:Object(ee.jsx)(T.a,{className:R.searchForm,placeholder:"Search...",variant:"outlined",margin:"dense",fullWidth:!0,id:"search-manage-course",name:"search",InputProps:{startAdornment:Object(ee.jsx)(oe.a,{position:"start",children:Object(ee.jsx)(ms.a,{fontSize:"medium",color:"action",children:Object(ee.jsx)(vs.a,{})})})},value:O,onChange:function(e){v(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),L())}})})})})}),Object(ee.jsx)("div",{className:R.dataGridContainer,style:{height:"550px",width:"100%",marginTop:"10px"},children:Object(ee.jsx)(us.a,{columns:[{field:"avatar",headerName:"Avatar",width:120,headerAlign:"center",align:"center",renderCell:function(e){return Object(ee.jsx)(Vc.a,{src:"https://mxhld.herokuapp.com/v1/image/".concat(e.row.avatar),alt:"avatar",className:R.avatar,children:e.row.userId})}},{field:"email",headerName:"Username",minWidth:120,flex:1,headerAlign:"center",align:"center"},{field:"gender",headerName:"Gender",minWidth:60,flex:1,headerAlign:"center",align:"center"},{field:"birthday",headerName:"Dob",minWidth:160,flex:1,headerAlign:"center",align:"center"},{field:"action",headerName:"Action",width:120,flex:1,headerAlign:"center",align:"center",renderCell:function(e){return Object(ee.jsx)(o.a,{className:R.actionBox,children:Object(ee.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[Object(ee.jsx)("div",{className:"cursor-pointer flex items-center justify-center hover:bg-gray-200 hover:shadow rounded-full w-10 h-10",children:Object(ee.jsx)(ps.a,{color:"info",onClick:function(){B(e.row)}})}),Object(ee.jsx)("div",{className:"cursor-pointer flex items-center justify-center mr-5 hover:bg-gray-200 hover:shadow rounded-full w-10 h-10",children:Object(ee.jsx)(fs.a,{className:"cursor-pointer",onClick:function(){F(e.row.id)},color:"error"})})]})})}}],rows:y||[],onPageSizeChange:function(e){return s(e)},pageSize:n,rowsPerPageOptions:[5,10,20],pagination:!0,loading:b})})]})]})},Ds=n(950),Ms=["children","onClose"],Rs=Object(ht.a)(ut.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),Ls=function(e){var t=e.children,n=e.onClose,c=Object(m.a)(e,Ms);return Object(ee.jsxs)(pt.a,Object(Z.a)(Object(Z.a)({sx:{m:0,p:2}},c),{},{children:[t,n?Object(ee.jsx)(le.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(ee.jsx)(xt.a,{})}):null]}))};function Fs(e){var t,n,c=e.openDialog,s=e.onClose,a=e.postInfo;return Object(ee.jsx)("div",{children:Object(ee.jsxs)(Rs,{onClose:s,"aria-labelledby":"customized-dialog-title",open:c,fullWidth:!0,maxWidth:"lg",height:"400px",children:[Object(ee.jsx)(Ls,{id:"customized-dialog-title",onClose:s,children:Object(ee.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(ee.jsx)(Vc.a,{alt:"Remy Sharp",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.avatar)}),Object(ee.jsx)($.a,{variant:"h6",children:null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.fullname})]})}),Object(ee.jsx)(vt.a,{dividers:!0,children:Object(ee.jsxs)(o.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:4},children:[Object(ee.jsx)(o.a,{sx:{display:"flex"},children:Object(ee.jsx)("div",{className:" shadow boder mb-5",children:function(){if(a){if("IMAGE"===(null===a||void 0===a?void 0:a.fileTypes))return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("div",{className:"flex items-center justify-center cursor-pointer",style:{border:"1px solid #efefef"},children:Object(ee.jsx)("img",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===a||void 0===a?void 0:a.file),alt:"userpost",className:"w-full object-cover ",width:"500px",style:{height:"500px"}})})});if("VIDEO"===(null===a||void 0===a?void 0:a.fileTypes))return Object(ee.jsx)("div",{className:"flex items-center justify-center cursor-pointer bg-black ",children:Object(ee.jsx)("video",{className:"w-full outline-none h-full ",controls:!0,children:Object(ee.jsx)("source",{src:"https://mxhld.herokuapp.com/v1/file/".concat(null===a||void 0===a?void 0:a.file)})})});if("AUDIO"===(null===a||void 0===a?void 0:a.fileTypes))return Object(ee.jsx)("div",{className:" items-center justify-center cursor-pointer",children:Object(ee.jsx)("img",{src:"/assets/image/audio.png",className:"h-full p-10",alt:"nocaption"})})}return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("div",{className:" items-center justify-center cursor-pointer",children:Object(ee.jsx)("img",{src:"/assets/image/no-pictures.png",className:"h-full p-10",alt:"nocaption"})})})}()})}),Object(ee.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(ee.jsx)("div",{className:" boder border-2 mb-4",children:Object(ee.jsx)(Ds.a,{"aria-label":"minimum height",minRows:3,placeholder:"Text",style:{width:550,color:"#a5a5a5"},value:(null===a||void 0===a?void 0:a.text)||"",disabled:!0})}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Like",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:null===a||void 0===a?void 0:a.likes}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Comments",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:null===a||void 0===a?void 0:a.comments}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"DateCreate",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:null===a||void 0===a?void 0:a.createdAt}),Object(ee.jsx)(T.a,{id:"outlined-basic",label:"Reporers",variant:"outlined",disabled:!0,sx:{marginBottom:"1rem"},value:null===a||void 0===a?void 0:a.reporters})]})]})})]})})}var Bs=function(){var e=Object(c.useState)(5),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(i.a)(a,2),l=r[0],d=r[1],u=Object(be.a)(["auth"]),j=Object(i.a)(u,2)[0],b=gs(),m=Object(c.useState)(!0),h=Object(i.a)(m,2),p=h[0],O=h[1],v=Object(c.useState)(null),g=Object(i.a)(v,2),w=g[0],y=g[1],N=Object(c.useState)({}),k=Object(i.a)(N,2),S=k[0],C=k[1];Object(c.useEffect)((function(){T()}),[]);var T=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),Ss(j.auth.tokens.access.token).then((function(e){y(e.data.results),O(!1)})).catch((function(e){O(!1),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(t),d(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Post",t),Q.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed?(O(!0),Cs(j.auth.tokens.access.token,{postId:t}).then((function(e){O(!1),T(),Q.a.fire({icon:"error",title:"Post has been Delelelte",showConfirmButton:!1,timer:1500})})).catch((function(e){O(!1),Q.a.fire({icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:1500})}))):Q.a.fire({icon:"warning",title:"Cancle action",showConfirmButton:!1,timer:1500})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(Fs,{postInfo:S,openDialog:l,onClose:function(){d(!1)}}),Object(ee.jsx)(Kc.a,{maxWidth:"xl",style:{padding:"1rem"},children:Object(ee.jsx)("div",{className:b.dataGridContainer,style:{height:"550px",width:"100%",marginTop:"10px"},children:Object(ee.jsx)(us.a,{columns:[{field:"id",headerName:"ID",width:90,headerAlign:"center",align:"center"},{field:"avatar",headerName:"Avatar",width:120,headerAlign:"center",align:"center",renderCell:function(e){return Object(ee.jsx)(Vc.a,{src:"https://mxhld.herokuapp.com/v1/image/".concat(e.row.user.avatar),alt:"avatar",className:b.avatar})}},{field:"fullname",headerName:"Username",minWidth:120,flex:1,headerAlign:"center",align:"center",renderCell:function(e){return Object(ee.jsx)(ee.Fragment,{children:e.row.user.fullname})}},{field:"likes",headerName:"Like",minWidth:60,flex:1,headerAlign:"center",align:"center",renderCell:function(e){return Object(ee.jsx)(ee.Fragment,{children:e.row.likes})}},{field:"commnents",headerName:"Comments",minWidth:60,flex:1,headerAlign:"center",align:"center",renderCell:function(e){return Object(ee.jsx)(ee.Fragment,{children:e.row.comments})}},{field:"createAt",headerName:"Date Create",minWidth:160,flex:1,headerAlign:"center",align:"center",renderCell:function(e){return Object(ee.jsx)(ee.Fragment,{children:e.row.createdAt})}},{field:"action",headerName:"Action",width:120,flex:1,headerAlign:"center",align:"center",renderCell:function(e){return Object(ee.jsx)(o.a,{className:b.actionBox,children:Object(ee.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[Object(ee.jsx)("div",{className:"cursor-pointer flex items-center justify-center hover:bg-gray-200 hover:shadow rounded-full w-10 h-10",children:Object(ee.jsx)(ps.a,{color:"info",onClick:function(){E(e.row)}})}),Object(ee.jsx)("div",{className:"cursor-pointer flex items-center justify-center mr-5 hover:bg-gray-200 hover:shadow rounded-full w-10 h-10",children:Object(ee.jsx)(fs.a,{className:"cursor-pointer",onClick:function(){P(e.row.id)},color:"error"})})]})})}}],rows:w||[],onPageSizeChange:function(e){return s(e)},pageSize:n,rowsPerPageOptions:[5,10,20],pagination:!0,loading:p})})})]})},zs=n(599),Us=n.n(zs),Gs=n(600),_s=n.n(Gs),Vs=n(601),Ws=n.n(Vs),Hs=n(602),Ys=n.n(Hs),qs=function(){return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("th",{className:"border-b border-gray-200 align-middle font-light text-sm whitespace-nowrap px-2 py-4 text-left",children:Object(ee.jsx)("div",{className:" space-x-2 w-10 h-10 rounded-full border-2 border-white flex items-center",children:"1"})}),Object(ee.jsx)("th",{className:"border-b border-gray-200 align-middle font-light text-sm whitespace-nowrap px-2 py-4 text-left",children:"20"}),Object(ee.jsx)("th",{className:"border-b border-gray-200 align-middle font-light text-sm whitespace-nowrap px-2 py-4 text-left",children:"07/02/2000"}),Object(ee.jsx)("th",{className:"border-b border-gray-200 align-middle font-light text-sm whitespace-nowrap px-2 py-4 text-left",children:Object(ee.jsxs)(xc.a,{buttonText:Object(ee.jsx)("i",{className:"far fa-edit color text-white"}),size:"regular",rounded:!0,block:!1,ripple:"light",children:[Object(ee.jsx)(Oc.a,{color:"lightBlue",children:"Edit"}),Object(ee.jsx)(Oc.a,{color:"lightBlue",children:"Delete"})]})})]})})},Ks=function(){return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("th",{className:"px-2 text-purple-500 align-middle border-b border-solid border-gray-200 py-3 text-sm whitespace-nowrap font-light text-left",children:"Id"}),Object(ee.jsx)("th",{className:"px-2 text-purple-500 align-middle border-b border-solid border-gray-200 py-3 text-sm whitespace-nowrap font-light text-left",children:"User"}),Object(ee.jsx)("th",{className:"px-2 text-purple-500 align-middle border-b border-solid border-gray-200 py-3 text-sm whitespace-nowrap font-light text-left",children:"Date"}),Object(ee.jsx)("th",{className:"px-2 text-purple-500 align-middle border-b border-solid border-gray-200 py-3 text-sm whitespace-nowrap font-light text-left",children:"Action"})]})})},Js=function(){return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("div",{className:"bg-white-500 pt-20 pb-28 px-3 md:px-8 h-auto",children:Object(ee.jsx)("div",{className:"container mx-auto max-w-full",children:Object(ee.jsx)("div",{className:"grid grid-cols-1 px-4 mb-16",children:Object(ee.jsxs)(Us.a,{children:[Object(ee.jsx)(_s.a,{color:"purple",contentPosition:"right",children:Object(ee.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(ee.jsx)("h2",{className:"text-white text-2xl",children:"100 result"}),Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(Ys.a,{placeholder:"Search"})})]})}),Object(ee.jsx)(Ws.a,{children:Object(ee.jsx)("div",{className:"overflow-x-auto",children:Object(ee.jsxs)("table",{className:"items-center w-full bg-transparent border-collapse",children:[Object(ee.jsx)("thead",{children:Object(ee.jsx)(Ks,{})}),Object(ee.jsxs)("tbody",{children:[Object(ee.jsx)(qs,{}),Object(ee.jsx)(qs,{}),Object(ee.jsx)(qs,{}),Object(ee.jsx)(qs,{}),Object(ee.jsx)(qs,{})]})]})})})]})})})})})},Qs=["errors","touched"],Zs=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(be.a)("auth"),r=Object(i.a)(a,2)[0],o=Object(c.useState)({oldpassword:!1,password:!1,confirm:!1}),l=Object(i.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)({oldpassword:!1,password:!1,confirm:!1}),b=Object(i.a)(j,2),h=b[0],p=b[1],v=function(){var e=Object(x.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,Ns(r.auth.tokens.access.token,{oldPassword:t.oldpassword,password:t.password});case 4:s(!1),n.setSubmitting(!0),Q.a.fire({icon:"success",title:"Successfully",showConfirmButton:!1,timer:1500}),n.resetForm(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),s(!1),Q.a.fire({icon:"error",title:e.t0.response.data.message,showConfirmButton:!1,timer:1500});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"bg-white-500 pt-20 pb-28 px-3 md:px-8 h-auto",children:[n&&Object(ee.jsx)(ce,{}),Object(ee.jsx)("div",{className:"container mx-auto max-w-full",children:Object(ee.jsx)("div",{className:"grid grid-cols-1 px-4 mb-16",children:Object(ee.jsx)(O.d,{initialValues:{oldpassword:"",password:"",confirm:""},validationSchema:S,onSubmit:v,children:function(e){var t=e.errors,n=(e.touched,Object(m.a)(e,Qs));return Object(ee.jsxs)(O.c,{children:[Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"oldpassword",error:t.oldpassword,type:d.oldpassword?"text":"password",label:"Old Password",variant:"outlined",onFocus:function(){p(Object(Z.a)(Object(Z.a)({},h),{},{password:!0}))},helperText:Object(ee.jsx)(O.a,{name:"oldpassword",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){u(Object(Z.a)(Object(Z.a)({},d),{},{oldpassword:!d.oldpassword}))},children:d.oldpassword?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}})}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"password",error:t.password,type:d.password?"text":"password",label:"Password",variant:"outlined",onFocus:function(){p(Object(Z.a)(Object(Z.a)({},h),{},{password:!0}))},helperText:Object(ee.jsx)(O.a,{name:"password",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){u(Object(Z.a)(Object(Z.a)({},d),{},{password:!d.password}))},children:d.password?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}})}),Object(ee.jsx)("div",{className:"customDate",children:Object(ee.jsx)(O.b,{as:T.a,name:"confirm",type:d.confirm?"text":"password",error:t.confirm,label:"Confirm Password",variant:"outlined",helperText:Object(ee.jsx)(O.a,{name:"confirm",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){u(Object(Z.a)(Object(Z.a)({},d),{},{confirm:!d.confirm}))},children:d.confirm?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}})})]}),Object(ee.jsxs)("div",{className:"flex justify-end items-center space-x-2 mt-2",children:[Object(ee.jsx)(Ot.a,{variant:"contained",color:"success",type:"submit",disabled:n.isSubmitting,children:n.isSubmitting?"Saving...":"Save"}),Object(ee.jsx)(Ot.a,{variant:"outlined",color:"error",className:" bg-red-600",onClick:function(){return function(e){e.resetForm()}(n)},children:"Cancel"})]})]})}})})})]})})},Xs=function(){return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(ds,{}),Object(ee.jsx)("div",{className:"md:ml-64",children:Object(ee.jsxs)(b.d,{children:[Object(ee.jsx)(b.b,{exact:!0,path:"/admin",component:As}),Object(ee.jsx)(b.b,{path:"/admin/post-dashboard",component:Bs}),Object(ee.jsx)(b.b,{path:"/admin/groupchat-dashboard",component:Js}),Object(ee.jsx)(b.b,{path:"/admin/admin-changePassword",component:Zs}),Object(ee.jsx)(b.a,{from:"*",to:"/admin"})]})})]})},$s=["errors","touched"],ea=Object(je.a)((function(){return{label:{fontSize:"20px",color:"#f70714",fontWeight:"700"}}})),ta=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),s=n[0],a=n[1],r=Object(be.a)(["tokens","rm_pswAdmin"]),o=Object(i.a)(r,3),l=o[0],d=o[1],u=o[2],j=Object(c.useState)(!1),b=Object(i.a)(j,2),h=b[0],p=b[1],v=l.rm_pswAdmin||{adminName:"",password:""},g=Object(c.useState)(!1),w=Object(i.a)(g,2),y=w[0],k=w[1],S=ea(),C=Object(Oe.b)();Object(c.useEffect)((function(){k(!!l.rm_pswAdmin)}),[]);var E=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),y?d("rm_pswAdmin",t):u("rm_pswAdmin"),e.prev=2,e.next=5,ws(t);case 5:n=e.sent,C(pe(n.data.user)),p(!1),d("auth",n.data,{path:"/"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),p(!1),Q.a.fire({icon:"error",title:e.t0.response.data.message,showConfirmButton:!1,timer:1500});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:" z-50",children:h&&Object(ee.jsx)(ce,{})}),Object(ee.jsx)("div",{className:" post-show fixed w-full h-screen opacity-70 bg-transparent z-20 top-0 left-0 flex justify-end items-start ",style:{background:"#575757"}}),Object(ee.jsx)("div",{className:" rounded-md shadow-xl bg-white fixed z-40 transform -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2",style:{width:"400px",height:"350px"},children:Object(ee.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(ee.jsxs)("div",{className:"flex justify-center items-center justify-items-center",children:[Object(ee.jsx)("p",{className:" font-avatar text-2xl p-5",children:"Vn-Social"}),Object(ee.jsx)("div",{className:" absolute right-0 top-1"})]}),Object(ee.jsx)("div",{className:"flex justify-center items-center justify-items-center mt-5",children:Object(ee.jsx)(O.d,{initialValues:v,validationSchema:N,onSubmit:E,children:function(e){var t=e.errors,n=(e.touched,Object(m.a)(e,$s));return Object(ee.jsxs)(O.c,{children:[Object(ee.jsxs)("div",{className:"mt-2  w-72",children:[Object(ee.jsx)(O.b,{as:T.a,fullWidth:!0,name:"adminName",error:!!t.adminName,type:"text",label:"Username",variant:"outlined",helperText:Object(ee.jsx)(O.a,{name:"adminName",children:function(e){return Object(ee.jsx)("span",{style:{color:"red"},children:e})}})}),Object(ee.jsx)("div",{className:"mt-2"}),Object(ee.jsx)(O.b,{as:T.a,fullWidth:!0,name:"password",type:s?"text":"password",error:!!t.password,label:"Password",variant:"outlined",helperText:Object(ee.jsx)(O.a,{name:"password",children:function(e){return Object(ee.jsx)("span",{style:{color:"red",display:"absolute"},children:e})}}),InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(le.a,{"aria-label":"toggle password visibility",onClick:function(){a(!s)},children:s?Object(ee.jsx)(re.a,{}):Object(ee.jsx)(ie.a,{})})})}})]}),Object(ee.jsx)(de.a,{className:S.label,name:"savePasswordAdmin",control:Object(ee.jsx)(ue.a,{defaultChecked:!!l.rm_pswAdmin}),onChange:function(e){k(e.target.checked)},label:Object(ee.jsx)("span",{className:" text-red-500 font-bold text-md",children:"Ghi nh\u1edb m\u1eadt kh\u1ea9u"}),labelPlacement:"end"}),Object(ee.jsx)(Ot.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mb:2},disabled:n.isSubmitting,children:n.isSubmitting?"Login...":"Login"})]})}})})]})})]})},na=function(){return Object(ee.jsx)("div",{children:Object(ee.jsx)(ta,{})})},ca=function(e){var t=e.item,n=(e.updateStatus,e.callListApi),s=e.q,a=Object(c.useState)(),r=Object(i.a)(a,2),o=(r[0],r[1]),l=Object(be.a)(["auth"]),d=Object(i.a)(l,2)[0],u=Object(b.g)(),j=Object(Oe.b)(),m=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(d.auth.tokens.access.token,t.id);case 3:o(!0),n(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err follow",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Se(d.auth.tokens.access.token,t.id).then((function(){j(Me(d.auth.tokens.access.token,1,10)),u.push("/user/inbox/".concat(t.id))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:" border w-full hover:shadow-none relative flex items-center rounded-md mx-auto shadow-lg m-2",children:[Object(ee.jsxs)("div",{className:"w-full flex m-3 ml-4 text-white ",children:[Object(ee.jsx)("img",{className:"w-16 h-16 p-1 bg-white rounded-full",src:"https://mxhld.herokuapp.com/v1/image/".concat(null===t||void 0===t?void 0:t.avatar),alt:""}),Object(ee.jsxs)("div",{className:" mt-1 ml-3 font-bold flex flex-col",children:[Object(ee.jsx)("div",{className:" text-black font-medium text-base",children:Object(ee.jsxs)(dt.b,{to:(null===t||void 0===t?void 0:t.id)===d.auth.user.id?"/user/".concat(null===t||void 0===t?void 0:t.fullname.replaceAll(" ",".")):"/profile/user?id=".concat(null===t||void 0===t?void 0:t.id),children:[null===t||void 0===t?void 0:t.fullname," "]})}),Object(ee.jsxs)("div",{className:"text-mygrey font-normal text-xs italic",children:[(null===t||void 0===t?void 0:t.isFollow)?Object(ee.jsxs)("div",{className:" text-base flex items-center gap-2",children:[Object(ee.jsx)("i",{className:"fas fa-check-circle text-blue-400"}),"Following"]}):null,Object(ee.jsx)("br",{})]}),Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsx)("i",{className:"fas fa-user-friends text-mygrey mr-1 "}),Object(ee.jsx)("span",{className:" font-normal text-mygrey",children:null===t||void 0===t?void 0:t.followers})]})]})]}),(null===t||void 0===t?void 0:t.id)!==d.auth.user.id&&Object(ee.jsx)("div",{className:"flex font-boldtext-xs space-x-0 mr-3",children:Object(ee.jsx)("div",{className:"h-8 w-8 flex items-center justify-center border rounded-full bg-gray-200 border-gray-300  cursor-pointer hover:bg-gray-300",children:(null===t||void 0===t?void 0:t.isFollow)?Object(ee.jsx)("i",{onClick:function(){return h()},className:" fab fa-lg fa-facebook-messenger text-black"}):Object(ee.jsx)("i",{className:"fas fa-user-plus",onClick:function(){return m()}})})})]})})},sa=function(){var e=Object(c.useState)([""]),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!0),r=Object(i.a)(a,2),o=r[0],l=r[1],d=Object(c.useState)(2),u=Object(i.a)(d,2),j=u[0],m=u[1],h=Object(c.useState)(!0),p=Object(i.a)(h,2),O=p[0],v=p[1],g=Object(b.h)().search,w=Object(be.a)("auth"),y=Object(i.a)(w,2)[0],N=Object(c.useState)(7),k=Object(i.a)(N,2),S=k[0],C=k[1],T=Object(c.useState)(!1),E=Object(i.a)(T,2),P=E[0],I=E[1],A=new URLSearchParams(g).get("q");Object(c.useEffect)((function(){return S&&D(A),function(){s(null)}}),[g,S]);var D=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(y.auth.tokens.access.token,t,1,5).then((function(e){s(e.data.results),e.data.totalResults||I(!0),v(!1),l(!0),m(2)})).catch((function(e){console.log(e),v(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=new URLSearchParams(g).get("q");return new Promise((function(t,n){q(y.auth.tokens.access.token,e,j,5).then((function(e){t(e.data.results)})).catch((function(e){console.log("errPromise",e),n(e)}))}))},R=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,s([].concat(Object(ve.a)(n),Object(ve.a)(t))),(0===t.length||t.length<5)&&l(!1),m(j+1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)("div",{className:"  mt-14 bg-white md:col-span-2 mb-10 px-5 ",children:Object(ee.jsx)("div",{className:"flex",children:Object(ee.jsxs)("div",{className:"grid grid-cols-1 w-full ",children:[O&&function(){for(var e=[],t=0;t<=10;t++)e=[].concat(Object(ve.a)(e),[Object(ee.jsx)(Bt,{},t)]);return e}(),(null===n||void 0===n?void 0:n.length)>0&&Object(ee.jsx)(tn.a,{dataLength:null===n||void 0===n?void 0:n.length,next:R,hasMore:o,loader:Object(ee.jsx)("div",{className:" flex justify-center",children:Object(ee.jsx)(nn,{})}),endMessage:Object(ee.jsx)("p",{className:"flex justify-center font-avatar text-lg",children:Object(ee.jsx)("b",{children:"Opp..! You have seen it all"})}),children:n&&n.map((function(e,t){return Object(ee.jsx)("div",{children:Object(ee.jsx)(ca,{item:e,updateStatus:C,callListApi:D,q:A})},t)}))}),P&&Object(ee.jsx)("div",{className:"flex w-full justify-center",children:Object(ee.jsx)("p",{className:" font-normal ",children:"Not find Result"})})]})})})},aa=function(){return Object(ee.jsx)(dt.a,{children:Object(ee.jsxs)(b.d,{children:[Object(ee.jsx)(b.b,{path:"/",exact:!0,children:Object(ee.jsx)(b.a,{to:"/login"})}),Object(ee.jsx)(b.b,{path:"/send-email",exact:!0,component:Zn}),Object(ee.jsx)(b.b,{path:"/verifying-email",exact:!0,component:Qn}),Object(ee.jsx)(b.b,{path:"/recover-password",exact:!0,component:es}),Object(ee.jsx)(b.b,{path:"/change-password",exact:!0,component:es}),Object(ee.jsx)(b.b,{path:"/404",component:Wn}),Object(ee.jsx)(Jn,{path:"/user",children:Object(ee.jsx)(_n,{children:Object(ee.jsxs)(b.d,{children:[Object(ee.jsx)(b.b,{path:"/user/home",exact:!0,component:Tn}),Object(ee.jsx)(b.b,{path:"/user/inbox/:userId",exact:!0,component:_c}),Object(ee.jsx)(b.b,{path:"/user/inbox",exact:!0,component:_c}),Object(ee.jsx)(b.b,{path:"/user/:userName",exact:!0,component:Fn}),Object(ee.jsx)(b.b,{path:"/user/setting/:userName",exact:!0,component:lc}),Object(ee.jsx)(b.b,{path:"*",exact:!0,children:Object(ee.jsx)(b.a,{to:"/404"})})]})})}),Object(ee.jsx)(Jn,{path:"/profile",children:Object(ee.jsx)(_n,{children:Object(ee.jsxs)(b.d,{children:[Object(ee.jsx)(b.b,{path:"/profile/:username",exact:!0,component:ss}),Object(ee.jsx)(b.b,{path:"*",exact:!0,children:Object(ee.jsx)(b.a,{to:"/404"})})]})})}),Object(ee.jsx)(Jn,{path:"/search",children:Object(ee.jsx)(Vn,{children:Object(ee.jsxs)(b.d,{children:[Object(ee.jsx)(b.b,{path:"/search/top",exact:!0,component:sa}),Object(ee.jsx)(b.b,{path:"*",exact:!0,children:Object(ee.jsx)(b.a,{to:"/404"})})]})})}),Object(ee.jsx)(Yn,{path:"/admin",children:Object(ee.jsxs)(b.d,{children:[Object(ee.jsx)(b.b,{path:"/admin",component:Xs}),Object(ee.jsx)(b.b,{path:"*",exact:!0,children:Object(ee.jsx)(b.a,{to:"/404"})})]})}),Object(ee.jsx)(ns,{children:Object(ee.jsxs)(b.d,{children:[Object(ee.jsx)(b.b,{path:"/auth",exact:!0,component:na}),Object(ee.jsx)(b.b,{path:"/login",exact:!0,component:lt}),Object(ee.jsx)(b.b,{path:"/signup",exact:!0,component:lt}),Object(ee.jsx)(b.b,{path:"/forgotpassword",exact:!0,component:lt}),Object(ee.jsx)(b.b,{path:"*",exact:!0,children:Object(ee.jsx)(b.a,{to:"/404"})})]})}),Object(ee.jsx)(b.b,{path:"*",exact:!0,children:Object(ee.jsx)(b.a,{to:"/404"})})]})})},ra=function(){return Object(c.useEffect)((function(){var e="color: #1473e6; font-size: 14px; font-weight: bold; ";setTimeout(console.log.bind(console,"%c\n(\u261e\uff9f\u30ee\uff9f)\u261e \ud83d\udca2 This is a browser feature intended for developers \u2757\u2757 \u261c(\uff9f\u30ee\uff9f\u261c)\n","color: #d32f2f; font-size: 14px; font-weight: bold; "),0),setTimeout(console.log.bind(console,"%cVN-SOCIAL \ud83d\ude80","color: rgb(240,81,35);\n    font-size: 60px;\n    font-weight: bold;\n    text-shadow: 1px 1px 5px rgb(240,81,35);"),0),setTimeout(console.log.bind(console,"%c\nHello! \ud83d\ude4b\u200d\u2642\ufe0f \xbb\xbb\u2014\u2014\u2014\u2014-\u3000\u2605 Welcome to VN-SOCIAL website \u2605\u3000\u2014\u2014\u2014\u2014-\xab\xab\n",e),0),setTimeout(console.log.bind(console,"%c\ud83d\udc49 Want to work with us?\n\nCheck out \ud83d\udc68\u200d\ud83d\udcbb https://www.facebook.com/DerrickVo72/ \ud83c\udf0d\n\nCheck out \ud83d\udc68\u200d\ud83d\udcbb https://www.facebook.com/profile.php?id=100008321344928 \ud83d\udc96\n",e),0)}),[]),Object(ee.jsx)(aa,{})},ia=(n(871),n(178)),oa=n(307),la=n.n(oa),da=n(308),ua=n.n(da),ja={key:"root",storage:la.a,stateReconciler:ua.a,blackList:["auth"]},ba={key:"auth",storage:la.a,stateReconciler:ua.a,whiteList:["auth"]},ma={key:"conver",storage:la.a,stateReconciler:ua.a,whiteList:["conver"]},ha={key:"message",storage:la.a,stateReconciler:ua.a,whiteList:["message"]},fa=Object(ia.b)({auth:Object(Ie.a)(ba,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;Object(m.a)(t,me);switch(n){case"LOGIN_REQUEST":return e.data=null,e.error=null,Object(Z.a)({},e);case"LOGIN_SUCCESS":return e.data=c,e.error=null,Object(Z.a)({},e);case"LOGIN_FAILED":return e.data=null,e.error=c,Object(Z.a)({},e);case"LOG_OUT":return e.data=null,e.error=null,Object(Z.a)({},e);case"UPDATE_USER":return e.data=c,Object(Z.a)({},e);default:return Object(Z.a)({},e)}})),myconver:Object(Ie.a)(ma,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;Object(m.a)(t,Ae);switch(n){case"GET_SUCCES_CONVER":return e.data=c.results,e.next=[],e.pageNext=2,e.totalPages=c.totalPages,e.totalResults=c.totalResults,e.error=null,e.pageNext>e.totalPages?e.more=!1:e.more=!0,Object(Z.a)({},e);case"ADD_MORE":return e.next=c.results,e.pageNext>e.totalPages?e.more=!1:(e.data=[].concat(Object(ve.a)(e.data),Object(ve.a)(e.next)),e.pageNext=e.pageNext+1,e.more=!0),Object(Z.a)({},e);case"LOG_OUT_CONVER":return e.data=[],e.next=[],e.pageNext=0,e.totalPages=0,e.totalResults=0,e.error=null,e.more=!0,Object(Z.a)({},e);case"GET_FAIL":return e.data=[],Object(Z.a)({},e);default:return Object(Z.a)({},e)}})),messConver:Object(Ie.a)(ha,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;Object(m.a)(t,yn);switch(n){case"GET_MESSAGE":return e.data=c.results.reverse(),e.total=c.totalResults,e.error=null,Object(Z.a)({},e);case"ADD_MESSAGE":return e.data=[].concat(Object(ve.a)(e.data),[Object(Z.a)({},c)]),Object(Z.a)({},e);case"RECALL_MESSAGE":var s=e.data.length;return s>c.index&&(e.data[c.index]={content:null,incomming:!0,conversationId:c.value.conversationId,createdAt:c.value.createdAt,id:c.value.id,sender:c.value.sender,typeMessage:"RECALL"}),Object(Z.a)({},e);case"LOG_OUT_MESSAGE":return e.data=[],e.total=0,e.error=null,Object(Z.a)({},e);default:return Object(Z.a)({},e)}})),dialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case fn:return{show:c};default:return Object(Z.a)({},e)}},changePost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case Nt:return{showChange:c,showAction:!0,data:null};case kt:return{showChange:!1,showAction:c,data:null};case St:return{showChange:!1,showAction:c.show,data:c.data};case Ct:return{showChange:!1,showAction:!1,data:null};default:return Object(Z.a)({},e)}}}),xa=Object(Ie.a)(ja,fa),pa=n(603),Oa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ia.c,va=Object(ia.d)(xa,Oa(Object(ia.a)(pa.a)));Object(Ie.b)(va);r.a.render(Object(ee.jsx)(s.a.StrictMode,{children:Object(ee.jsx)(p.b,{children:Object(ee.jsx)(Oe.a,{store:va,children:Object(ee.jsx)(ra,{})})})}),document.getElementById("root"))}},[[875,1,2]]]);
//# sourceMappingURL=main.9cc29765.chunk.js.map