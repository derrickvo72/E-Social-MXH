
conver file url 
 // setUserImage(window.URL.createObjectURL(event.target.files[0]));
    // setUserImage(
    //   (window.URL || window.webkitURL).createObjectURL(event.target.files[0])
    // );



  const handleSendEmotion = async (emotion) => {
    //Base64 String -> Blob -> File
    getBase64FromUrl(emotion).then((rs) => {
      const contentType = "image/png";
      const blob = base64StringToBlob(rs, contentType);
      // let fileX = new File([blob], "File name", { type: "image/png" });
      let formData = new FormData();
      formData.append(
        "file",
        new File([blob], "Emotion", { type: "image/png" })
      );
      formData.append("conversationId", messData);
      console.log("duoi", formData.get("file"));
      console.log("duoi2", formData.get("conversationId"));
      // console.log(formData);
      chatApi
        .createMessMedia(cookies.auth.tokens.access.token, formData, getProcess)
        .then((rs) => {
          const data = rs.data;
          setMessages({
            ...messages,
            content: data?.content,
            conversationId: messData,
            incomming: false,
            createdAt: Date.now(),
            id: data?.id,
            sender: cookies.auth.user.id,
            typeMessage: data?.typeMessage,
          });
          console.log("Here");
        })
        .catch((err) => {
          console.log(err);
        });
    });
  };



    const handleSendEmotion = async (emotion) => {
    //Base64 String -> Blob -> File
    getBase64FromUrl(emotion).then((rs) => {
      const contentType = "image/png";
      const blob = base64StringToBlob(rs, contentType);
      // let fileX = new File([blob], "File name", { type: "image/png" });
      let formData = new FormData();
      formData.append(
        "file",
        new File([blob], "Emotion", { type: "image/png" })
      );
      formData.append("conversationId", messData);
      console.log("duoi", formData.get("file"));
      console.log("duoi2", formData.get("conversationId"));
      // console.log(formData);
      chatApi
        .createMessMedia(cookies.auth.tokens.access.token, formData, getProcess)
        .then((rs) => {
          const data = rs.data;
          setMessages({
            ...messages,
            content: data?.content,
            conversationId: messData,
            incomming: false,
            createdAt: Date.now(),
            id: data?.id,
            sender: cookies.auth.user.id,
            typeMessage: data?.typeMessage,
          });
          console.log("Here");
        })
        .catch((err) => {
          console.log(err);
        });
    });
  };

    const getBase64FromUrl = async (url) => {
    const data = await fetch(url);
    const blob = await data.blob();
    return new Promise((resolve) => {
      const reader = new FileReader();
      reader.readAsDataURL(blob);
      reader.onloadend = () => {
        const base64data = reader.result;
        resolve(base64data.replace("data:image/png;base64,", ""));
      };
    });
  };